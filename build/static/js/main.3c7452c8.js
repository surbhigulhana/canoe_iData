/*! For license information please see main.3c7452c8.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ee=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){_e?Ee?Ee.push(e):Ee=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ee;if(Ee=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ee)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var je={};Object.defineProperty(je,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(le){Pe=!1}function Oe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,a,o,s,u){Le=!1,Me=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,Et,It,St=!1,Tt=[],Ct=null,Nt=null,At=null,Dt=new Map,Rt=new Map,Pt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return En}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),Pn=[9,13,27,32],jn=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Ln=l&&"TextEvent"in window&&!On,Mn=l&&(!jn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Wn(t,Hn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Er={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return _r[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var jr=Dr[Pr];Rr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Sr:case Tr:case Cr:u=yn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Kn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ei(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Si(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ni=Ei(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ci)}function ji(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Si(Ci,e)):Ii(Ni),Si(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Ei(null),Gi=null,Hi=null,Qi=null;function Yi(){Qi=Hi=Gi=null}function $i(e){var t=Wi.current;Ii(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:ta=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Pu|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xu(),i=Ju(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zu(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xu(),r=Ju(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zu(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Ri(t)?Ai:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Ea=1,Ia="";function Sa(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Ea;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ea=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Ea=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Sa(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Ea=wa[--xa],wa[xa]=null}var Aa=null,Da=null,Ra=!1,Pa=null;function ja(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Da=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Da=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ea,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Da=null,!0);default:return!1}}function La(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ma(e){if(Ra){var t=Da;if(t){var n=t;if(!Oa(e,t)){if(La(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&Oa(e,t)?ja(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Aa=e)}}else{if(La(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Aa=e}}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ua(e){if(e!==Aa)return!1;if(!Ra)return Fa(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Da)){if(La(e)){for(e=Da;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)ja(e,t),t=ci(t.nextSibling)}if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Da=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Da=null}}else Da=Aa?ci(e.stateNode.nextSibling):null;return!0}function Va(){Da=Aa=null,Ra=!1}function Ba(e){null===Pa?Pa=[e]:Pa.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ka(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=jc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=Mc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=jc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),Ra&&Sa(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ra&&Sa(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Ra&&Sa(i,v),c}function m(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Ra&&Sa(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return Ra&&Sa(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Ra&&Sa(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=jc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Pc(o.type,o.key,o.props,null,r.mode,u)).ref=za(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Mc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ga=Wa(!0),Ha=Wa(!1),Qa={},Ya=Ei(Qa),$a=Ei(Qa),Xa=Ei(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Si(Xa,t),Si($a,e),Si(Ya,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ya),Si(Ya,t)}function eo(){Ii(Ya),Ii($a),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja(Ya.current),n=ue(t,e.type);t!==n&&(Si($a,e),Si(Ya,n))}function no(e){$a.current===e&&(Ii(Ya),Ii($a))}var ro=Ei(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Eo(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,lo.lanes|=f,Pu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Pu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ws=!0),r=r.queue,Uo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,jo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Su)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Zu(e,1,-1)}function Do(e,t,n){return n((function(){Ro(t)&&Zu(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return _o().memoizedState}function Lo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Mo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}lo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Fo(e,t){return Lo(8390656,8,e,t)}function Uo(e,t){return Mo(2048,8,e,t)}function Vo(e,t){return Mo(4,2,e,t)}function Bo(e,t){return Mo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4,4,zo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Pu|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{kt=n,uo.transition=r}}function Yo(){return _o().memoizedState}function $o(e,t,n){var r=Ju(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(es(e,t,n),null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r))}function Xo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{es(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o))return}catch(u){}null!==(e=Zu(e,r,n=Xu()))&&ts(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ns={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Su)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Do.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Su.identifierPrefix;if(Ra){var n=Ia;t=":"+t+"R"+(n=(Ea&~(1<<32-ot(Ea)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:Io,useRef:Oo,useState:function(){return Io(Eo)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1},as={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:Bo,useMemo:Go,useReducer:So,useRef:Oo,useState:function(){return So(Eo)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[So(Eo)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,zu=r),ss(0,t)},n}function ds(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ss(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ps(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ys(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ks(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(t),null;case 1:case 17:return Ri(t.type)&&Pi(),gs(t),null;case 3:return r=t.stateNode,eo(),Ii(Ni),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Pa&&(ac(Pa),Pa=null))),gs(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gs(t),null}if(e=Ja(Ya.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,us(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gs(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja(Ya.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gs(t),null;case 13:if(Ii(ro),r=t.memoizedState,Ra&&null!==Da&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Da;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gs(t),null}return null!==Pa&&(ac(Pa),Pa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Du&&(Du=3):pc())),null!==t.updateQueue&&(t.flags|=4),gs(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),gs(t),null;case 10:return $i(t.type._context),gs(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ys(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,ys(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Uu&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ys(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Ra)return gs(t),null}else 2*Xe()-o.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,ys(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Si(ro,r?1&n|2:1&n),t):(gs(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nu)&&(gs(t),6&t.subtreeFlags&&(t.flags|=8192)):gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja(Ya.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var bs=b.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||ws?(Ra&&n&&Ca(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Cs(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Au,Nu),Nu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Au,Nu),Nu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Au,Nu),Nu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Au,Nu),Nu|=r;return xs(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Di(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||ws?(Ra&&r&&Ca(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Di(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),u=t.memoizedState),(s=ta||da(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ki(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=Di(t,u=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&va(t,o,r,u),ta=!1,h=t.memoizedState,o.state=h,ua(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ks(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),Za(e,t.containerInfo)}function Rs(e,t,n,r,i){return Va(),Ba(i),t.flags|=256,xs(e,t,n,r),t.child}var Ps={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Os(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Ls(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(ro,1&o),null===e)return Ma(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Oc(o,i,0,null),e=jc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ps,e):Ms(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Oc({mode:"visible",children:i.children},o,0,null),(s=jc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=js(n),t.memoizedState=Ps,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ws||i){if(null!==(i=Su)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Zu(e,i,-1))}pc(),t=Vs(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Da=ci(r.nextSibling),Aa=t,Ra=!0,Pa=null,null!==n&&(wa[xa++]=Ea,wa[xa++]=Ia,wa[xa++]=_a,Ea=n.id,Ia=n.overflow,_a=t),(t=Ms(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?js(n):Os(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Us(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?js(n):Os(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i):(n=Fs(e,t,i.children,n),t.memoizedState=null,n)}function Ms(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){var i=e.child;return e=i.sibling,n=Rc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Us(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Rc(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Rc(o,r):(r=jc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&Ba(r),Ga(t,e.child,null,n),(e=Ms(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){switch(Na(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ni),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gs=!1,Hs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ys=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xs(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Js=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xs(t,n,a)}i=i.next}while(i!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function iu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Hs||$s(n,t);case 6:var r=su,i=uu;su=null,cu(e,t,n),uu=i,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(su,n.stateNode));break;case 4:r=su,i=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=i;break;case 0:case 11:case 14:case 15:if(!Hs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xs(n,t,o),i=i.next}while(i!==r)}cu(e,t,n);break;case 1:if(!Hs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_c(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(Hs=(r=Hs)||null!==n.memoizedState,cu(e,t,n),Hs=r):cu(e,t,n);break;default:cu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(a(160));lu(o,s,i),su=null,uu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hu(t,e),pu(e),4&r){try{Zs(3,e,e.return),eu(3,e)}catch(v){_c(e,e.return,v)}try{Zs(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(hu(t,e),pu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hu(t,e),pu(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hu(t,e),pu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hu(t,e),pu(e);break;case 13:hu(t,e),pu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fu=Xe()),4&r&&fu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hs=(f=Hs)||l,hu(t,e),Hs=f):hu(t,e),pu(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Ys=e,e=e.child;null!==e;){for(l=Ys=e;null!==Ys;){switch(h=(f=Ys).child,f.tag){case 0:case 11:case 14:case 15:Zs(4,f,f.return);break;case 1:if($s(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:$s(f,f.return);break;case 22:if(null!==f.memoizedState){gu(l);continue}}null!==h?(h.return=f,Ys=h):gu(l)}e=e.sibling}}break;case 19:hu(t,e),pu(e),4&r&&fu(e);case 21:}}function pu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ou(e,iu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;au(e,iu(e),o);break;default:throw Error(a(161))}}catch(s){_c(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ys=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ys;){var i=Ys,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Hs;s=Gs;var c=Hs;if(Gs=o,(Hs=u)&&!c)for(Ys=i;null!==Ys;)u=(o=Ys).child,22===o.tag&&null!==o.memoizedState?ku(i):null!==u?(u.return=o,Ys=u):ku(i);for(;null!==a;)Ys=a,mu(a,t,n),a=a.sibling;Ys=i,Gs=s,Hs=c}yu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ys=a):yu(e)}}function yu(e){for(;null!==Ys;){var t=Ys;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Hs||512&t.flags&&tu(t)}catch(d){_c(t,t.return,d)}}if(t===e){Ys=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ys=n;break}Ys=t.return}}function gu(e){for(;null!==Ys;){var t=Ys;if(t===e){Ys=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ys=n;break}Ys=t.return}}function ku(e){for(;null!==Ys;){var t=Ys;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var a=t.return;try{tu(t)}catch(u){_c(t,a,u)}break;case 5:var o=t.return;try{tu(t)}catch(u){_c(t,o,u)}}}catch(u){_c(t,t.return,u)}if(t===e){Ys=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ys=s;break}Ys=t.return}}var bu,wu=Math.ceil,xu=b.ReactCurrentDispatcher,_u=b.ReactCurrentOwner,Eu=b.ReactCurrentBatchConfig,Iu=0,Su=null,Tu=null,Cu=0,Nu=0,Au=Ei(0),Du=0,Ru=null,Pu=0,ju=0,Ou=0,Lu=null,Mu=null,Fu=0,Uu=1/0,Vu=null,Bu=!1,zu=null,qu=null,Ku=!1,Wu=null,Gu=0,Hu=0,Qu=null,Yu=-1,$u=0;function Xu(){return 0!==(6&Iu)?Xe():-1!==Yu?Yu:Yu=Xe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Cu?Cu&-Cu:null!==qi.transition?(0===$u&&($u=vt()),$u):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Zu(e,t,n){if(50<Hu)throw Hu=0,Qu=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Iu)&&r===Su||(r===Su&&(0===(2&Iu)&&(ju|=t),4===Du&&oc(r,Cu)),nc(r,n),1===t&&0===Iu&&0===(1&e.mode)&&(Uu=Xe()+500,Ui&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Su||null!==ea)&&0!==(1&e.mode)&&0===(2&Iu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Su?Cu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===Iu&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yu=-1,$u=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Su?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Iu;Iu|=2;var o=dc();for(Su===e&&Cu===t||(Vu=null,Uu=Xe()+500,fc(e,t));;)try{yc();break}catch(u){hc(e,u)}Yi(),xu.current=o,Iu=i,null!==Tu?t=0:(Su=null,Cu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ru,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ru,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Mu,Vu);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Mu,Vu),t);break}bc(e,Mu,Vu);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Mu,Vu),r);break}bc(e,Mu,Vu);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Mu,Mu=n,null!==t&&ac(t)),e}function ac(e){null===Mu?Mu=e:Mu.push.apply(Mu,e)}function oc(e,t){for(t&=~Ou,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Iu))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ru,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Mu,Vu),nc(e,Xe()),null}function uc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Uu=Xe()+500,Ui&&zi())}}function cc(e){null!==Wu&&0===Wu.tag&&0===(6&Iu)&&wc();var t=Iu;Iu|=1;var n=Eu.transition,r=kt;try{if(Eu.transition=null,kt=1,e)return e()}finally{kt=r,Eu.transition=n,0===(6&(Iu=t))&&zi()}}function lc(){Nu=Au.current,Ii(Au)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:eo(),Ii(Ni),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Su=e,Tu=e=Rc(e.current,null),Cu=Nu=t,Du=0,Ru=null,Ou=ju=Pu=0,Mu=Lu=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Tu;try{if(Yi(),so.current=ns,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_u.current=null,null===n||null===n.return){Du=1,Ru=t,Tu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&ps(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ps(o,l,t),pc();break e}c=Error(a(426))}else if(Ra&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),Ba(c);break e}}o=c,4!==Du&&(Du=2),null===Lu?Lu=[o]:Lu.push(o),c=os(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,sa(u,hs(0,c,t));break e;case 1:o=c;var g=u.type,k=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qu||!qu.has(k)))){u.flags|=65536,t&=-t,u.lanes|=t,sa(u,ds(u,o,t));break e}}u=u.return}while(null!==u)}kc(n)}catch(b){t=b,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function dc(){var e=xu.current;return xu.current=ns,null===e?ns:e}function pc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Su||0===(268435455&Pu)&&0===(268435455&ju)||oc(Su,Cu)}function vc(e,t){var n=Iu;Iu|=2;var r=dc();for(Su===e&&Cu===t||(Vu=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(Yi(),Iu=n,xu.current=r,null!==Tu)throw Error(a(261));return Su=null,Cu=0,Du}function mc(){for(;null!==Tu;)gc(Tu)}function yc(){for(;null!==Tu&&!Ye();)gc(Tu)}function gc(e){var t=bu(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?kc(e):Tu=t,_u.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ks(n,t,Nu)))return void(Tu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Du=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Du&&(Du=5)}function bc(e,t,n){var r=kt,i=Eu.transition;try{Eu.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Wu);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Su&&(Tu=Su=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Eu.transition,Eu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,_u.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Ys=t;null!==Ys;)if(e=(t=Ys).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ys=e;else for(;null!==Ys;){t=Ys;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ys=e;break}Ys=t.return}v=Js,Js=!1}(e,n),du(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vu(n,e,i),$e(),Iu=u,kt=s,Eu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Wu=e,Gu=i),0===(o=e.pendingLanes)&&(qu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=zu,zu=null,e;0!==(1&Gu)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qu?Hu++:(Hu=0,Qu=e):Hu=0,zi()}(e,t,n,r)}finally{Eu.transition=i,kt=r}return null}function wc(){if(null!==Wu){var e=bt(Gu),t=Eu.transition,n=kt;try{if(Eu.transition=null,kt=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,Gu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Ys=e.current;null!==Ys;){var o=Ys,s=o.child;if(0!==(16&Ys.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ys=l;null!==Ys;){var f=Ys;switch(f.tag){case 0:case 11:case 15:Zs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ys=h;else for(;null!==Ys;){var d=(f=Ys).sibling,p=f.return;if(nu(f),f===l){Ys=null;break}if(null!==d){d.return=p,Ys=d;break}Ys=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ys=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ys=s;else e:for(;null!==Ys;){if(0!==(2048&(o=Ys).flags))switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ys=g;break e}Ys=o.return}}var k=e.current;for(Ys=k;null!==Ys;){var b=(s=Ys).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Ys=b;else e:for(s=k;null!==Ys;){if(0!==(2048&(u=Ys).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(x){_c(u,u.return,x)}if(u===s){Ys=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ys=w;break e}Ys=u.return}}if(Iu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Eu.transition=t}}return!1}function xc(e,t,n){aa(e,t=hs(0,t=os(n,t),1)),t=Xu(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){aa(t,e=ds(t,e=os(n,e),1)),e=Xu(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xu(),e.pingedLanes|=e.suspendedLanes&n,Su===e&&(Cu&n)===n&&(4===Du||3===Du&&(130023424&Cu)===Cu&&500>Xe()-Fu?fc(e,0):Ou|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xu();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return jc(n.children,i,o,t);case E:s=8,i|=8;break;case I:return(e=Ac(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Oc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case T:s=9;break e;case C:s=11;break e;case D:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function jc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,s,u){return e=new Fc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function zc(e,t,n,r,i,a,o,s,u){return(e=Uc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=ia(r=Xu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xu(),o=Ju(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zu(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),Va();break;case 5:to(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Si(ro,1&ro.current),null!==(e=Ks(e,t,n))?e.sibling:null);Si(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Ra&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Di(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ca(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Rs(e,t,r,n,i=Error(a(424)));break e}for(Da=ci(t.stateNode.containerInfo.firstChild),Aa=t,Ra=!0,Pa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Ks(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Ma(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Ts(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&Ma(t),null;case 13:return Ls(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Si(Wi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ks(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Xi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Es(e,t,r,i=Ki(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Kc(o);s.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Kc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,u,n,r)})),u}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Iu)&&(Uu=Xe()+500,zi()))}break;case 13:var r=Xu();cc((function(){return Zu(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zu(e,134217728,Xu()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xu(),n=Ju(e);Zu(e,n,t),Gc(e,n)}},Et=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,uc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},j={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&j(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&j(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,E=!1,I=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(E=!1,I=null)}}else E=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){y(A,0)};function P(e){I=e,E||(E=!0,_())}function j(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,j(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".63908c7c.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="users:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkusers=self.webpackChunkusers||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Jn},SDK_VERSION:function(){return ai},_DEFAULT_ENTRY_NAME:function(){return Gr},_addComponent:function(){return $r},_addOrOverwriteComponent:function(){return Xr},_apps:function(){return Qr},_clearComponents:function(){return ti},_components:function(){return Yr},_getProvider:function(){return Zr},_registerComponent:function(){return Jr},_removeServiceInstance:function(){return ei},deleteApp:function(){return ci},getApp:function(){return si},getApps:function(){return ui},initializeApp:function(){return oi},onLog:function(){return hi},registerVersion:function(){return fi},setLogLevel:function(){return di}});var t,r=n(791),i=n(250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=D(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),E(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:s})})),t}var I=/^:\w+$/,S=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(S)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!S(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:P(R([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:j(a),hash:O(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},P=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},j=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},O=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function L(e){M()||x(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=V(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):R([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function M(){return null!=(0,r.useContext)(b)}function F(){return M()||x(!1),(0,r.useContext)(b).location}function U(){M()||x(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function V(e){var t=(0,r.useContext)(w).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function B(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){x(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&x(!1);var d=P(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,E=v.hash,I=void 0===E?"":E,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=D(y,d);return null==e?null:{pathname:e,search:_,hash:I,state:T,key:N}}),[d,y,_,I,T,N]);return null==A?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){M()||x(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||x(!1),n=l}else n=u;var f=n.pathname||"/",h=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return B(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(W(t),n)}function W(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=W(e.props.children)),t.push(n)}else t.push.apply(t,W(e.props.children))})),t}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function Y(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var s=c-r;s&&(o={action:e,location:i,retry:function(){T(-1*s)}},T(s))}}else S(e)}}));var s=t.Pop,u=a(),c=u[0],k=u[1],b=v(),w=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){s=e;var t=a();c=t[0],k=t[1],b.call({action:s,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return s},get location(){return k},createHref:x,push:function e(n,a){var o=t.Push,s=_(n,a);if(I(o,s,(function(){e(n,a)}))){var u=E(s,c+1),l=u[0],f=u[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(I(a,o,(function(){e(n,r)}))){var s=E(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var s=o.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),k=u[0],b=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(q,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:s})}var $=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=H(e,Q),f=L(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=U(),u=F(),c=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",G({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:u}))}));function X(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){X(a,r,i,o,s,"next",e)}function s(e){X(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Z=n(757),ee=n.n(Z),te=n.p+"static/media/ser9.964d030e7e928fde3f09.jpg",ne=n(184),re=function(){return(0,ne.jsx)("div",{children:(0,ne.jsx)("footer",{class:"sticky-footer bg-white",style:{height:"80px",width:"90%",marginTop:"130px",position:"fixed",marginLeft:"221px"},children:(0,ne.jsx)("div",{class:"container my-auto",children:(0,ne.jsx)("span",{id:"sp",children:" \xa9 Canoe & Kayak Pickups @ All right reserved"})})})})},ie=function(){return(0,ne.jsx)("div",{children:(0,ne.jsxs)("div",{id:"wrapper",children:[(0,ne.jsxs)("ul",{class:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar",children:[(0,ne.jsx)("a",{class:"sidebar-brand d-flex align-items-center justify-content-center",href:"#",children:(0,ne.jsx)("div",{class:"sidebar-brand-icon ",children:"LOGO"})}),(0,ne.jsx)("hr",{class:"sidebar-divider my-0"}),(0,ne.jsx)("hr",{class:"sidebar-divider"}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsxs)("span",{children:[(0,ne.jsx)($,{to:"/Page",id:"j",children:"Dashboard"})," "]})]})}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link collapsed",href:"#","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)("span",{children:(0,ne.jsx)($,{to:"",id:"j",children:"User Driver"})})]}),(0,ne.jsx)("div",{id:"collapseTwo",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsx)("div",{class:"bg-white py-2 collapse-inner rounded",children:(0,ne.jsx)("a",{class:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/RegisterDriver",id:"j",children:"Registered Drivers"})})})})]}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link collapsed",href:"#","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"",id:"j",children:"Duties"})]}),(0,ne.jsx)("div",{id:"collapseThree",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/uploadD",id:"j",children:"Upload Duties"})}),(0,ne.jsx)("br",{}),(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/Alld",id:"j",children:"All Duties"})})]})})]}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/Location",id:"j",children:"Driver Location"})]})}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link",href:"#","data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"",id:"j",children:"Alerts"})," "]}),(0,ne.jsx)("div",{id:"collapseFour",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/AddAlerts",id:"j",children:"Add Alerts"})}),(0,ne.jsx)("br",{}),(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/AllAlerts",id:"j",children:"All Alerts"})})]})})]}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/",id:"j",children:"Transaction History"})]})}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/Enquiry",id:"j",children:"Enquiry"})]})}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/ChatApp",id:"j",children:"Chat"})]})}),(0,ne.jsx)("div",{class:"text-center d-none d-md-inline",children:(0,ne.jsx)("button",{class:"rounded-circle border-0",id:"sidebarToggle"})})]}),(0,ne.jsxs)("div",{id:"content-wrapper",class:"d-flex flex-column",children:[(0,ne.jsxs)("div",{id:"content",children:[(0,ne.jsx)("header",{children:(0,ne.jsxs)("nav",{class:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[(0,ne.jsx)("button",{id:"sidebarToggleTop",class:"btn btn-link d-md-none rounded-circle mr-3",children:(0,ne.jsx)("i",{class:"fa fa-bars"})}),(0,ne.jsx)("form",{class:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:(0,ne.jsxs)("div",{class:"input-group",children:[(0,ne.jsx)("input",{type:"text",class:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),(0,ne.jsx)("div",{class:"input-group-append",children:(0,ne.jsx)("button",{class:"btn btn-primary an",type:"button",children:(0,ne.jsx)("i",{class:"fa fa-search","aria-hidden":"true"})})})]})}),(0,ne.jsxs)("ul",{class:"navbar-nav ml-auto",children:[(0,ne.jsxs)("li",{class:"nav-item dropdown no-arrow d-sm-none",children:[(0,ne.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,ne.jsx)("i",{class:"fas fa-search fa-fw"})}),(0,ne.jsx)("div",{class:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"searchDropdown",children:(0,ne.jsx)("form",{class:"form-inline mr-auto w-100 navbar-search",children:(0,ne.jsxs)("div",{class:"input-group",children:[(0,ne.jsx)("input",{type:"text",class:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),(0,ne.jsx)("div",{class:"input-group-append",children:(0,ne.jsx)("button",{class:"btn btn-primary an",type:"button",children:(0,ne.jsx)("i",{class:"fas fa-search fa-sm"})})})]})})})]}),(0,ne.jsxs)("li",{class:"nav-item dropdown no-arrow",children:[(0,ne.jsxs)("a",{class:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[(0,ne.jsx)("span",{class:"mr-2 d-none d-lg-inline text-gray-600 small am",children:"Anil Singh"}),(0,ne.jsx)("img",{class:"img-profile rounded-circle",src:te}),"\xa0 \xa0",(0,ne.jsx)("button",{type:"button",class:"btn btn-primary an1",children:(0,ne.jsx)($,{to:"/",children:"Logout"})})]}),(0,ne.jsxs)("div",{class:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[(0,ne.jsx)("div",{class:"dropdown-divider"}),(0,ne.jsxs)("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal",children:[(0,ne.jsx)("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"]})]})]})]})]})}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"All Duties"})}),(0,ne.jsxs)("div",{class:"row",children:[(0,ne.jsx)("div",{class:"col-md-4",children:(0,ne.jsxs)("div",{class:"da",children:[(0,ne.jsx)("div",{class:"da1",children:"Total pending duties"}),(0,ne.jsx)("div",{class:"da2",style:{textAlign:"center"},children:"30"})]})}),(0,ne.jsx)("div",{class:"col-md-4",children:(0,ne.jsxs)("div",{class:"da",children:[(0,ne.jsx)("div",{class:"da1",children:"Location A pending duties"}),(0,ne.jsx)("div",{class:"da2",style:{textAlign:"center"},children:"12"})]})}),(0,ne.jsx)("div",{class:"col-md-4",children:(0,ne.jsxs)("div",{class:"da",children:[(0,ne.jsx)("div",{class:"da1",children:"Location B pending duties"}),(0,ne.jsx)("div",{class:"da2",style:{textAlign:"center"},children:"16"})]})})]})]})]}),(0,ne.jsx)("footer",{class:"sticky-footer bg-white",style:{height:"80px",width:"90%",marginTop:"590px",position:"fixed",marginLeft:"0px"},children:(0,ne.jsx)("div",{class:"container my-auto",children:(0,ne.jsx)("span",{id:"sp",children:" \xa9 Canoe & Kayak Pickups @ All right reserved"})})})]})]})})},ae=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],s=c((0,r.useState)(" "),2),u=(s[0],s[1],c((0,r.useState)(""),2)),l=u[0],f=u[1];function h(){return(h=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"admin@gmail.com"===t&&"1234567"===a&&f("Admin");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,ne.jsxs)(ne.Fragment,{children:["Admin"===l&&(0,ne.jsx)(ie,{}),""===l&&(0,ne.jsxs)("body",{style:{background:"#F7F7F7"},children:[(0,ne.jsx)("div",{class:"container-fluid bl",style:{paddingBottom:"90px"},children:(0,ne.jsxs)("div",{class:"row ",children:[(0,ne.jsx)("div",{class:"col-md-4"}),(0,ne.jsx)("div",{class:"col-md-4",children:(0,ne.jsxs)("div",{class:"bl1",style:{background:"#fff"},children:[(0,ne.jsx)("div",{class:"bl3",children:" Admin Login"}),(0,ne.jsx)("div",{class:"bl4",children:"Login to your Account"}),(0,ne.jsxs)("form",{children:[(0,ne.jsxs)("div",{class:"form-group",children:[(0,ne.jsx)("input",{type:"email",class:"form-control bxyz",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email",name:"Adminid",value:t,onChange:function(e){return n(e.target.value)}}),(0,ne.jsx)("small",{id:"emailHelp",class:"form-text text-muted",children:"Well never share your email with anyone else."})]}),(0,ne.jsx)("div",{class:"form-group",children:(0,ne.jsx)("input",{type:"password",class:"form-control bxyz",id:"exampleInputPassword1",placeholder:"Password",name:"pwd",value:a,onChange:function(e){return o(e.target.value)}})}),(0,ne.jsxs)("div",{class:"form-check",children:[(0,ne.jsx)("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),(0,ne.jsx)("label",{class:"form-check-label",for:"exampleCheck1",children:"Remember Me"})]}),(0,ne.jsx)("button",{type:"submit",class:"btn btn-secondary bl2",style:{padding:"5px 110px",fontSize:"26px",marginTop:"25px;"},onClick:function(){!function(){h.apply(this,arguments)}()},children:"LOGIN"})]})]})}),(0,ne.jsx)("div",{class:"col-md-4"})]})}),(0,ne.jsx)("script",{src:"js/jquery.min.js"}),(0,ne.jsx)("script",{src:"js/bootstrap.bundle.min.js"}),(0,ne.jsx)("script",{src:"js/jquery.easing.min.js"}),(0,ne.jsx)("script",{src:"js/sb-admin-2.min.js"}),(0,ne.jsx)("script",{src:"js/Chart.min.js"}),(0,ne.jsx)("script",{src:"js/demo/chart-area-demo.js"}),(0,ne.jsx)("script",{src:"js/demo/chart-pie-demo.js"})]})]})},oe=function(){return(0,ne.jsx)("div",{children:(0,ne.jsxs)("div",{id:"wrappe",style:{position:"fixed",width:"85.3%",marginLeft:"220px",marginTop:"-30px"},children:[(0,ne.jsx)("br",{}),(0,ne.jsxs)("ul",{class:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar",style:{position:"fixed",marginTop:"6px",marginLeft:"-223px"},children:[(0,ne.jsx)("a",{class:"sidebar-brand d-flex align-items-center justify-content-center",href:"index.html",children:(0,ne.jsx)("div",{class:"sidebar-brand-icon ",children:"LOGO"})}),(0,ne.jsx)("hr",{class:"sidebar-divider my-0"}),(0,ne.jsx)("hr",{class:"sidebar-divider"}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsxs)("span",{children:[(0,ne.jsx)($,{to:"/Page",id:"j",children:"Dashboard"})," "]})]})}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link collapsed",href:"#","data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"true","aria-controls":"collapseTwo",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)("span",{children:(0,ne.jsx)($,{to:"",id:"j",children:"User Driver"})})]}),(0,ne.jsx)("div",{id:"collapseTwo",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsx)("div",{class:"bg-white py-2 collapse-inner rounded",children:(0,ne.jsx)("a",{class:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/RegisterDriver",id:"j",children:"Registered Drivers"})})})})]}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link collapsed",href:"#","data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseThree",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"",id:"j",children:"Duties"})]}),(0,ne.jsx)("div",{id:"collapseThree",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsxs)("div",{className:"bg-white py-2 collapse-inner rounded",children:[(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/uploadD",id:"j",children:"Upload Duties"})}),(0,ne.jsx)("br",{}),(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/Alld ",id:"j",children:"All Duties"})})]})})]}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/Location",id:"j",children:"Driver Location"})]})}),(0,ne.jsxs)("li",{class:"nav-item",children:[(0,ne.jsxs)("a",{class:"nav-link",href:"#","data-toggle":"collapse","data-target":"#collapseFour","aria-expanded":"true","aria-controls":"collapseFour",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"",id:"j",children:"Alerts"})," "]}),(0,ne.jsx)("div",{id:"collapseFour",class:"collapse","aria-labelledby":"headingTwo","data-parent":"#accordionSidebar",children:(0,ne.jsxs)("div",{className:"  collapse-inner rounded",children:[(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/AddAlerts",id:"j",children:"Add Alerts"})}),(0,ne.jsx)("br",{}),(0,ne.jsx)("a",{className:"collapse-item",href:"#",children:(0,ne.jsx)($,{to:"/AllAlerts",id:"j",children:"All Alerts"})})]})})]}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/",id:"j",children:"Transaction History"})]})}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/Enquiry",id:"j",children:"Enquiry"})]})}),(0,ne.jsx)("li",{class:"nav-item",children:(0,ne.jsxs)("a",{class:"nav-link",href:"#",children:[(0,ne.jsx)("i",{class:"fas fa-fw fa-cog"}),(0,ne.jsx)($,{to:"/ChatApp",id:"j",children:"Chat"})]})}),(0,ne.jsx)("div",{class:"text-center d-none d-md-inline",children:(0,ne.jsx)("button",{class:"rounded-circle border-0",id:"sidebarToggle"})})]}),(0,ne.jsx)("div",{id:"content-wrapper",class:"d-flex flex-column",children:(0,ne.jsx)("div",{id:"content",children:(0,ne.jsx)("header",{children:(0,ne.jsxs)("nav",{class:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow",children:[(0,ne.jsx)("button",{id:"sidebarToggleTop",class:"btn btn-link d-md-none rounded-circle mr-3",children:(0,ne.jsx)("i",{class:"fa fa-bars"})}),(0,ne.jsx)("form",{class:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:(0,ne.jsxs)("div",{class:"input-group",children:[(0,ne.jsx)("input",{type:"text",class:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),(0,ne.jsx)("div",{class:"input-group-append",children:(0,ne.jsx)("button",{class:"btn btn-primary an",type:"button",children:(0,ne.jsx)("i",{class:"fa fa-search","aria-hidden":"true"})})})]})}),(0,ne.jsxs)("ul",{class:"navbar-nav ml-auto",children:[(0,ne.jsxs)("li",{class:"nav-item dropdown no-arrow d-sm-none",children:[(0,ne.jsx)("a",{class:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,ne.jsx)("i",{class:"fas fa-search fa-fw"})}),(0,ne.jsx)("div",{class:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in","aria-labelledby":"searchDropdown",children:(0,ne.jsx)("form",{class:"form-inline mr-auto w-100 navbar-search",children:(0,ne.jsxs)("div",{class:"input-group",children:[(0,ne.jsx)("input",{type:"text",class:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),(0,ne.jsx)("div",{class:"input-group-append",children:(0,ne.jsx)("button",{class:"btn btn-primary an",type:"button",children:(0,ne.jsx)("i",{class:"fas fa-search fa-sm"})})})]})})})]}),(0,ne.jsxs)("li",{class:"nav-item dropdown no-arrow",children:[(0,ne.jsxs)("a",{class:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[(0,ne.jsx)("span",{class:"mr-2 d-none d-lg-inline text-gray-600 small am",children:"Anil Singh"}),(0,ne.jsx)("img",{class:"img-profile rounded-circle",src:te}),"\xa0 \xa0",(0,ne.jsx)("button",{type:"button",class:"btn btn-primary an1",children:(0,ne.jsx)($,{to:"/",children:"Logout"})})]}),(0,ne.jsxs)("div",{class:"dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"userDropdown",children:[(0,ne.jsx)("div",{class:"dropdown-divider"}),(0,ne.jsxs)("a",{class:"dropdown-item",href:"#","data-toggle":"modal","data-target":"#logoutModal",children:[(0,ne.jsx)("i",{class:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout"]})]})]})]})]})})})})]})})},se=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){fetch("http://localhost:4001/LatLong").then((function(e){e.json().then((function(e){n(e)}))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Location"})}),(0,ne.jsxs)("table",{id:"example",class:"table table-striped table-bordered",style:{width:"70%",marginLeft:"330px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{class:"bl5",children:"Serial No"}),(0,ne.jsx)("th",{class:"bl5",children:" Email"}),(0,ne.jsx)("th",{class:"bl5",children:"Latitude"}),(0,ne.jsx)("th",{class:"bl5",children:"Longitude"})]})}),t.map((function(e,t){return(0,ne.jsx)("tbody",{children:(0,ne.jsxs)("tr",{style:{fontSize:"15px",fontStyle:"normal",fontFamily:"Times New Roman"},children:[(0,ne.jsx)("th",{scope:"row",children:t+1}),(0,ne.jsx)("td",{children:e.Email}),(0,ne.jsx)("td",{children:e.Latitude}),(0,ne.jsx)("td",{children:e.Longitude})]},e._id)})}))]})]}),(0,ne.jsx)(re,{})]})},ue=function(){return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("div",{id:"wrapper",children:(0,ne.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,ne.jsx)("div",{id:"content",children:(0,ne.jsxs)("div",{className:"container-fluid",children:[(0,ne.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"User Driver"})}),(0,ne.jsxs)("table",{id:"example",className:"table table-striped table-bordered",style:{width:"70%",marginLeft:"350px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{className:"bl5",children:" Name"}),(0,ne.jsx)("th",{className:"bl5",children:"Email Address"}),(0,ne.jsx)("th",{className:"bl5",children:"Phone"}),(0,ne.jsx)("th",{className:"bl5",children:"Subscription Plan (monthly/ annualy)"}),(0,ne.jsx)("th",{className:"bl5",children:"Restrict User"})]})}),(0,ne.jsxs)("tbody",{children:[(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{"data-label":"Name",children:"Amit"}),(0,ne.jsx)("td",{"data-label":"Email",children:"amitmshr04@gmail.com"}),(0,ne.jsx)("td",{"data-label":"Phone",children:"9999999999"}),(0,ne.jsx)("td",{"data-label":"Subscription Plan",children:"Annualy"}),(0,ne.jsx)("td",{"data-label":"Restrict User",children:(0,ne.jsx)("a",{href:"url_to_delete",onclick:"return confirm('Do you want to Delete the user?');",children:(0,ne.jsx)("button",{type:"button",className:"btn btn-secondary",style:{background:"#BC1C21"},children:"Delete"})})})]}),(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{"data-label":"Name",children:"Amit"}),(0,ne.jsx)("td",{"data-label":"Email",children:"amitmshr04@gmail.com"}),(0,ne.jsx)("td",{"data-label":"Phone",children:"9999999999"}),(0,ne.jsx)("td",{"data-label":"Subscription Plan",children:"Annualy"}),(0,ne.jsx)("td",{"data-label":"Restrict User",children:(0,ne.jsx)("a",{href:"url_to_delete",onclick:"return confirm('Do you want to Delete the user?');",children:(0,ne.jsx)("button",{type:"button",className:"btn btn-secondary",style:{background:"#BC1C21"},children:"Delete"})})})]}),(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{"data-label":"Name",children:"Amit"}),(0,ne.jsx)("td",{"data-label":"Email",children:"amitmshr04@gmail.com"}),(0,ne.jsx)("td",{"data-label":"Phone",children:"9999999999"}),(0,ne.jsx)("td",{"data-label":"Subscription Plan",children:"Annualy"}),(0,ne.jsx)("td",{"data-label":"Restrict User",children:(0,ne.jsx)("a",{href:"url_to_delete",onclick:"return confirm('Do you want to Delete the user?');",children:(0,ne.jsx)("button",{type:"button",className:"btn btn-secondary",style:{background:"#BC1C21"},children:"Delete"})})})]}),(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{"data-label":"Name",children:"Amit"}),(0,ne.jsx)("td",{"data-label":"Email",children:"amitmshr04@gmail.com"}),(0,ne.jsx)("td",{"data-label":"Phone",children:"9999999999"}),(0,ne.jsx)("td",{"data-label":"Subscription Plan",children:"Annualy"}),(0,ne.jsx)("td",{"data-label":"Restrict User",children:(0,ne.jsx)("a",{href:"url_to_delete",onclick:"return confirm('Do you want to Delete the user?');",children:(0,ne.jsx)("button",{type:"button",className:"btn btn-secondary",style:{background:"#BC1C21"},children:"Delete"})})})]})]})]})]})})})}),(0,ne.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:(0,ne.jsx)("i",{className:"fas fa-angle-up"})}),(0,ne.jsx)("script",{src:"js/jquery.min.js"}),(0,ne.jsx)("script",{src:"js/bootstrap.bundle.min.js"}),(0,ne.jsx)("script",{src:"js/jquery.easing.min.js"}),(0,ne.jsx)("script",{src:"js/sb-admin-2.min.js"}),(0,ne.jsx)(re,{})]})};function ce(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function le(e){return function(e){if(Array.isArray(e))return o(e)}(e)||ce(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ve(e,t){if(null==e)return{};var n,r,i=pe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var me=n(694),ye=n.n(me),ge=["as","disabled"];function ke(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var be=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ge),a=c(ke(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,ne.jsx)(s,Object.assign({},i,o,{ref:t}))}));be.displayName="Button";var we=["xxl","xl","lg","md","sm","xs"],xe=r.createContext({prefixes:{},breakpoints:we});xe.Consumer,xe.Provider;function _e(e,t){var n=(0,r.useContext)(xe).prefixes;return e||n[t]||t}var Ee=["as","bsPrefix","variant","size","active","className"],Ie=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=ve(e,Ee),l=_e(r,"btn"),f=c(ke(de({tagName:n},u)),2),h=f[0],d=f[1].tagName;return(0,ne.jsx)(d,de(de(de({},h),u),{},{ref:t,className:ye()(s,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));Ie.displayName="Button",Ie.defaultProps={variant:"primary",active:!1,disabled:!1};var Se=Ie,Te=!("undefined"===typeof window||!window.document||!window.document.createElement),Ce=!1,Ne=!1;try{var Ae={get passive(){return Ce=!0},get once(){return Ne=Ce=!0}};Te&&(window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,!0))}catch(KC){}var De=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Ne){var i=r.once,a=r.capture,o=n;!Ne&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ce?r:a)}e.addEventListener(t,n,r)};function Re(e){return e&&e.ownerDocument||document}var Pe,je=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function Oe(e){if((!Pe&&0!==Pe||e)&&Te){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Pe=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Pe}var Le=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function Me(e){var t=Le(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Fe=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ue=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=Fe(e),r=Fe(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};function Ve(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}function Be(e,t){return function(e){var t=Re(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ze=/([A-Z])/g;var qe=/^ms-/;function Ke(e){return function(e){return e.replace(ze,"-$1").toLowerCase()}(e).replace(qe,"-ms-")}var We=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ge=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ke(t))||Be(e).getPropertyValue(Ke(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!We.test(e))}(i)?n+=Ke(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ke(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var He=function(e,t,n,r){return De(e,t,n,r),function(){je(e,t,n,r)}};function Qe(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=He(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Ye(e,t,n,r){null==n&&(n=function(e){var t=Ge(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Qe(e,n,r),a=He(e,"transitionend",t);return function(){i(),a()}}function $e(e){void 0===e&&(e=Re());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(KC){return e.body}}function Xe(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var Je=n(164);function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var nt,rt=(nt="modal-open","".concat("data-rr-ui-").concat(nt)),it=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ze(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return tt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=fe({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Ge(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(rt,""),Ge(r,t)}},{key:"reset",value:function(){var e=this;le(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(rt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),at=it,ot=(0,r.createContext)(Te?window:void 0);ot.Provider;function st(){return(0,r.useContext)(ot)}var ut=function(e,t){var n;return Te?null==e?(t||Re()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var ct,lt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ft(e){var t=st(),n=e||function(e){return ct||(ct=new at({ownerDocument:null==e?void 0:e.document})),ct}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var ht=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,s=e.className,u=e.style,l=e.children,f=e.backdrop,h=void 0===f||f,d=e.keyboard,p=void 0===d||d,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.backdropTransition,k=e.autoFocus,b=void 0===k||k,w=e.enforceFocus,x=void 0===w||w,_=e.restoreFocus,E=void 0===_||_,I=e.restoreFocusOptions,S=e.renderDialog,T=e.renderBackdrop,C=void 0===T?function(e){return(0,ne.jsx)("div",Object.assign({},e))}:T,N=e.manager,A=e.container,D=e.onShow,R=e.onHide,P=void 0===R?function(){}:R,j=e.onExit,O=e.onExited,L=e.onExiting,M=e.onEnter,F=e.onEntering,U=e.onEntered,V=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lt),B=function(e,t){var n=st(),i=c((0,r.useState)((function(){return ut(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var s=ut(e);s&&o(s)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=ut(e);t!==a&&o(t)}),[e,a]),a}(A),z=ft(N),q=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),K=function(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}(i),W=c((0,r.useState)(!i),2),G=W[0],H=W[1],Q=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return z}),[z]),Te&&!K&&i&&(Q.current=$e()),y||i||G?i&&G&&H(!1):H(!0);var Y=Me((function(){if(z.add(),te.current=He(document,"keydown",Z),ee.current=He(document,"focus",(function(){return setTimeout(X)}),!0),D&&D(),b){var e=$e(document);z.dialog&&e&&!Xe(z.dialog,e)&&(Q.current=e,z.dialog.focus())}})),$=Me((function(){var e;(z.remove(),null==te.current||te.current(),null==ee.current||ee.current(),E)&&(null==(e=Q.current)||null==e.focus||e.focus(I),Q.current=null)}));(0,r.useEffect)((function(){i&&B&&Y()}),[i,B,Y]),(0,r.useEffect)((function(){G&&$()}),[G,$]),Ve((function(){$()}));var X=Me((function(){if(x&&q()&&z.isTopModal()){var e=$e();z.dialog&&e&&!Xe(z.dialog,e)&&z.dialog.focus()}})),J=Me((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&P())})),Z=Me((function(e){p&&27===e.keyCode&&z.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),ee=(0,r.useRef)(),te=(0,r.useRef)(),re=y;if(!B||!(i||re&&!G))return null;var ie=Object.assign({role:o,ref:z.setDialogRef,"aria-modal":"dialog"===o||void 0},V,{style:u,className:s,tabIndex:-1}),ae=S?S(ie):(0,ne.jsx)("div",Object.assign({},ie,{children:r.cloneElement(l,{role:"document"})}));re&&(ae=(0,ne.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!i,onExit:j,onExiting:L,onExited:function(){H(!0),null==O||O.apply(void 0,arguments)},onEnter:M,onEntering:F,onEntered:U,children:ae}));var oe=null;if(h){var se=g;oe=C({ref:z.setBackdropRef,onClick:J}),se&&(oe=(0,ne.jsx)(se,{appear:!0,in:!!i,children:oe}))}return(0,ne.jsx)(ne.Fragment,{children:Je.createPortal((0,ne.jsxs)(ne.Fragment,{children:[oe,ae]}),B)})}));ht.displayName="Modal";var dt=Object.assign(ht,{Manager:at});function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}function vt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pt(e)););return e}function mt(){return mt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=vt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},mt.apply(this,arguments)}function yt(e,t){return yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yt(e,t)}function gt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}function kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(KC){return!1}}function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e,t){if(t&&("object"===bt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function _t(e){var t=kt();return function(){var n,r=pt(e);if(t){var i=pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xt(this,n)}}var Et=Function.prototype.bind.call(Function.prototype.call,[].slice);function It(e,t){return Et(e.querySelectorAll(t))}function St(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Tt,Ct=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Nt=".sticky-top",At=".navbar-toggler",Dt=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Ge(t,fe({},e,"".concat(parseFloat(Ge(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ge(t,fe({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;mt(pt(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";It(a,Ct).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),It(a,Nt).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),It(a,At).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;mt(pt(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=St(r.className,i):r.setAttribute("class",St(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";It(a,Ct).forEach((function(e){return t.restore(o,e)})),It(a,Nt).forEach((function(e){return t.restore(s,e)})),It(a,At).forEach((function(e){return t.restore(s,e)}))}}]),n}(at);var Rt=!1,Pt=r.createContext(null),jt="unmounted",Ot="exited",Lt="entering",Mt="entered",Ft="exiting",Ut=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ot,r.appearStatus=Lt):i=Mt:i=t.unmountOnExit||t.mountOnEnter?jt:Ot,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,yt(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===jt?{status:Ot}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Lt&&n!==Mt&&(t=Lt):n!==Lt&&n!==Mt||(t=Ft)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Lt?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ot&&this.setState({status:jt})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Je.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||Rt?this.safeSetState({status:Mt},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Lt},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:Mt},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Je.findDOMNode(this);t&&!Rt?(this.props.onExit(r),this.safeSetState({status:Ft},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ot},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ot},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Je.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===jt)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,pe(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Pt.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function Vt(){}Ut.contextType=Pt,Ut.propTypes={},Ut.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vt,onEntering:Vt,onEntered:Vt,onExit:Vt,onExiting:Vt,onExited:Vt},Ut.UNMOUNTED=jt,Ut.EXITED=Ot,Ut.ENTERING=Lt,Ut.ENTERED=Mt,Ut.EXITING=Ft;var Bt=Ut;function zt(e,t){var n=Ge(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function qt(e,t){var n=zt(e,"transitionDuration"),r=zt(e,"transitionDelay"),i=Ye(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Kt,Wt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Gt=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=ve(e,Wt),d=(0,r.useRef)(null),p=Ue(d,f),v=function(e){var t;p((t=e)&&"setState"in t?Je.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,r.useCallback)(m(n),[n]),g=(0,r.useCallback)(m(i),[i]),k=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(o),[o]),w=(0,r.useCallback)(m(s),[s]),x=(0,r.useCallback)(m(u),[u]),_=(0,r.useCallback)(m(c),[c]);return(0,ne.jsx)(Bt,de(de({ref:t},h),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:x,onExiting:w,addEndListener:_,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,de(de({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),Ht=Gt,Qt=["className","children","transitionClasses"],Yt=(fe(Kt={},Lt,"show"),fe(Kt,Mt,"show"),Kt),$t=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=ve(e,Qt),u=(0,r.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,ne.jsx)(Ht,de(de({ref:t,addEndListener:qt},s),{},{onEnter:u,childRef:i.ref,children:function(e,t){return r.cloneElement(i,de(de({},t),{},{className:ye()("fade",n,i.props.className,Yt[e],o[e])}))}}))}));$t.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},$t.displayName="Fade";var Xt=$t,Jt=/-(.)/g;var Zt=["className","bsPrefix","as"],en=function(e){return e[0].toUpperCase()+(t=e,t.replace(Jt,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?en(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=ve(t,Zt),c=_e(i,e);return(0,ne.jsx)(s,de({ref:n,className:ye()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var nn=tn("modal-body"),rn=r.createContext({onHide:function(){}}),an=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],on=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,s=e.fullscreen,u=e.children,c=e.scrollable,l=ve(e,an);n=_e(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,ne.jsx)("div",de(de({},l),{},{ref:t,className:ye()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),s&&h),children:(0,ne.jsx)("div",{className:ye()("".concat(n,"-content"),i),children:u})}))}));on.displayName="ModalDialog";var sn=on,un=tn("modal-footer"),cn=n(7),ln=n.n(cn),fn=["className","variant"],hn={"aria-label":ln().string,onClick:ln().func,variant:ln().oneOf(["white"])},dn=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=ve(e,fn);return(0,ne.jsx)("button",de({ref:t,type:"button",className:ye()("btn-close",r&&"btn-close-".concat(r),n)},i))}));dn.displayName="CloseButton",dn.propTypes=hn,dn.defaultProps={"aria-label":"Close"};var pn=dn,vn=["closeLabel","closeVariant","closeButton","onHide","children"],mn=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=ve(e,vn),c=(0,r.useContext)(rn),l=Me((function(){null==c||c.onHide(),null==o||o()}));return(0,ne.jsxs)("div",de(de({ref:t},u),{},{children:[s,a&&(0,ne.jsx)(pn,{"aria-label":n,variant:i,onClick:l})]}))}));mn.defaultProps={closeLabel:"Close",closeButton:!1};var yn=mn,gn=["bsPrefix","className"],kn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=ve(e,gn);return n=_e(n,"modal-header"),(0,ne.jsx)(yn,de(de({ref:t},i),{},{className:ye()(r,n)}))}));kn.displayName="ModalHeader",kn.defaultProps={closeLabel:"Close",closeButton:!1};var bn,wn=kn,xn=(bn="h4",r.forwardRef((function(e,t){return(0,ne.jsx)("div",de(de({},e),{},{ref:t,className:ye()(e.className,bn)}))}))),_n=tn("modal-title",{Component:xn}),En=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],In={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:sn};function Sn(e){return(0,ne.jsx)(Xt,de(de({},e),{},{timeout:null}))}function Tn(e){return(0,ne.jsx)(Xt,de(de({},e),{},{timeout:null}))}var Cn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,s=e.contentClassName,u=e.children,l=e.dialogAs,f=e["aria-labelledby"],h=e["aria-describedby"],d=e["aria-label"],p=e.show,v=e.animation,m=e.backdrop,y=e.keyboard,g=e.onEscapeKeyDown,k=e.onShow,b=e.onHide,w=e.container,x=e.autoFocus,_=e.enforceFocus,E=e.restoreFocus,I=e.restoreFocusOptions,S=e.onEntered,T=e.onExit,C=e.onExiting,N=e.onEnter,A=e.onEntering,D=e.onExited,R=e.backdropClassName,P=e.manager,j=ve(e,En),O=c((0,r.useState)({}),2),L=O[0],M=O[1],F=c((0,r.useState)(!1),2),U=F[0],V=F[1],B=(0,r.useRef)(!1),z=(0,r.useRef)(!1),q=(0,r.useRef)(null),K=c((0,r.useState)(null),2),W=K[0],G=K[1],H=Ue(t,G),Q=Me(b),Y="rtl"===(0,r.useContext)(xe).dir;n=_e(n,"modal");var $=(0,r.useMemo)((function(){return{onHide:Q}}),[Q]);function X(){return P||function(e){return Tt||(Tt=new Dt(e)),Tt}({isRTL:Y})}function J(e){if(Te){var t=X().getScrollbarWidth()>0,n=e.scrollHeight>Re(e).documentElement.clientHeight;M({paddingRight:t&&!n?Oe():void 0,paddingLeft:!t&&n?Oe():void 0})}}var Z=Me((function(){W&&J(W.dialog)}));Ve((function(){je(window,"resize",Z),null==q.current||q.current()}));var ee=function(){B.current=!0},te=function(e){B.current&&W&&e.target===W.dialog&&(z.current=!0),B.current=!1},re=function(){V(!0),q.current=Ye(W.dialog,(function(){V(!1)}))},ie=function(e){"static"!==m?z.current||e.target!==e.currentTarget?z.current=!1:null==b||b():function(e){e.target===e.currentTarget&&re()}(e)},ae=(0,r.useCallback)((function(e){return(0,ne.jsx)("div",de(de({},e),{},{className:ye()("".concat(n,"-backdrop"),R,!v&&"show")}))}),[v,R,n]),oe=de(de({},a),L);oe.display="block";return(0,ne.jsx)(rn.Provider,{value:$,children:(0,ne.jsx)(dt,{show:p,ref:H,backdrop:m,container:w,keyboard:!0,autoFocus:x,enforceFocus:_,restoreFocus:E,restoreFocusOptions:I,onEscapeKeyDown:function(e){y||"static"!==m?y&&g&&g(e):(e.preventDefault(),re())},onShow:k,onHide:b,onEnter:function(e,t){e&&J(e),null==N||N(e,t)},onEntering:function(e,t){null==A||A(e,t),De(window,"resize",Z)},onEntered:S,onExit:function(e){null==q.current||q.current(),null==T||T(e)},onExiting:C,onExited:function(e){e&&(e.style.display=""),null==D||D(e),je(window,"resize",Z)},manager:X(),transition:v?Sn:void 0,backdropTransition:v?Tn:void 0,renderBackdrop:ae,renderDialog:function(e){return(0,ne.jsx)("div",de(de({role:"dialog"},e),{},{style:oe,className:ye()(i,n,U&&"".concat(n,"-static")),onClick:m?ie:void 0,onMouseUp:te,"aria-label":d,"aria-labelledby":f,"aria-describedby":h,children:(0,ne.jsx)(l,de(de({},j),{},{onMouseDown:ee,className:o,contentClassName:s,children:u}))}))}})})}));Cn.displayName="Modal",Cn.defaultProps=In;var Nn=Object.assign(Cn,{Body:nn,Header:wn,Title:_n,Footer:un,Dialog:sn,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),An=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1],s=c((0,r.useState)(""),2),u=s[0],l=s[1],f=c((0,r.useState)("ASC"),2),h=f[0],d=f[1],p=function(e){if("ASC"===h){var r=le(t).sort((function(t,n){return t[e].toLowerCase()<n[e].toLowerCase()?1:-1}));n(r),d("DSC")}if("DSC"===h){var i=le(t).sort((function(t,n){return t[e].toLowerCase()>n[e].toLowerCase()?1:-1}));n(i),d("ASC")}},v=c((0,r.useState)(!1),2),m=v[0],y=v[1],g=function(){return y(!1)};function k(){return(k=J(ee().mark((function e(){var t,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loop",u),t={Status:a},e.next=4,fetch("http://localhost:4001/user/".concat(u),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return r=e.sent,e.next=7,r.json();case 7:i=e.sent,console.log(i),n(),o(""),fetch("http://localhost:4001/userShow").then((function(e){e.json().then((function(e){n(e)}))}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){fetch("http://localhost:4001/userShow").then((function(e){e.json().then((function(e){n(e)}))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("div",{id:"wrappe",children:(0,ne.jsx)("div",{id:"content-wrapper",className:"d-flex flex-column",children:(0,ne.jsx)("div",{id:"content",children:(0,ne.jsxs)("div",{className:"container-fluid",children:[(0,ne.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{className:"h3 mb-0 text-gray-800",children:"User Driver"})}),(0,ne.jsxs)("table",{id:"example",className:"table table-striped table-bordered",style:{width:"70%",marginLeft:"350px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{className:"bl5",children:" Serial No"}),(0,ne.jsxs)("th",{className:"bl5",children:[" ","Name",(0,ne.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true",onClick:function(){return p("Name")}})," ",(0,ne.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true",onClick:function(){return p("Name")}})]}),(0,ne.jsxs)("th",{className:"bl5",children:["Email",(0,ne.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true",onClick:function(){return p("Email")}})," ",(0,ne.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true",onClick:function(){return p("Email")}})]}),(0,ne.jsxs)("th",{className:"bl5",children:["Phone",(0,ne.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true",onClick:function(){return p("MobileNo")}})," ",(0,ne.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true",onClick:function(){return p("MobileNo")}})]}),(0,ne.jsxs)("th",{className:"bl5",children:["Status",(0,ne.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true",onClick:function(){return p("Status")}})," ",(0,ne.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true",onClick:function(){return p("Status")}})]}),(0,ne.jsx)("th",{className:"bl5",children:"Change-Status"})]})}),t&&t.map((function(e,n){return(0,ne.jsx)("tbody",{children:(0,ne.jsxs)("tr",{style:{fontSize:"15px",fontStyle:"normal",fontFamily:"Times New Roman"},children:[(0,ne.jsx)("th",{scope:"row",children:n+1}),(0,ne.jsx)("td",{children:e.Name}),(0,ne.jsx)("td",{children:e.Email}),(0,ne.jsx)("td",{children:e.MobileNo}),(0,ne.jsx)("td",{children:e.Status}),(0,ne.jsx)("td",{children:(0,ne.jsx)(Se,{onClick:function(){!function(e,n){console.log("loop",n);var r=t.filter((function(e){return e._id===n}));console.log(r),o(r[0].Status),l(r[0]._id)}(e.uid,e._id),y(!0)},style:{width:"100%",marginTop:"2%",marginBottom:"-2%",marginLeft:"-6%",borderRadius:"7px"},children:"Change Status"})}),(0,ne.jsxs)(Nn,{show:m,onHide:g,children:[(0,ne.jsx)(Nn.Header,{closeButton:!0,children:(0,ne.jsx)(Nn.Title,{children:"Status "})}),(0,ne.jsx)(Nn.Body,{children:(0,ne.jsxs)("select",{id:" ",defaultValue:a,onChange:function(e){return o(e.target.value)},children:[(0,ne.jsx)("option",{value:"Active",style:{backgroundColor:"red"},children:"Active"}),(0,ne.jsx)("option",{value:"Blocked",style:{backgroundColor:"green"},children:"Blocked"})]})}),(0,ne.jsxs)(Nn.Footer,{children:[(0,ne.jsx)(Se,{variant:"secondary",onClick:g,style:{width:"20%"},children:"Close"}),(0,ne.jsx)(Se,{variant:"primary",onClick:function(){!function(){k.apply(this,arguments)}(e.uid,e._id),g()},children:"Change"})]})]})]},e._id)})}))]})]})})})}),(0,ne.jsx)(re,{}),(0,ne.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:(0,ne.jsx)("i",{className:"fas fa-angle-up"})}),(0,ne.jsx)("script",{src:"js/jquery.min.js"}),(0,ne.jsx)("script",{src:"js/bootstrap.bundle.min.js"}),(0,ne.jsx)("script",{src:"js/jquery.easing.min.js"}),(0,ne.jsx)("script",{src:"js/sb-admin-2.min.js"}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{})]})},Dn=function(){return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",style:{marginLeft:"400px"},children:"Upload Duties"})}),(0,ne.jsxs)("form",{style:{marginLeft:"400px",width:"60%"},children:[(0,ne.jsxs)("div",{class:"row",children:[(0,ne.jsx)("div",{class:"col-md-2",children:"Select Pickup Location "}),(0,ne.jsx)("div",{class:"col-md-10",children:(0,ne.jsx)("div",{class:"input-group mb-3",children:(0,ne.jsxs)("select",{class:"custom-select",id:"inputGroupSelect01",children:[(0,ne.jsx)("option",{selected:!0,children:"Select Pickup Location"}),(0,ne.jsx)("option",{value:"1",children:"Location One"}),(0,ne.jsx)("option",{value:"2",children:"Location Two"}),(0,ne.jsx)("option",{value:"3",children:"Location Three"})]})})})]}),(0,ne.jsxs)("div",{class:"row",children:[(0,ne.jsx)("div",{class:"col-md-2",children:"Boat Type"}),(0,ne.jsx)("div",{class:"col-md-10",children:(0,ne.jsx)("div",{class:"input-group mb-3",children:(0,ne.jsxs)("select",{class:"custom-select",id:"inputGroupSelect01",children:[(0,ne.jsx)("option",{selected:!0,children:"Boat Type"}),(0,ne.jsx)("option",{value:"1",children:"Boat Type One"}),(0,ne.jsx)("option",{value:"2",children:"Boat Type Two"}),(0,ne.jsx)("option",{value:"3",children:"Boat Type Three"})]})})})]}),(0,ne.jsxs)("div",{class:"row",children:[(0,ne.jsx)("div",{class:"col-md-2",children:"Boat Number"}),(0,ne.jsx)("div",{class:"col-md-10",children:(0,ne.jsx)("div",{class:"input-group mb-3",children:(0,ne.jsxs)("select",{class:"custom-select",id:"inputGroupSelect01",children:[(0,ne.jsx)("option",{selected:!0,children:"Boat Number"}),(0,ne.jsx)("option",{value:"1",children:"Boat Number One"}),(0,ne.jsx)("option",{value:"2",children:"Boat Number Two"}),(0,ne.jsx)("option",{value:"3",children:"Boat Number Three"})]})})})]}),(0,ne.jsxs)("div",{class:"row",children:[(0,ne.jsx)("div",{class:"col-md-2"}),(0,ne.jsx)("div",{class:"col-md-10",children:(0,ne.jsx)("button",{type:"button",class:"btn btn-success av",children:"Submit"})})]})]})]}),(0,ne.jsx)(re,{})]})},Rn=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){fetch("http://localhost:4001/dutyShow").then((function(e){e.json().then((function(e){n(e)}))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"All Duties"})}),(0,ne.jsxs)("table",{id:"example",class:"table table-striped table-bordered",style:{width:"70%",marginLeft:"330px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{class:"bl5",children:"Serial No"}),(0,ne.jsx)("th",{class:"bl5",children:" Pickup Location"}),(0,ne.jsx)("th",{class:"bl5",children:"Boat Type"}),(0,ne.jsx)("th",{class:"bl5",children:"Boat Number"})]})}),t.map((function(e,t){return(0,ne.jsx)("tbody",{children:(0,ne.jsxs)("tr",{style:{fontSize:"15px",fontStyle:"normal",fontFamily:"Times New Roman"},children:[(0,ne.jsx)("th",{scope:"row",children:t+1}),(0,ne.jsx)("td",{children:e.Pickup_Location}),(0,ne.jsx)("td",{children:e.Boat_Type}),(0,ne.jsx)("td",{children:e.Boat_Number})]},e._id)})}))]})]}),(0,ne.jsx)(re,{})]})},Pn=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){fetch("http://localhost:4001/AlertShow").then((function(e){e.json().then((function(e){n(e)}))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Alerts"})}),(0,ne.jsxs)("table",{id:"example",class:"table table-striped table-bordered",style:{width:"60%",marginLeft:"280px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{class:"bl5",children:"Serial No"}),(0,ne.jsx)("th",{class:"bl5",children:"Messages"})]})}),t.map((function(e,t){return(0,ne.jsx)("tbody",{children:(0,ne.jsxs)("tr",{style:{fontSize:"15px",fontStyle:"normal",fontFamily:"Times New Roman"},children:[(0,ne.jsx)("th",{scope:"row",children:t+1}),(0,ne.jsx)("td",{children:e.Message})]},e._id)})}))]})]}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)(re,{})]})},jn=function(){return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:[(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",style:{marginLeft:"360px"},children:"Add Alerts"}),(0,ne.jsx)("br",{})]}),(0,ne.jsxs)("center",{children:["Messages ",(0,ne.jsx)("textarea",{rows:"10",cols:"25"}),(0,ne.jsx)("div",{class:"col-md-10",children:(0,ne.jsx)("button",{type:"button",class:"btn btn-success av",id:"shift1",children:"Submit"})})]}),(0,ne.jsx)(re,{})]})};function On(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ln(e,t,n){return Ln=kt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&yt(i,n.prototype),i},Ln.apply(null,arguments)}function Mn(e){var t="function"===typeof Map?new Map:void 0;return Mn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ln(e,arguments,pt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),yt(n,e)},Mn(e)}var Fn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Un={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Vn=function(e){return function(e){var t=Fn(e);return Un.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bn=function(e){try{return Un.decodeString(e,!0)}catch(KC){console.error("base64Decode failed: ",KC)}return null};function zn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=zn(e[n],t[n]));return e}var qn=function(){function e(){var t=this;Ze(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return tt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Kn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vn(JSON.stringify({alg:"none",type:"JWT"})),Vn(JSON.stringify(a)),""].join(".")}function Wn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function Hn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KC){return!1}}function Qn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Yn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function $n(){var e=Wn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xn(){return"object"===typeof indexedDB}var Jn=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(wt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(wt(a),Zn.prototype.create),a}return tt(n)}(Mn(Error)),Zn=function(){function e(t,n,r){Ze(this,e),this.service=t,this.serviceName=n,this.errors=r}return tt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?er(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Jn(n,a,t);return o}}]),e}();function er(e,t){return e.replace(tr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var tr=/\{\$([^}]+)}/g;function nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ir(s)&&ir(u)){if(!rr(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ir(e){return null!==e&&"object"===typeof e}function ar(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function or(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function sr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ur(e,t){var n=new cr(e,t);return n.subscribe.bind(n)}var cr=function(){function e(t,n){var r=this;Ze(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return tt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=On(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=lr),void 0===r.error&&(r.error=lr),void 0===r.complete&&(r.complete=lr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(KC){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(KC){"undefined"!==typeof console&&console.error&&console.error(KC)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function lr(){}function fr(e){return e&&e._delegate?e._delegate:e}var hr=function(){function e(t,n,r){Ze(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return tt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),dr="[DEFAULT]",pr=function(){function e(t,n){Ze(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return tt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new qn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(KC){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KC){if(r)return null;throw KC}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch(KC){}var t,n=On(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(KC){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(le(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),le(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=On(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(fI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===dr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(fI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr;return this.component?this.component.multipleInstances?e:dr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var vr,mr,yr=function(){function e(t){Ze(this,e),this.name=t,this.providers=new Map}return tt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),gr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mr||(mr={}));var kr={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},br=mr.INFO,wr=(fe(vr={},mr.DEBUG,"log"),fe(vr,mr.VERBOSE,"log"),fe(vr,mr.INFO,"info"),fe(vr,mr.WARN,"warn"),fe(vr,mr.ERROR,"error"),vr),xr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=wr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_r=function(){function e(t){Ze(this,e),this.name=t,this._logLevel=br,this._logHandler=xr,this._userLogHandler=null,gr.push(this)}return tt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in mr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?kr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.DEBUG].concat(t)),this._logHandler.apply(this,[this,mr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,mr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.INFO].concat(t)),this._logHandler.apply(this,[this,mr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.WARN].concat(t)),this._logHandler.apply(this,[this,mr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,mr.ERROR].concat(t)),this._logHandler.apply(this,[this,mr.ERROR].concat(t))}}]),e}();var Er,Ir;var Sr=new WeakMap,Tr=new WeakMap,Cr=new WeakMap,Nr=new WeakMap,Ar=new WeakMap;var Dr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Tr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Cr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Rr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ir||(Ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Or(this),n),jr(Sr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jr(e.apply(Or(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Or(this),t].concat(r));return Cr.set(a,t.sort?t.sort():[t]),jr(a)}}function Pr(e){return"function"===typeof e?Rr(e):(e instanceof IDBTransaction&&function(e){if(!Tr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Tr.set(e,t)}}(e),t=e,(Er||(Er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Dr):e);var t}function jr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(jr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Sr.set(t,e)})).catch((function(){})),Ar.set(t,e),t}(e);if(Nr.has(e))return Nr.get(e);var t=Pr(e);return t!==e&&(Nr.set(e,t),Ar.set(t,e)),t}var Or=function(e){return Ar.get(e)};var Lr,Mr,Fr=["get","getKey","getAll","getAllKeys","count"],Ur=["put","add","delete","clear"],Vr=new Map;function Br(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Vr.get(t))return Vr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ur.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Fr.includes(n))){var a=function(){var e=J(Z.mark((function e(t){var a,o,s,u,c,l,f=arguments;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Vr.set(t,a),a}}}Dr=function(e){return de(de({},e),{},{get:function(t,n,r){return Br(t,n)||e.get(t,n,r)},has:function(t,n){return!!Br(t,n)||e.has(t,n)}})}(Dr);var zr=function(){function e(t){Ze(this,e),this.container=t}return tt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var qr="@firebase/app",Kr="0.7.25",Wr=new _r("@firebase/app"),Gr="[DEFAULT]",Hr=(fe(Lr={},qr,"fire-core"),fe(Lr,"@firebase/app-compat","fire-core-compat"),fe(Lr,"@firebase/analytics","fire-analytics"),fe(Lr,"@firebase/analytics-compat","fire-analytics-compat"),fe(Lr,"@firebase/app-check","fire-app-check"),fe(Lr,"@firebase/app-check-compat","fire-app-check-compat"),fe(Lr,"@firebase/auth","fire-auth"),fe(Lr,"@firebase/auth-compat","fire-auth-compat"),fe(Lr,"@firebase/database","fire-rtdb"),fe(Lr,"@firebase/database-compat","fire-rtdb-compat"),fe(Lr,"@firebase/functions","fire-fn"),fe(Lr,"@firebase/functions-compat","fire-fn-compat"),fe(Lr,"@firebase/installations","fire-iid"),fe(Lr,"@firebase/installations-compat","fire-iid-compat"),fe(Lr,"@firebase/messaging","fire-fcm"),fe(Lr,"@firebase/messaging-compat","fire-fcm-compat"),fe(Lr,"@firebase/performance","fire-perf"),fe(Lr,"@firebase/performance-compat","fire-perf-compat"),fe(Lr,"@firebase/remote-config","fire-rc"),fe(Lr,"@firebase/remote-config-compat","fire-rc-compat"),fe(Lr,"@firebase/storage","fire-gcs"),fe(Lr,"@firebase/storage-compat","fire-gcs-compat"),fe(Lr,"@firebase/firestore","fire-fst"),fe(Lr,"@firebase/firestore-compat","fire-fst-compat"),fe(Lr,"fire-js","fire-js"),fe(Lr,"firebase","fire-js-all"),Lr),Qr=new Map,Yr=new Map;function $r(e,t){try{e.container.addComponent(t)}catch(KC){Wr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),KC)}}function Xr(e,t){e.container.addOrOverwriteComponent(t)}function Jr(e){var t=e.name;if(Yr.has(t))return Wr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Yr.set(t,e);var n,r=On(Qr.values());try{for(r.s();!(n=r.n()).done;){$r(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Zr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gr;Zr(e,t).clearInstance(n)}function ti(){Yr.clear()}var ni=(fe(Mr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fe(Mr,"bad-app-name","Illegal App name: '{$appName}"),fe(Mr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),fe(Mr,"app-deleted","Firebase App named '{$appName}' already deleted"),fe(Mr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fe(Mr,"invalid-log-argument","First argument to `onLog` must be null or a function."),fe(Mr,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),fe(Mr,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),fe(Mr,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),fe(Mr,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Mr),ri=new Zn("app","Firebase",ni),ii=function(){function e(t,n,r){var i=this;Ze(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",(function(){return i}),"PUBLIC"))}return tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}]),e}(),ai="9.8.2";function oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Gr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ri.create("bad-app-name",{appName:String(i)});var a=Qr.get(i);if(a){if(rr(e,a.options)&&rr(r,a.config))return a;throw ri.create("duplicate-app",{appName:i})}var o,s=new yr(i),u=On(Yr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ii(e,r,s);return Qr.set(i,l),l}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,t=Qr.get(e);if(!t)throw ri.create("no-app",{appName:e});return t}function ui(){return Array.from(Qr.values())}function ci(e){return li.apply(this,arguments)}function li(){return(li=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Qr.has(n)){e.next=6;break}return Qr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fi(e,t,n){var r,i=null!==(r=Hr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wr.warn(s.join(" "))}Jr(new hr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function hi(e,t){if(null!==e&&"function"!==typeof e)throw ri.create("invalid-log-argument");!function(e,t){var n,r=On(gr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=kr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:mr[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function di(e){var t;t=e,gr.forEach((function(e){e.setLogLevel(t)}))}var pi="firebase-heartbeat-store",vi=null;function mi(){return vi||(vi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=jr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(jr(s.result),e.oldVersion,e.newVersion,jr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(pi)}}).catch((function(e){throw ri.create("storage-open",{originalErrorMessage:e.message})}))),vi}function yi(e){return gi.apply(this,arguments)}function gi(){return gi=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mi();case 3:return n=e.sent,e.abrupt("return",n.transaction(pi).objectStore(pi).get(wi(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ri.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),gi.apply(this,arguments)}function ki(e,t){return bi.apply(this,arguments)}function bi(){return bi=J(Z.mark((function e(t,n){var r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mi();case 3:return r=e.sent,i=r.transaction(pi,"readwrite"),a=i.objectStore(pi),e.next=8,a.put(n,wi(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),ri.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),bi.apply(this,arguments)}function wi(e){return"".concat(e.name,"!").concat(e.options.appId)}var xi=function(){function e(t){var n=this;Ze(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ti(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return tt(e,[{key:"triggerHeartbeat",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=_i(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=J(Z.mark((function e(){var t,n,r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=_i(),n=Ei(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Vn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _i(){return(new Date).toISOString().substring(0,10)}function Ei(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=On(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ci(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ci(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ii,Si,Ti=function(){function e(t){Ze(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return tt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=J(Z.mark((function e(){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,yi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ki(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ki(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(le(r.heartbeats),le(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ci(e){return Vn(JSON.stringify({version:2,heartbeats:e})).length}Ii="",Jr(new hr("platform-logger",(function(e){return new zr(e)}),"PRIVATE")),Jr(new hr("heartbeat",(function(e){return new xi(e)}),"PRIVATE")),fi(qr,Kr,Ii),fi(qr,Kr,"esm2017"),fi("fire-js","");var Ni=function(){function e(t,n){var r=this;Ze(this,e),this._delegate=t,this.firebase=n,$r(t,new hr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ci(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){$r(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Xr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ai=(fe(Si={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),fe(Si,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Si),Di=new Zn("app-compat","Firebase",Ai);var Ri=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=oi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(nr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:fi,setLogLevel:di,onLog:hi,apps:null,SDK_VERSION:ai,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Jr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Di.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&zn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!nr(n,e=e||Gr))throw Di.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ni);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){zn(n,e)},createSubscribe:ur,ErrorFactory:Zn,deepExtend:zn}),n}(),Pi=new _r("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Pi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ji=self.firebase.SDK_VERSION;ji&&ji.indexOf("LITE")>=0&&Pi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Oi=Ri;!function(e){fi("@firebase/app-compat","0.1.26",e)}();Oi.registerVersion("firebase","9.8.2","app-compat");function Li(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Mi;Object.create;var Fi="facebook.com",Ui="github.com",Vi="google.com",Bi="password",zi="twitter.com",qi="EMAIL_SIGNIN",Ki="PASSWORD_RESET",Wi="RECOVER_EMAIL",Gi="REVERT_SECOND_FACTOR_ADDITION",Hi="VERIFY_AND_CHANGE_EMAIL",Qi="VERIFY_EMAIL";function Yi(){return fe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var $i=function(){var e;return fe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),fe(e,"argument-error",""),fe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),fe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),fe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),fe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),fe(e,"cordova-not-ready","Cordova framework is not ready."),fe(e,"cors-unsupported","This browser is not supported."),fe(e,"credential-already-in-use","This credential is already associated with a different user account."),fe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),fe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),fe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),fe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),fe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),fe(e,"email-already-in-use","The email address is already in use by another account."),fe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),fe(e,"expired-action-code","The action code has expired."),fe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),fe(e,"internal-error","An internal AuthError has occurred."),fe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),fe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),fe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),fe(e,"invalid-auth-event","An internal AuthError has occurred."),fe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),fe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),fe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),fe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),fe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),fe(e,"invalid-email","The email address is badly formatted."),fe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),fe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),fe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),fe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),fe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),fe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),fe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),fe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),fe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),fe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),fe(e,"wrong-password","The password is invalid or the user does not have a password."),fe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),fe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),fe(e,"invalid-provider-id","The specified provider ID is invalid."),fe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),fe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),fe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),fe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),fe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),fe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),fe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),fe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),fe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),fe(e,"missing-continue-uri","A continue URL must be provided in the request."),fe(e,"missing-iframe-start","An internal AuthError has occurred."),fe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),fe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),fe(e,"missing-multi-factor-info","No second factor identifier is provided."),fe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),fe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),fe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),fe(e,"app-deleted","This instance of FirebaseApp has been deleted."),fe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),fe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),fe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),fe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),fe(e,"no-auth-event","An internal AuthError has occurred."),fe(e,"no-such-provider","User was not linked to an account with the given provider."),fe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),fe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),fe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),fe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),fe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),fe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),fe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),fe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),fe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),fe(e,"rejected-credential","The request contains malformed or mismatching credentials."),fe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),fe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),fe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),fe(e,"timeout","The operation has timed out."),fe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),fe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),fe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),fe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),fe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),fe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),fe(e,"unverified-email","The operation requires a verified email."),fe(e,"user-cancelled","The user did not grant your application the permissions it requested."),fe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),fe(e,"user-disabled","The user account has been disabled by an administrator."),fe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),fe(e,"user-signed-out",""),fe(e,"weak-password","The password must be 6 characters long or more."),fe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),fe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Xi=Yi,Ji=new Zn("auth","Firebase",Yi()),Zi=new _r("@firebase/auth");function ea(e){if(Zi.logLevel<=mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zi.error.apply(Zi,["Auth (".concat(ai,"): ").concat(e)].concat(n))}}function ta(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw aa.apply(void 0,[e].concat(n))}function na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return aa.apply(void 0,[e].concat(n))}function ra(e,t,n){var r=Object.assign(Object.assign({},Xi()),fe({},t,n));return new Zn("auth","Firebase",r).create(t,{appName:e.name})}function ia(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ta(e,"argument-error"),ra(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=le(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(le(o)))}return Ji.create.apply(Ji,[e].concat(n))}function oa(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw aa.apply(void 0,[t].concat(r))}}function sa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ea(t),new Error(t)}function ua(e,t){e||sa(t)}var ca=new Map;function la(e){ua(e instanceof Function,"Expected a class definition");var t=ca.get(e);return t?(ua(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ca.set(e,t),t)}function fa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ha(){return"http:"===da()||"https:"===da()}function da(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var pa=function(){function e(t,n){Ze(this,e),this.shortDelay=t,this.longDelay=n,ua(n>t,"Short delay should be less than long delay!"),this.isMobile=Gn()||Yn()}return tt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ha()||Qn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function va(e,t){ua(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ma=function(){function e(){Ze(this,e)}return tt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ya=(fe(Mi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),fe(Mi,"MISSING_CUSTOM_TOKEN","internal-error"),fe(Mi,"INVALID_IDENTIFIER","invalid-email"),fe(Mi,"MISSING_CONTINUE_URI","internal-error"),fe(Mi,"INVALID_PASSWORD","wrong-password"),fe(Mi,"MISSING_PASSWORD","internal-error"),fe(Mi,"EMAIL_EXISTS","email-already-in-use"),fe(Mi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),fe(Mi,"INVALID_IDP_RESPONSE","invalid-credential"),fe(Mi,"INVALID_PENDING_TOKEN","invalid-credential"),fe(Mi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),fe(Mi,"MISSING_REQ_TYPE","internal-error"),fe(Mi,"EMAIL_NOT_FOUND","user-not-found"),fe(Mi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),fe(Mi,"EXPIRED_OOB_CODE","expired-action-code"),fe(Mi,"INVALID_OOB_CODE","invalid-action-code"),fe(Mi,"MISSING_OOB_CODE","internal-error"),fe(Mi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),fe(Mi,"INVALID_ID_TOKEN","invalid-user-token"),fe(Mi,"TOKEN_EXPIRED","user-token-expired"),fe(Mi,"USER_NOT_FOUND","user-token-expired"),fe(Mi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),fe(Mi,"INVALID_CODE","invalid-verification-code"),fe(Mi,"INVALID_SESSION_INFO","invalid-verification-id"),fe(Mi,"INVALID_TEMPORARY_PROOF","invalid-credential"),fe(Mi,"MISSING_SESSION_INFO","missing-verification-id"),fe(Mi,"SESSION_EXPIRED","code-expired"),fe(Mi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),fe(Mi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),fe(Mi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),fe(Mi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),fe(Mi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),fe(Mi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),fe(Mi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),fe(Mi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),fe(Mi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),fe(Mi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),fe(Mi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Mi),ga=new pa(3e4,6e4);function ka(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ba(e,t,n,r){return wa.apply(this,arguments)}function wa(){return wa=J(ee().mark((function e(t,n,r,i){var a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",xa(t,a,J(ee().mark((function e(){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ar(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ma.fetch()(Sa(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e,t,n){return _a.apply(this,arguments)}function _a(){return _a=J(ee().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ya),n),e.prev=2,a=new Ta(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ca(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ca(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Ca(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Ca(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ra(t,p,d);case 34:ta(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Jn)){e.next=41;break}throw e.t0;case 41:ta(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),_a.apply(this,arguments)}function Ea(e,t,n,r){return Ia.apply(this,arguments)}function Ia(){return Ia=J(ee().mark((function e(t,n,r,i){var a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ba(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ta(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Sa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?va(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ta=function(){function e(t){var n=this;Ze(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(na(n.auth,"network-request-failed"))}),ga.get())}))}return tt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ca(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=na(e,t,r);return i.customData._tokenResponse=n,i}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Da(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Pa(e,t){return ja.apply(this,arguments)}function ja(){return ja=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Oa(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KC){}}function La(){return La=J(ee().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=fr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,oa((a=Fa(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Oa(Ma(a.auth_time)),issuedAtTime:Oa(Ma(a.iat)),expirationTime:Oa(Ma(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}function Ma(e){return 1e3*Number(e)}function Fa(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ea("JWT malformed, contained fewer than 3 sections"),null;try{var a=Bn(r);return a?JSON.parse(a):(ea("Failed to decode base64 JWT payload"),null)}catch(KC){return ea("Caught error parsing JWT payload as JSON",KC),null}}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return Va=J(ee().mark((function e(t,n){var r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Jn&&Ba(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Va.apply(this,arguments)}function Ba(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var za=function(){function e(t){Ze(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return tt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),qa=function(){function e(t,n){Ze(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return tt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ka(e){return Wa.apply(this,arguments)}function Wa(){return Wa=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ua(t,Pa(r,{idToken:i}));case 6:oa(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Qa(o.providerUserInfo):[],u=Ha(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Wa.apply(this,arguments)}function Ga(){return(Ga=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fr(t),e.next=3,Ka(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(le(n),le(t))}function Qa(e){return e.map((function(e){var t=e.providerId,n=Li(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ya(e,t){return $a.apply(this,arguments)}function $a(){return $a=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t,{},J(ee().mark((function e(){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ar({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Sa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ma.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}var Xa=function(){function e(){Ze(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return tt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){oa(e.idToken,"internal-error"),oa("undefined"!==typeof e.idToken,"internal-error"),oa("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Fa(e);return oa(t,"internal-error"),oa("undefined"!==typeof t.exp,"internal-error"),oa("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],oa(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(oa("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(oa("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(oa("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Ja(e,t){oa("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Za=function(){function e(t){Ze(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Li(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new za(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?le(a.providerData):[],this.metadata=new qa(a.createdAt||void 0,a.lastLoginAt||void 0)}return tt(e,[{key:"getIdToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ua(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(oa(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return La.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ga.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(oa(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){oa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=J(ee().mark((function e(t){var n,r,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ka(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ua(this,Na(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;oa(k&&_,t,"internal-error");var E=Xa.fromJSON(this.name,_);oa("string"===typeof k,t,"internal-error"),Ja(f,t.name),Ja(h,t.name),oa("boolean"===typeof b,t,"internal-error"),oa("boolean"===typeof w,t,"internal-error"),Ja(d,t.name),Ja(p,t.name),Ja(v,t.name),Ja(m,t.name),Ja(y,t.name),Ja(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Xa).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ka(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),eo=function(){function e(){Ze(this,e),this.type="NONE",this.storage={}}return tt(e,[{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();eo.type="NONE";var to=eo;function no(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ro=function(){function e(t,n,r){Ze(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=no(this.userKey,a.apiKey,o),this.fullPersistenceKey=no("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return tt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Za._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(la(to),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||la(to),s=no(i,n.config.apiKey,n.name),u=null,c=On(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Za._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function io(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(uo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ao(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(lo(t))return"Blackberry";if(fo(t))return"Webos";if(oo(t))return"Safari";if((t.includes("chrome/")||so(t))&&!t.includes("edge/"))return"Chrome";if(co(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/firefox\//i.test(e)}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/crios\//i.test(e)}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/iemobile/i.test(e)}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/android/i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/blackberry/i.test(e)}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/webos/i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/iphone|ipad|ipod/i.test(e)}function po(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return ho(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function vo(){return $n()&&10===document.documentMode}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return ho(e)||co(e)||fo(e)||lo(e)||/windows phone/i.test(e)||uo(e)}function yo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=io(Wn());break;case"Worker":t="".concat(io(Wn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ai,"/").concat(r)}var go=function(){function e(t){Ze(this,e),this.auth=t,this.queue=[]}return tt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(KC){r(KC)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=On(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=On(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ko=function(){function e(t,n,r){Ze(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wo(this),this.idTokenSubscription=new wo(this),this.beforeStateQueue=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ji,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return tt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=la(t)),this._initializationPromise=this.queue(J(ee().mark((function r(){var i,a;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ro.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return oa(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ka(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?fr(t):null)&&oa(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n,r=this,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&oa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(la(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Zn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return oa(n=t&&la(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ro.create(this,[la(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oa(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return oa(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bo(e){return fr(e)}var wo=function(){function e(t){var n=this;Ze(this,e),this.auth=t,this.observer=null,this.addObserver=ur((function(e){return n.observer=e}))}return tt(e,[{key:"next",get:function(){return oa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function xo(e,t,n){var r=bo(e);oa(r._canInitEmulator,r,"emulator-config-failed"),oa(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=_o(t),o=function(e){var t=_o(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Eo(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Eo(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _o(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Eo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Io=function(){function e(t,n){Ze(this,e),this.providerId=t,this.signInMethod=n}return tt(e,[{key:"toJSON",value:function(){return sa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sa("not implemented")}}]),e}();function So(e,t){return To.apply(this,arguments)}function To(){return To=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:resetPassword",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Co(e,t){return No.apply(this,arguments)}function No(){return No=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(e,t){return Do.apply(this,arguments)}function Do(){return Do=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(e,t){return Po.apply(this,arguments)}function Po(){return Po=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPassword",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function jo(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:sendOobCode",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Fo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function zo(e,t){return qo.apply(this,arguments)}function qo(){return qo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ko(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}var Qo=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ze(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return tt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ro(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ko(t,{email:this._email,oobCode:this._password}));case 5:ta(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Co(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Go(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ta(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Io);function Yo(e,t){return $o.apply(this,arguments)}function $o(){return $o=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithIdp",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}var Xo=function(e){gt(n,e);var t=_t(n);function n(){var e;return Ze(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return tt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ar(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ta("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Li(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Io);function Jo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:sendVerificationCode",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function es(){return es=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return ts=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ca(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=fe({},"USER_NOT_FOUND","user-not-found");function rs(){return rs=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithPhoneNumber",ka(t,r),ns));case 2:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this,"phone","phone")).params=e,r}return tt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return es.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ts.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return rs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Io);var as=function(){function e(t){var n,r,i,a,o,s;Ze(this,e);var u=or(sr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);oa(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return tt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=or(sr(e)).link,n=t?or(sr(t)).deep_link_id:null,r=or(sr(e)).deep_link_id;return(r?or(sr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(fI){return null}}}]),e}();var os=function(){function e(){Ze(this,e),this.providerId=e.PROVIDER_ID}return tt(e,null,[{key:"credential",value:function(e,t){return Qo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=as.parseLink(t);return oa(n,"argument-error"),Qo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();os.PROVIDER_ID="password",os.EMAIL_PASSWORD_SIGN_IN_METHOD="password",os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ss=function(){function e(t){Ze(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return tt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),us=function(e){gt(n,e);var t=_t(n);function n(){var e;return Ze(this,n),(e=t.apply(this,arguments)).scopes=[],e}return tt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return le(this.scopes)}}]),n}(ss),cs=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return oa(e.idToken||e.accessToken,"argument-error"),Xo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return oa("providerId"in t&&"signInMethod"in t,"argument-error"),Xo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(KC){return null}}}]),n}(us),ls=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.call(this,"facebook.com")}return tt(n,null,[{key:"credential",value:function(e){return Xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fI){return null}}}]),n}(us);ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",ls.PROVIDER_ID="facebook.com";var fs=function(e){gt(n,e);var t=_t(n);function n(){var e;return Ze(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return tt(n,null,[{key:"credential",value:function(e,t){return Xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(fI){return null}}}]),n}(us);fs.GOOGLE_SIGN_IN_METHOD="google.com",fs.PROVIDER_ID="google.com";var hs=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.call(this,"github.com")}return tt(n,null,[{key:"credential",value:function(e){return Xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(fI){return null}}}]),n}(us);hs.GITHUB_SIGN_IN_METHOD="github.com",hs.PROVIDER_ID="github.com";var ds=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return tt(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Yo(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Io),ps=function(e){gt(n,e);var t=_t(n);function n(e){return Ze(this,n),oa(e.startsWith("saml."),"argument-error"),t.call(this,e)}return tt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ds.fromJSON(e);return oa(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ds._create(r,n)}catch(KC){return null}}}]),n}(ss),vs=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.call(this,"twitter.com")}return tt(n,null,[{key:"credential",value:function(e,t){return Xo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(fI){return null}}}]),n}(us);function ms(e,t){return ys.apply(this,arguments)}function ys(){return ys=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signUp",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}vs.TWITTER_SIGN_IN_METHOD="twitter.com",vs.PROVIDER_ID="twitter.com";var gs=function(){function e(t){Ze(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return tt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Za._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=ks(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=J(ee().mark((function t(n,r,i){var a;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ks(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ks(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function bs(){return bs=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new gs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ms(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,gs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var ws=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a){var o,s;return Ze(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(wt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return tt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Jn);function xs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ws._fromErrorAndOperation(e,n,t,r);throw n}))}function _s(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Es(e,t){return Is.apply(this,arguments)}function Is(){return Is=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fr(t),e.next=3,Cs(!0,r,n);case 3:return e.t0=Da,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=_s(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Ss(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=J(ee().mark((function e(t,n){var r,i,a=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ua,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",gs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e,t,n){return Ns.apply(this,arguments)}function Ns(){return(Ns=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka(n);case 2:i=_s(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",oa(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function As(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ua(t,xs(i,a,n,t),r);case 6:return oa((o=e.sent).idToken,i,"internal-error"),oa(s=Fa(o.idToken),i,"internal-error"),u=s.sub,oa(t.uid===u,i,"user-mismatch"),e.abrupt("return",gs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ta(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ds.apply(this,arguments)}function Rs(e,t){return Ps.apply(this,arguments)}function Ps(){return Ps=J(ee().mark((function e(t,n){var r,i,a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,xs(t,i,n);case 4:return a=e.sent,e.next=7,gs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function js(e,t){return Os.apply(this,arguments)}function Os(){return Os=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rs(bo(t),n));case 1:case"end":return e.stop()}}),e)}))),Os.apply(this,arguments)}function Ls(e,t){return Ms.apply(this,arguments)}function Ms(){return(Ms=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fr(t),e.next=3,Cs(!1,r,n.providerId);case 3:return e.abrupt("return",Ss(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return Us.apply(this,arguments)}function Us(){return(Us=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(fr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:signInWithCustomToken",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(){return zs=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bo(t),e.next=3,Vs(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,gs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}var qs=function(){function e(t,n){Ze(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return tt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ks._fromServerResponse(e,t):ta(e,"internal-error")}}]),e}(),Ks=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return tt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(qs);function Ws(e,t,n){var r;oa((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),oa("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(oa(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(oa(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Gs(){return Gs=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ws(i,a,r),e.next=5,Fo(i,a);case 5:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Hs(){return Hs=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,So(fr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Qs(){return Qs=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(fr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Qs.apply(this,arguments)}function Ys(e,t){return $s.apply(this,arguments)}function $s(){return $s=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fr(t),e.next=3,So(r,{oobCode:n});case 3:i=e.sent,oa(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return oa(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:oa(i.mfaInfo,r,"internal-error");case 13:oa(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=qs._fromServerResponse(bo(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Xs(){return Xs=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ys(fr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t,n){return Zs.apply(this,arguments)}function Zs(){return Zs=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,ms(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,gs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(){return eu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),a={requestType:"EMAIL_SIGNIN",email:n},oa(r.handleCodeInApp,i,"argument-error"),r&&Ws(i,a,r),e.next=6,Vo(i,a);case 6:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(){return tu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),oa((a=os.credentialWithLink(n,r||fa()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",js(i,a));case 4:case"end":return e.stop()}}),e)}))),tu.apply(this,arguments)}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:createAuthUri",ka(t,n)));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(){return iu=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ha()?fa():"http://localhost",i={identifier:n,continueUri:r},e.next=4,nu(fr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(){return(au=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ws(r.auth,a,n),e.next=8,Lo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(){return(ou=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ws(i.auth,o,r),e.next=8,zo(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e,t){return uu.apply(this,arguments)}function uu(){return uu=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function cu(){return(cu=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=fr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ua(a,su(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e,t,n){return fu.apply(this,arguments)}function fu(){return fu=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ua(t,Co(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}var hu=tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ze(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),du=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a){var o;return Ze(this,n),(o=t.call(this,e,r,i)).username=a,o}return tt(n)}(hu),pu=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"facebook.com",r)}return tt(n)}(hu),vu=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return tt(n)}(du),mu=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"google.com",r)}return tt(n)}(hu),yu=function(e){gt(n,e);var t=_t(n);function n(e,r,i){return Ze(this,n),t.call(this,e,"twitter.com",r,i)}return tt(n)}(du);function gu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Fa(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new hu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new pu(a,i);case"github.com":return new vu(a,i);case"google.com":return new mu(a,i);case"twitter.com":return new yu(a,i,e.screenName||null);case"custom":case"anonymous":return new hu(a,null);default:return new hu(a,r,i)}}(n)}var ku=function(){function e(t,n){Ze(this,e),this.type=t,this.credential=n}return tt(e,[{key:"toJSON",value:function(){return{multiFactorSession:fe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),bu=function(){function e(t,n,r){Ze(this,e),this.session=t,this.hints=n,this.signInResolver=r}return tt(e,[{key:"resolveSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=bo(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return qs._fromServerResponse(r,e)}));oa(i.mfaPendingCredential,r,"internal-error");var o=ku._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=J(ee().mark((function e(t){var a,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,gs._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return oa(n.user,r,"internal-error"),e.abrupt("return",gs._forOperation(n.user,n.operationType,s));case 17:ta(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function wu(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:start",ka(e,t))}function xu(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ka(e,t))}var _u=function(){function e(t){var n=this;Ze(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return qs._fromServerResponse(t.auth,e)})))}))}return tt(e,[{key:"getSession",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ku,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ua(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Ua(this.user,xu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Eu=new WeakMap;var Iu="__sak",Su=function(){function e(t,n){Ze(this,e),this.storageRetriever=t,this.type=n}return tt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch(fI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Tu=function(e){gt(n,e);var t=_t(n);function n(){var e;return Ze(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Wn();return oo(e)||ho(e)}()&&function(){try{return!(!window||window===window.top)}catch(KC){return!1}}(),e.fallbackToPolling=mo(),e._shouldAllowMigration=!0,e}return tt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=J(ee().mark((function e(t,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(pt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(pt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(pt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Su);Tu.type="LOCAL";var Cu=Tu,Nu=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return tt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Su);Nu.type="SESSION";var Au=Nu;function Du(e){return Promise.all(e.map(function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ru=function(){function e(t){Ze(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return tt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Du(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Pu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ru.receivers=[];var ju=function(){function e(t){Ze(this,e),this.target=t,this.handlers=new Set}return tt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Pu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ou(){return window}function Lu(){return"undefined"!==typeof Ou().WorkerGlobalScope&&"function"===typeof Ou().importScripts}function Mu(){return Fu.apply(this,arguments)}function Fu(){return(Fu=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Uu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vu="firebaseLocalStorageDb",Bu="firebaseLocalStorage",zu="fbase_key",qu=function(){function e(t){Ze(this,e),this.request=t}return tt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ku(e,t){return e.transaction([Bu],t?"readwrite":"readonly").objectStore(Bu)}function Wu(){var e=indexedDB.deleteDatabase(Vu);return new qu(e).toPromise()}function Gu(){var e=indexedDB.open(Vu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bu,{keyPath:zu})}catch(KC){n(KC)}})),e.addEventListener("success",J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bu)){n.next=12;break}return r.close(),n.next=5,Wu();case 5:return n.t0=t,n.next=8,Gu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Hu(e,t,n){return Qu.apply(this,arguments)}function Qu(){return Qu=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ku(t,!0).put((fe(i={},zu,n),fe(i,"value",r),i)),e.abrupt("return",new qu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function Yu(e,t){return $u.apply(this,arguments)}function $u(){return $u=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ku(t,!1).get(n),e.next=3,new qu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Xu(e,t){var n=Ku(e,!0).delete(t);return new qu(n).toPromise()}var Ju=function(){function e(){Ze(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return tt(e,[{key:"_openDb",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Gu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ru._getInstance(Lu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=J(ee().mark((function e(n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ju(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Uu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Gu();case 5:return t=e.sent,e.next=8,Hu(t,Iu,"1");case 8:return e.next=10,Xu(t,Iu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Hu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Yu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ku(e,!1).getAll();return new qu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=On(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ju.type="LOCAL";var Zu=Ju;function ec(e,t){return ba(e,"POST","/v2/accounts/mfaSignIn:start",ka(e,t))}function tc(e){return nc.apply(this,arguments)}function nc(){return nc=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=na("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ic(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ac=1e12,oc=function(){function e(t){Ze(this,e),this.auth=t,this.counter=ac,this._widgets=new Map}return tt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new sc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ac;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ac;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ac,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sc=function(){function e(t,n,r){var i=this;Ze(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;oa(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return tt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(KC){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(KC){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var uc=ic("rcb"),cc=new pa(3e4,6e4),lc="https://www.google.com/recaptcha/api.js?",fc=function(){function e(){Ze(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ou().grecaptcha}return tt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return oa(hc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ou().grecaptcha):new Promise((function(r,i){var a=Ou().setTimeout((function(){i(na(e,"network-request-failed"))}),cc.get());Ou()[uc]=function(){Ou().clearTimeout(a),delete Ou()[uc];var o=Ou().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(na(e,"internal-error"))},rc("".concat(lc,"?").concat(ar({onload:uc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(na(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ou().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function hc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var dc=function(){function e(){Ze(this,e)}return tt(e,[{key:"load",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new oc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),pc="recaptcha",vc={theme:"light",type:"image"},mc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},vc),r=arguments.length>2?arguments[2]:void 0;Ze(this,e),this.parameters=n,this.type=pc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bo(r),this.isInvisible="invisible"===this.parameters.size,oa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;oa(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dc:new fc,this.validateStartingState()}return tt(e,[{key:"verify",value:function(){var e=J(ee().mark((function e(){var t,n,r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(KC){return Promise.reject(KC)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){oa(!this.parameters.sitekey,this.auth,"argument-error"),oa(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oa("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ou()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){oa(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa(ha()&&!Lu(),this.auth,"internal-error"),e.next=3,yc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,tc(this.auth);case 8:oa(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return oa(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function yc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var gc=function(){function e(t,n){Ze(this,e),this.verificationId=t,this.onConfirmation=n}return tt(e,[{key:"confirm",value:function(e){var t=is._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function kc(){return kc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),e.next=3,_c(i,n,fr(r));case 3:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return js(i,e)})));case 5:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return(wc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),e.next=3,Cs(!1,i,"phone");case 3:return e.next=5,_c(i.auth,n,fr(r));case 5:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return Ls(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(){return(xc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fr(t),e.next=3,_c(i.auth,n,fr(r));case 3:return a=e.sent,e.abrupt("return",new gc(a,(function(e){return Fs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t,n){return Ec.apply(this,arguments)}function Ec(){return Ec=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,oa("string"===typeof a,t,"argument-error"),oa(r.type===pc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return oa("enroll"===s.type,t,"internal-error"),e.next=13,wu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return oa("signin"===s.type,t,"internal-error"),oa(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ec(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Jo(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ec.apply(this,arguments)}function Ic(){return(Ic=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(fr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sc=function(){function e(t){Ze(this,e),this.providerId=e.PROVIDER_ID,this.auth=bo(t)}return tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return _c(this.auth,e,fr(t))}}],[{key:"credential",value:function(e,t){return is._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?is._fromTokenResponse(n,r):null}}]),e}();function Tc(e,t){return t?la(t):(oa(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Sc.PROVIDER_ID="phone",Sc.PHONE_SIGN_IN_METHOD="phone";var Cc=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this,"custom","custom")).params=e,r}return tt(n,[{key:"_getIdTokenResponse",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Yo(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Yo(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Io);function Nc(e){return Rs(e.auth,new Cc(e),e.bypassAuthState)}function Ac(e){var t=e.auth,n=e.user;return oa(n,t,"internal-error"),As(n,new Cc(e),e.bypassAuthState)}function Dc(e){return Rc.apply(this,arguments)}function Rc(){return Rc=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,oa(r=t.user,n,"internal-error"),e.abrupt("return",Ss(r,new Cc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}var Pc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ze(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return tt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=J(ee().mark((function t(n,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nc;case"linkViaPopup":case"linkViaRedirect":return Dc;case"reauthViaPopup":case"reauthViaRedirect":return Ac;default:ta(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),jc=new pa(2e3,1e4);function Oc(e,t,n){return Lc.apply(this,arguments)}function Lc(){return Lc=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),ia(t,n,ss),a=Tc(i,r),o=new Vc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(){return(Mc=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=fr(t)).auth,n,ss),a=Tc(i.auth,r),o=new Vc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=fr(t)).auth,n,ss),a=Tc(i.auth,r),o=new Vc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a,o){var s;return Ze(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=wt(s),s}return tt(n,[{key:"executeNotNull",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return oa(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua(1===this.filter.length,"Popup operations only handle one event"),t=Pu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(na(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(na(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(na(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,jc.get())}()}}]),n}(Pc);Vc.currentPopupAction=null;var Bc=new Map,zc=function(e){gt(n,e);var t=_t(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ze(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return tt(n,[{key:"execute",value:function(){var e=J(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,qc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,mt(pt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Bc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Bc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",mt(pt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",mt(pt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Pc);function qc(e,t){return Kc.apply(this,arguments)}function Kc(){return Kc=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yc(n),i=Qc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Wc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(t)._set(Yc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Hc(e,t){Bc.set(e._key(),t)}function Qc(e){return la(e._redirectPersistence)}function Yc(e){return no("pendingRedirect",e.config.apiKey,e.name)}function $c(e,t,n){return function(e,t,n){return Xc.apply(this,arguments)}(e,t,n)}function Xc(){return Xc=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bo(t),ia(t,n,ss),a=Tc(i,r),e.next=5,Wc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(e,t,n){return function(e,t,n){return Zc.apply(this,arguments)}(e,t,n)}function Zc(){return(Zc=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=fr(t)).auth,n,ss),a=Tc(i.auth,r),e.next=5,Wc(a,i.auth);case 5:return e.next=7,ol(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function el(e,t,n){return function(e,t,n){return tl.apply(this,arguments)}(e,t,n)}function tl(){return(tl=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia((i=fr(t)).auth,n,ss),a=Tc(i.auth,r),e.next=5,Cs(!1,i,n.providerId);case 5:return e.next=7,Wc(a,i.auth);case 7:return e.next=9,ol(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t){return rl.apply(this,arguments)}function rl(){return rl=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bo(t)._initializationPromise;case 2:return e.abrupt("return",il(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=J(ee().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=bo(t),a=Tc(i,n),o=new zc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e){return sl.apply(this,arguments)}function sl(){return(sl=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ul=function(){function e(t){Ze(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return tt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ll(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ll(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(na(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(cl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function cl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ll(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function fl(e){return hl.apply(this,arguments)}function hl(){return hl=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ba(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}var dl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pl=/^https?/;function vl(){return vl=J(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fl(t);case 4:n=e.sent,r=n.authorizedDomains,i=On(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ml(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ta(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),vl.apply(this,arguments)}function ml(e){var t=fa(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!pl.test(r))return!1;if(dl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var yl=new pa(3e4,6e4);function gl(){var e=Ou().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=le(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var kl=null;function bl(e){return kl=kl||function(e){return new Promise((function(t,n){var r,i,a;function o(){gl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){gl(),n(na(e,"network-request-failed"))},timeout:yl.get()})}if(null===(i=null===(r=Ou().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ou().gapi)||void 0===a?void 0:a.load)){var s=ic("iframefcb");return Ou()[s]=function(){gapi.load?o():n(na(e,"network-request-failed"))},rc("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw kl=null,e}))}(e),kl}var wl=new pa(5e3,15e3),xl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_l=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function El(e){var t=e.config;oa(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?va(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ai},i=_l.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ar(r).slice(1))}function Il(e){return Sl.apply(this,arguments)}function Sl(){return Sl=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bl(t);case 2:return n=e.sent,oa(r=Ou().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:El(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xl,dontclear:!0},(function(e){return new Promise(function(){var n=J(ee().mark((function n(r,i){var a,o,s;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Ou().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=na(t,"network-request-failed"),o=Ou().setTimeout((function(){i(a)}),wl.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}var Tl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cl="_blank",Nl="http://localhost",Al=function(){function e(t){Ze(this,e),this.window=t,this.associatedEvent=null}return tt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(KC){}}}]),e}();function Dl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Tl),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Wn().toLowerCase();n&&(s=so(l)?Cl:n),ao(l)&&(t=t||Nl,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(po(l)&&"_self"!==s)return Rl(t||"",s),new Al(null);var h=window.open(t||"",s,f);oa(h,e,"popup-blocked");try{h.focus()}catch(KC){}return new Al(h)}function Rl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Pl="__/auth/handler",jl="emulator/auth/handler";function Ol(e,t,n,r,i,a){oa(e.config.authDomain,e,"auth-domain-config-required"),oa(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ai,eventId:i};if(t instanceof ss){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof us){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Pl);return va(t,jl)}(e),"?").concat(ar(p).slice(1))}var Ll="webStorageSupport",Ml=function(){function e(){Ze(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Au,this._completeRedirectFn=il,this._overrideRedirectResult=Hc}return tt(e,[{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ol(t,n,r,fa(),i),e.abrupt("return",Dl(t,o,Pu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ol(t,n,r,fa(),i),Ou().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ua(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(t);case 2:return n=e.sent,r=new ul(t),n.register("authEvent",(function(e){return oa(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ll,{type:Ll},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ta(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return vl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return mo()||oo()||ho()}}]),e}(),Fl=Ml,Ul=function(){function e(t){Ze(this,e),this.factorId=t}return tt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sa("unexpected MultiFactorSessionType")}}}]),e}(),Vl=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this,"phone")).credential=e,r}return tt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ba(e,"POST","/v2/accounts/mfaEnrollment:finalize",ka(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ba(e,"POST","/v2/accounts/mfaSignIn:finalize",ka(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ul),Bl=function(){function e(){Ze(this,e)}return tt(e,null,[{key:"assertion",value:function(e){return Vl._fromCredential(e)}}]),e}();Bl.FACTOR_ID="phone";var zl,ql="@firebase/auth",Kl="0.20.2",Wl=function(){function e(t){Ze(this,e),this.auth=t,this.internalListeners=new Map}return tt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){oa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Gl(){return window}zl="Browser",Jr(new hr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){oa(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),oa(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:zl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yo(zl)},i=new ko(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(la);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Jr(new hr("auth-internal",(function(e){return function(e){return new Wl(e)}(bo(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),fi(ql,Kl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(zl)),fi(ql,Kl,"esm2017");function Hl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return Ql=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gl(),o=a.BuildInfo,ua(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,ef(n.sessionId);case 4:return s=e.sent,u={},ho()?u.ibi=o.packageName:co()?u.apn=o.packageName:ta(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Ol(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Yl(){return Yl=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gl(),r=n.BuildInfo,i={},ho()?i.iosBundleId=r.packageName:co()?i.androidPackageName=r.packageName:ta(t,"operation-not-supported-in-this-environment"),e.next=5,fl(t,i);case 5:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function $l(e){var t=Gl().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Xl(e,t,n){return Jl.apply(this,arguments)}function Jl(){return Jl=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gl(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(na(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),co()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Jl.apply(this,arguments)}function Zl(e){var t,n,r,i,a,o,s,u,c,l,f=Gl();oa("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oa("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oa("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oa("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oa("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function ef(e){return tf.apply(this,arguments)}function tf(){return(tf=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e){if(ua(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var rf=function(e){gt(n,e);var t=_t(n);function n(){var e;return Ze(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return tt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),mt(pt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ul);function af(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:lf(),postBody:null,tenantId:e.tenantId,error:na(e,"no-auth-event")}}function of(e,t){return ff()._set(hf(e),t)}function sf(e){return uf.apply(this,arguments)}function uf(){return uf=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ff()._get(hf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ff()._remove(hf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function cf(e,t){var n,r,i=function(e){var t=df(e),n=t.link?decodeURIComponent(t.link):void 0,r=df(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return df(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=df(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(KC){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?na(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function lf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ff(){return la(Cu)}function hf(e){return no("authEvent",e.config.apiKey,e.name)}function df(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||ce(t)||s(t)||u();r[0];return or(r.slice(1).join("?"))}var pf=function(){function e(){Ze(this,e),this._redirectPersistence=Au,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=il,this._overrideRedirectResult=Hc}return tt(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new rf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ta(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Bc.clear(),e.next=10,this._originValidation(t);case 10:return o=af(t,r,i),e.next=13,of(t,o);case 13:return e.next=15,Hl(t,o,n);case 15:return s=e.sent,e.next=18,$l(s);case 18:return u=e.sent,e.abrupt("return",Xl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Yl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Gl(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sf(e);case 2:t.onEvent(mf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=J(ee().mark((function n(r){var i,a;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,sf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=cf(i,r.url)),t.onEvent(a||mf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Gl().handleOpenURL=function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(KC){console.error(KC)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),vf=pf;function mf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:na("no-auth-event")}}function yf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return!("file:"!==yf()&&"ionic:"!==yf()&&"capacitor:"!==yf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function kf(){return $n()&&11===(null===document||void 0===document?void 0:document.documentMode)}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return/Edge\/\d+/.test(e)}function wf(){try{var e=self.localStorage,t=Pu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn();return kf()||bf(e)}()||Xn()}catch(KC){return xf()&&Xn()}return!1}function xf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function _f(){return("http:"===yf()||"https:"===yf()||Qn()||gf())&&!(Yn()||Hn())&&wf()&&!xf()}function Ef(){return gf()&&"undefined"!==typeof document}function If(){return Sf.apply(this,arguments)}function Sf(){return(Sf=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ef()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tf={LOCAL:"local",NONE:"none",SESSION:"session"},Cf=oa,Nf="persistence";function Af(e,t){Cf(Object.values(Tf).includes(t),e,"invalid-persistence-type"),Yn()?Cf(t!==Tf.SESSION,e,"unsupported-persistence-type"):Hn()?Cf(t===Tf.NONE,e,"unsupported-persistence-type"):xf()?Cf(t===Tf.NONE||t===Tf.LOCAL&&Xn(),e,"unsupported-persistence-type"):Cf(t===Tf.NONE||wf(),e,"unsupported-persistence-type")}function Df(e){return Rf.apply(this,arguments)}function Rf(){return Rf=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Pf(),r=no(Nf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Pf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(KC){return null}}var jf=oa,Of=function(){function e(){Ze(this,e),this.browserResolver=la(Fl),this.cordovaResolver=la(vf),this.underlyingResolver=null,this._redirectPersistence=Au,this._completeRedirectFn=il,this._overrideRedirectResult=Hc}return tt(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ef()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,If();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Lf(e){return e.unwrap()}function Mf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new zf(e,function(e,t){var n,r=fr(e),i=t;return oa(t.customData.operationType,r,"argument-error"),oa(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bu._fromError(r,i)}(e,t));else if(r){var i=Ff(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Ff(e){var t=(e instanceof Jn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Jn)&&"temporaryProof"in t&&"phoneNumber"in t)return Sc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Bi)return null;switch(r){case Vi:n=fs;break;case Fi:n=ls;break;case Ui:n=hs;break;case zi:n=vs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ds._create(r,s):Xo._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new cs(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Jn?n.credentialFromError(e):n.credentialFromResult(e)}function Uf(e,t){return t.catch((function(t){throw t instanceof Jn&&Mf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ff(t)),additionalUserInfo:gu(e),user:qf.getOrCreate(r)}}))}function Vf(e,t){return Bf.apply(this,arguments)}function Bf(){return Bf=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Uf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Bf.apply(this,arguments)}var zf=function(){function e(t,n){Ze(this,e),this.resolver=n,this.auth=t.wrapped()}return tt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Uf(Lf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),qf=function(){function e(t){Ze(this,e),this._delegate=t,this.multiFactor=function(e){var t=fr(e);return Eu.has(t)||Eu.set(t,_u._fromUser(t)),Eu.get(t)}(t)}return tt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(this.auth,Ls(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vf(this.auth,bc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(this.auth,Fc(this._delegate,t,Of)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(bo(this.auth));case 2:return e.abrupt("return",el(this._delegate,t,Of));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(this.auth,Fs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Vf(this.auth,function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Uf(this.auth,function(e,t,n){return Mc.apply(this,arguments)}(this._delegate,e,Of))}},{key:"reauthenticateWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(bo(this.auth));case 2:return e.abrupt("return",Jc(this._delegate,t,Of));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return au.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return lu(fr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return lu(fr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Ic.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return cu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ou.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();qf.USER_MAP=new WeakMap;var Kf=oa,Wf=function(){function e(t,n){if(Ze(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Kf(r,"invalid-api-key",{appName:t.name}),Kf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Of:void 0;this._delegate=n.initialize({options:{persistence:Hf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap($i),this.linkUnderlyingAuth()}return tt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?qf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){xo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Qs.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ys(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(this._delegate,Js(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return iu.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=as.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(_f(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,nl(this._delegate,Of);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Uf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){bo(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Gf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Gf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return eu.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Gs.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Af(this._delegate,t),e.t0=t,e.next=e.t0===Tf.SESSION?4:e.t0===Tf.LOCAL?6:e.t0===Tf.NONE?11:13;break;case 4:return n=Au,e.abrupt("break",14);case 6:return e.next=8,la(Zu)._isAvailable();case 8:return r=e.sent,n=r?Zu:Cu,e.abrupt("break",14);case 11:return n=to,e.abrupt("break",14);case 13:return e.abrupt("return",ta("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Uf(this._delegate,function(e){return bs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Uf(this._delegate,js(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Uf(this._delegate,function(e,t){return zs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Uf(this._delegate,function(e,t,n){return js(fr(e),os.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Uf(this._delegate,function(e,t,n){return tu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Vf(this._delegate,function(e,t,n){return kc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(_f(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Uf(this._delegate,Oc(this._delegate,t,Of)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(_f(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Df(this._delegate);case 3:return e.abrupt("return",$c(this._delegate,t,Of));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Xs.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Gf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&qf.getOrCreate(e))},error:t,complete:n}}function Hf(e,t){var n=function(e,t){var n=Pf();if(!n)return[];var r=no(Nf,e,t);switch(n.getItem(r)){case Tf.NONE:return[to];case Tf.LOCAL:return[Zu,Au];case Tf.SESSION:return[Au];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Zu)||n.push(Zu),"undefined"!==typeof window)for(var r=0,i=[Cu,Au];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(to)||n.push(to),n}Wf.Persistence=Tf;var Qf=function(){function e(){Ze(this,e),this.providerId="phone",this._delegate=new Sc(Lf(Oi.auth()))}return tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Sc.credential(e,t)}}]),e}();Qf.PHONE_SIGN_IN_METHOD=Sc.PHONE_SIGN_IN_METHOD,Qf.PROVIDER_ID=Sc.PROVIDER_ID;var Yf,$f=oa,Xf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oi.app();Ze(this,e),$f(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new mc(t,n,i.auth()),this.type=this._delegate.type}return tt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Yf=Oi).INTERNAL.registerComponent(new hr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Wf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qi,PASSWORD_RESET:Ki,RECOVER_EMAIL:Wi,REVERT_SECOND_FACTOR_ADDITION:Gi,VERIFY_AND_CHANGE_EMAIL:Hi,VERIFY_EMAIL:Qi}},EmailAuthProvider:os,FacebookAuthProvider:ls,GithubAuthProvider:hs,GoogleAuthProvider:fs,OAuthProvider:cs,SAMLAuthProvider:ps,PhoneAuthProvider:Qf,PhoneMultiFactorGenerator:Bl,RecaptchaVerifier:Xf,TwitterAuthProvider:vs,Auth:Wf,AuthCredential:Io,Error:Jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Yf.registerVersion("@firebase/auth-compat","0.2.15");var Jf,Zf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},eh={},th=th||{},nh=Zf||self;function rh(){}function ih(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ah(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var oh="closure_uid_"+(1e9*Math.random()>>>0),sh=0;function uh(e,t,n){return e.call.apply(e.bind,arguments)}function ch(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lh(e,t,n){return(lh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uh:ch).apply(null,arguments)}function fh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function hh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function dh(){this.s=this.s,this.o=this.o}var ph={};dh.prototype.s=!1,dh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,oh)&&e[oh]||(e[oh]=++sh)}(this);delete ph[e]}},dh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},mh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function yh(e){return Array.prototype.concat.apply([],arguments)}function gh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function kh(e){return/^[\s\xa0]*$/.test(e)}var bh,wh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xh(e,t){return-1!=e.indexOf(t)}function _h(e,t){return e<t?-1:e>t?1:0}e:{var Eh=nh.navigator;if(Eh){var Ih=Eh.userAgent;if(Ih){bh=Ih;break e}}bh=""}function Sh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Th(e){var t={};for(var n in e)t[n]=e[n];return t}var Ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ch.length;a++)n=Ch[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ah(e){return Ah[" "](e),e}Ah[" "]=rh;var Dh,Rh=xh(bh,"Opera"),Ph=xh(bh,"Trident")||xh(bh,"MSIE"),jh=xh(bh,"Edge"),Oh=jh||Ph,Lh=xh(bh,"Gecko")&&!(xh(bh.toLowerCase(),"webkit")&&!xh(bh,"Edge"))&&!(xh(bh,"Trident")||xh(bh,"MSIE"))&&!xh(bh,"Edge"),Mh=xh(bh.toLowerCase(),"webkit")&&!xh(bh,"Edge");function Fh(){var e=nh.document;return e?e.documentMode:void 0}e:{var Uh="",Vh=function(){var e=bh;return Lh?/rv:([^\);]+)(\)|;)/.exec(e):jh?/Edge\/([\d\.]+)/.exec(e):Ph?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mh?/WebKit\/(\S+)/.exec(e):Rh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vh&&(Uh=Vh?Vh[1]:""),Ph){var Bh=Fh();if(null!=Bh&&Bh>parseFloat(Uh)){Dh=String(Bh);break e}}Dh=Uh}var zh,qh={};function Kh(){return function(e){var t=qh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wh(String(Dh)).split("."),n=wh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=_h(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||_h(0==a[2].length,0==o[2].length)||_h(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(nh.document&&Ph){var Wh=Fh();zh=Wh||(parseInt(Dh,10)||void 0)}else zh=void 0;var Gh=zh,Hh=function(){if(!nh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{nh.addEventListener("test",rh,t),nh.removeEventListener("test",rh,t)}catch(n){}return e}();function Qh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Yh(e,t){if(Qh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Lh){e:{try{Ah(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yh.Z.h.call(this)}}Qh.prototype.h=function(){this.defaultPrevented=!0},hh(Yh,Qh);var $h={2:"touch",3:"pen",4:"mouse"};Yh.prototype.h=function(){Yh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xh="closure_listenable_"+(1e6*Math.random()|0),Jh=0;function Zh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Jh,this.ca=this.fa=!1}function ed(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function td(e){this.src=e,this.g={},this.h=0}function nd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=vh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ed(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function rd(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}td.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=rd(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Zh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var id="closure_lm_"+(1e6*Math.random()|0),ad={};function od(e,t,n,r,i){if(r&&r.once)return ud(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)od(e,t[a],n,r,i);return null}return n=vd(n),e&&e[Xh]?e.N(t,n,ah(r)?!!r.capture:!!r,i):sd(e,t,n,!1,r,i)}function sd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ah(i)?!!i.capture:!!i,s=dd(e);if(s||(e[id]=s=new td(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=hd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ud(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ud(e,t[a],n,r,i);return null}return n=vd(n),e&&e[Xh]?e.O(t,n,ah(r)?!!r.capture:!!r,i):sd(e,t,n,!0,r,i)}function cd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cd(e,t[a],n,r,i);else r=ah(r)?!!r.capture:!!r,n=vd(n),e&&e[Xh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=rd(a=e.g[t],n,r,i))&&(ed(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=dd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=rd(t,n,r,i)),(n=-1<e?t[e]:null)&&ld(n))}function ld(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Xh])nd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=dd(t))?(nd(n,e),0==n.h&&(n.src=null,t[id]=null)):ed(e)}}}function fd(e){return e in ad?ad[e]:ad[e]="on"+e}function hd(e,t){if(e.ca)e=!0;else{t=new Yh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ld(e),e=n.call(r,t)}return e}function dd(e){return(e=e[id])instanceof td?e:null}var pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function vd(e){return"function"===typeof e?e:(e[pd]||(e[pd]=function(t){return e.handleEvent(t)}),e[pd])}function md(){dh.call(this),this.i=new td(this),this.P=this,this.I=null}function yd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Qh(t,e);else if(t instanceof Qh)t.target=t.target||e;else{var i=t;Nh(t=new Qh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=gd(o,r,!0,t)&&i}if(i=gd(o=t.g=e,r,!0,t)&&i,i=gd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=gd(o=t.g=n[a],r,!1,t)&&i}function gd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&nd(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}hh(md,dh),md.prototype[Xh]=!0,md.prototype.removeEventListener=function(e,t,n,r){cd(this,e,t,n,r)},md.prototype.M=function(){if(md.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ed(n[r]);delete t.g[e],t.h--}}this.I=null},md.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},md.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var kd=nh.JSON.stringify;function bd(){var e=Cd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wd,xd=function(){function e(){Ze(this,e),this.h=this.g=null}return tt(e,[{key:"add",value:function(e,t){var n=_d.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),_d=new(function(){function e(t,n){Ze(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return tt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ed}),(function(e){return e.reset()})),Ed=function(){function e(){Ze(this,e),this.next=this.g=this.h=null}return tt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Id(e){nh.setTimeout((function(){throw e}),0)}function Sd(e,t){wd||function(){var e=nh.Promise.resolve(void 0);wd=function(){e.then(Nd)}}(),Td||(wd(),Td=!0),Cd.add(e,t)}var Td=!1,Cd=new xd;function Nd(){for(var e;e=bd();){try{e.h.call(e.g)}catch(n){Id(n)}var t=_d;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Td=!1}function Ad(e,t){md.call(this),this.h=e||1,this.g=t||nh,this.j=lh(this.kb,this),this.l=Date.now()}function Dd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Rd(e,t,n){if("function"===typeof e)n&&(e=lh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lh(e.handleEvent,e)}return 2147483647<Number(t)?-1:nh.setTimeout(e,t||0)}function Pd(e){e.g=Rd((function(){e.g=null,e.i&&(e.i=!1,Pd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}hh(Ad,md),(Jf=Ad.prototype).da=!1,Jf.S=null,Jf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yd(this,"tick"),this.da&&(Dd(this),this.start()))}},Jf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jf.M=function(){Ad.Z.M.call(this),Dd(this),delete this.g};var jd=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return tt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pd(this)}},{key:"M",value:function(){mt(pt(n.prototype),"M",this).call(this),this.g&&(nh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(dh);function Od(e){dh.call(this),this.h=e,this.g={}}hh(Od,dh);var Ld=[];function Md(e,t,n,r){Array.isArray(n)||(n&&(Ld[0]=n.toString()),n=Ld);for(var i=0;i<n.length;i++){var a=od(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Fd(e){Sh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ld(e)}),e),e.g={}}function Ud(){this.g=!0}function Vd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return kd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Od.prototype.M=function(){Od.Z.M.call(this),Fd(this)},Od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ud.prototype.Aa=function(){this.g=!1},Ud.prototype.info=function(){};var Bd={},zd=null;function qd(){return zd=zd||new md}function Kd(e){Qh.call(this,Bd.Ma,e)}function Wd(e){var t=qd();yd(t,new Kd(t,e))}function Gd(e,t){Qh.call(this,Bd.STAT_EVENT,e),this.stat=t}function Hd(e){var t=qd();yd(t,new Gd(t,e))}function Qd(e,t){Qh.call(this,Bd.Na,e),this.size=t}function Yd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return nh.setTimeout((function(){e()}),t)}Bd.Ma="serverreachability",hh(Kd,Qh),Bd.STAT_EVENT="statevent",hh(Gd,Qh),Bd.Na="timingevent",hh(Qd,Qh);var $d={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Jd(){}function Zd(e){return e.h||(e.h=e.i())}function ep(){}Jd.prototype.h=null;var tp,np={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rp(){Qh.call(this,"d")}function ip(){Qh.call(this,"c")}function ap(){}function op(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Od(this),this.P=up,e=Oh?125:void 0,this.W=new Ad(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sp}function sp(){this.i=null,this.g="",this.h=!1}hh(rp,Qh),hh(ip,Qh),hh(ap,Jd),ap.prototype.g=function(){return new XMLHttpRequest},ap.prototype.i=function(){return{}},tp=new ap;var up=45e3,cp={},lp={};function fp(e,t,n){e.K=1,e.v=jp(Cp(t)),e.s=n,e.U=!0,hp(e,null)}function hp(e,t){e.F=Date.now(),mp(e),e.A=Cp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Hp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new sp,e.g=Yv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jd(lh(e.Ia,e,e.g),e.O)),Md(e.V,e.g,"readystatechange",e.gb),t=e.H?Th(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function dp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function pp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=vp(e,n))==lp){4==t&&(e.o=4,Hd(14),i=!1),Vd(e.j,e.m,null,"[Incomplete Response]");break}if(r==cp){e.o=4,Hd(15),Vd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vd(e.j,e.m,r,null),wp(e,r)}dp(e)&&r!=lp&&r!=cp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bv(t),t.L=!0,Hd(11))):(Vd(e.j,e.m,n,"[Invalid Chunked Response]"),bp(e),kp(e))}function vp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?lp:(n=Number(t.substring(n,r)),isNaN(n)?cp:(r+=1)+n>t.length?lp:(t=t.substr(r,n),e.C=r+n,t))}function mp(e){e.Y=Date.now()+e.P,yp(e,e.P)}function yp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Yd(lh(e.eb,e),t)}function gp(e){e.B&&(nh.clearTimeout(e.B),e.B=null)}function kp(e){0==e.l.G||e.I||Kv(e.l,e)}function bp(e){gp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Dd(e.W),Fd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function wp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tv(n.i,e)))if(n.I=e.N,!e.J&&tv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;qv(n),Rv(n)}Vv(n),Hd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Yd(lh(n.ab,n),6e3));if(1>=ev(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Gv(n,11)}else if((e.J||n.g==e)&&qv(n),!kh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(xh(l,"spdy")||xh(l,"quic")||xh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Pp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Qv(r,r.H?r.la:null,r.W),d.J){rv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(gp(p),mp(p)),r.g=d}else Uv(r);0<n.l.length&&Ov(n)}else"stop"!=a[0]&&"close"!=a[0]||Gv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gv(n,7):Dv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Wd(4)}catch(a){}}function xp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ih(e)||"string"===typeof e)mh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ih(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ih(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function _p(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof _p)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ep(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ip(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ip(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ip(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Jf=op.prototype).setTimeout=function(e){this.P=e},Jf.gb=function(e){e=e.target;var t=this.L;t&&3==Sv(e)?t.l():this.Ia(e)},Jf.Ia=function(e){try{if(e==this.g)e:{var t=Sv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Oh||this.g&&(this.h.h||this.g.ga()||Tv(this.g)))){this.I||4!=t||7==n||Wd(8==n||0>=r?3:2),gp(this);var i=this.g.ba();this.N=i;t:if(dp(this)){var a=Tv(this.g);e="";var o=a.length,s=4==Sv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bp(this),kp(this);var u="";break t}this.h.i=new nh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Hd(12),bp(this),kp(this);break e}Vd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wp(this,i)}this.U?(pp(this,t,u),Oh&&this.i&&3==t&&(Md(this.V,this.W,"tick",this.fb),this.W.start())):(Vd(this.j,this.m,u,null),wp(this,u)),4==t&&bp(this),this.i&&!this.I&&(4==t?Kv(this.l,this):(this.i=!1,mp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Hd(12)):(this.o=0,Hd(13)),bp(this),kp(this)}}}catch(t){}},Jf.fb=function(){if(this.g){var e=Sv(this.g),t=this.g.ga();this.C<t.length&&(gp(this),pp(this,e,t),this.i&&4!=e&&mp(this))}},Jf.cancel=function(){this.I=!0,bp(this)},Jf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Wd(3),Hd(17)),bp(this),this.o=2,kp(this)):yp(this,this.Y-e)},(Jf=_p.prototype).R=function(){Ep(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Jf.T=function(){return Ep(this),this.g.concat()},Jf.get=function(e,t){return Ip(this.h,e)?this.h[e]:t},Jf.set=function(e,t){Ip(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Jf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Sp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Tp(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Tp){this.g=void 0!==t?t:e.g,Np(this,e.j),this.s=e.s,Ap(this,e.i),Dp(this,e.m),this.l=e.l,t=e.h;var n=new qp;n.i=t.i,t.g&&(n.g=new _p(t.g),n.h=t.h),Rp(this,n),this.o=e.o}else e&&(n=String(e).match(Sp))?(this.g=!!t,Np(this,n[1]||"",!0),this.s=Op(n[2]||""),Ap(this,n[3]||"",!0),Dp(this,n[4]),this.l=Op(n[5]||"",!0),Rp(this,n[6]||"",!0),this.o=Op(n[7]||"")):(this.g=!!t,this.h=new qp(null,this.g))}function Cp(e){return new Tp(e)}function Np(e,t,n){e.j=n?Op(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ap(e,t,n){e.i=n?Op(t,!0):t}function Dp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rp(e,t,n){t instanceof qp?(e.h=t,function(e,t){t&&!e.j&&(Kp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wp(this,t),Hp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Lp(t,Bp)),e.h=new qp(t,e.g))}function Pp(e,t,n){e.h.set(t,n)}function jp(e){return Pp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Op(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Tp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lp(t,Fp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lp(t,Fp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lp(n,"/"==n.charAt(0)?Vp:Up,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lp(n,zp)),e.join("")};var Fp=/[#\/\?@]/g,Up=/[#\?:]/g,Vp=/[#\?]/g,Bp=/[#\?@]/g,zp=/#/g;function qp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kp(e){e.g||(e.g=new _p,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wp(e,t){Kp(e),t=Qp(e,t),Ip(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ip((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ep(e)))}function Gp(e,t){return Kp(e),t=Qp(e,t),Ip(e.g.h,t)}function Hp(e,t,n){Wp(e,t),0<n.length&&(e.i=null,e.g.set(Qp(e,t),gh(n)),e.h+=n.length)}function Qp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Jf=qp.prototype).add=function(e,t){Kp(this),this.i=null,e=Qp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Jf.forEach=function(e,t){Kp(this),this.g.forEach((function(n,r){mh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Jf.T=function(){Kp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Jf.R=function(e){Kp(this);var t=[];if("string"===typeof e)Gp(this,e)&&(t=yh(t,this.g.get(Qp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=yh(t,e[n])}return t},Jf.set=function(e,t){return Kp(this),this.i=null,Gp(this,e=Qp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Jf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Jf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Yp=tt((function e(t,n){Ze(this,e),this.h=t,this.g=n}));function $p(e){this.l=e||Jp,nh.PerformanceNavigationTiming?e=0<(e=nh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(nh.g&&nh.g.Ea&&nh.g.Ea()&&nh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xp,Jp=10;function Zp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ev(e){return e.h?1:e.g?e.g.size:0}function tv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nv(e,t){e.g?e.g.add(t):e.h=t}function rv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function iv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=On(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return gh(e.i)}function av(){}function ov(){this.g=new av}function sv(e,t,n){var r=n||"";try{xp(e,(function(e,n){var i=e;ah(e)&&(i=kd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KC){throw t.push(r+"type="+encodeURIComponent("_badmap")),KC}}function uv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function cv(e){this.l=e.$b||null,this.j=e.ib||!1}function lv(e,t){md.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=fv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$p.prototype.cancel=function(){if(this.i=iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=On(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},av.prototype.stringify=function(e){return nh.JSON.stringify(e,void 0)},av.prototype.parse=function(e){return nh.JSON.parse(e,void 0)},hh(cv,Jd),cv.prototype.g=function(){return new lv(this.l,this.j)},cv.prototype.i=(Xp={},function(){return Xp}),hh(lv,md);var fv=0;function hv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function dv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pv(e)}function pv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Jf=lv.prototype).open=function(e,t){if(this.readyState!=fv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pv(this)},Jf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||nh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Jf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dv(this)),this.readyState=fv},Jf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pv(this)),this.g&&(this.readyState=3,pv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof nh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Jf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?dv(this):pv(this),3==this.readyState&&hv(this)}},Jf.Ua=function(e){this.g&&(this.response=this.responseText=e,dv(this))},Jf.Ta=function(e){this.g&&(this.response=e,dv(this))},Jf.ha=function(){this.g&&dv(this)},Jf.setRequestHeader=function(e,t){this.v.append(e,t)},Jf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Jf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(lv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vv=nh.JSON.parse;function mv(e){md.call(this),this.headers=new _p,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yv,this.K=this.L=!1}hh(mv,md);var yv="",gv=/^https?$/i,kv=["POST","PUT"];function bv(e){return"content-type"==e.toLowerCase()}function wv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xv(e),Ev(e)}function xv(e){e.D||(e.D=!0,yd(e,"complete"),yd(e,"error"))}function _v(e){if(e.h&&"undefined"!=typeof th&&(!e.C[1]||4!=Sv(e)||2!=e.ba()))if(e.v&&4==Sv(e))Rd(e.Fa,0,e);else if(yd(e,"readystatechange"),4==Sv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Sp)[1]||null;if(!a&&nh.self&&nh.self.location){var o=nh.self.location.protocol;a=o.substr(0,o.length-1)}i=!gv.test(a?a.toLowerCase():"")}t=i}if(t)yd(e,"complete"),yd(e,"success");else{e.m=6;try{var s=2<Sv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",xv(e)}}finally{Ev(e)}}}function Ev(e,t){if(e.g){Iv(e);var n=e.g,r=e.C[0]?rh:null;e.g=null,e.C=null,t||yd(e,"ready");try{n.onreadystatechange=r}catch(KC){}}}function Iv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(nh.clearTimeout(e.A),e.A=null)}function Sv(e){return e.g?e.g.readyState:0}function Tv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Cv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Sh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pp(e,t,n))}function Nv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Av(e){this.za=0,this.l=[],this.h=new Ud,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Nv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Nv("baseRetryDelayMs",5e3,e),this.$a=Nv("retryDelaySeedMs",1e4,e),this.Ya=Nv("forwardChannelMaxRetries",2,e),this.ra=Nv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new $p(e&&e.concurrentRequestLimit),this.Ca=new ov,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Dv(e){if(Pv(e),3==e.G){var t=e.V++,n=Cp(e.F);Pp(n,"SID",e.J),Pp(n,"RID",t),Pp(n,"TYPE","terminate"),Mv(e,n),(t=new op(e,e.h,t,void 0)).K=2,t.v=jp(Cp(n)),n=!1,nh.navigator&&nh.navigator.sendBeacon&&(n=nh.navigator.sendBeacon(t.v.toString(),"")),!n&&nh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),mp(t)}Hv(e)}function Rv(e){e.g&&(Bv(e),e.g.cancel(),e.g=null)}function Pv(e){Rv(e),e.u&&(nh.clearTimeout(e.u),e.u=null),qv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&nh.clearTimeout(e.m),e.m=null)}function jv(e,t){e.l.push(new Yp(e.Za++,t)),3==e.G&&Ov(e)}function Ov(e){Zp(e.i)||e.m||(e.m=!0,Sd(e.Ha,e),e.C=0)}function Lv(e,t){var n;n=t?t.m:e.V++;var r=Cp(e.F);Pp(r,"SID",e.J),Pp(r,"RID",n),Pp(r,"AID",e.U),Mv(e,r),e.o&&e.s&&Cv(r,e.o,e.s),n=new op(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Fv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),nv(e.i,n),fp(n,r,t)}function Mv(e,t){e.j&&xp({},(function(e,n){Pp(t,n,e)}))}function Fv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?lh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{sv(l,o,"req"+c+"_")}catch(_m){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Uv(e){e.g||e.u||(e.Y=1,Sd(e.Ga,e),e.A=0)}function Vv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Yd(lh(e.Ga,e),Wv(e,e.A)),e.A++,!0)}function Bv(e){null!=e.B&&(nh.clearTimeout(e.B),e.B=null)}function zv(e){e.g=new op(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Cp(e.oa);Pp(t,"RID","rpc"),Pp(t,"SID",e.J),Pp(t,"CI",e.N?"0":"1"),Pp(t,"AID",e.U),Mv(e,t),Pp(t,"TYPE","xmlhttp"),e.o&&e.s&&Cv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=jp(Cp(t)),n.s=null,n.U=!0,hp(n,e)}function qv(e){null!=e.v&&(nh.clearTimeout(e.v),e.v=null)}function Kv(e,t){var n=null;if(e.g==t){qv(e),Bv(e),e.g=null;var r=2}else{if(!tv(e.i,t))return;n=t.D,rv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;yd(r=qd(),new Qd(r,n,t,i)),Ov(e)}else Uv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ev(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Yd(lh(e.Ha,e,t),Wv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gv(e,5);break;case 4:Gv(e,10);break;case 3:Gv(e,6);break;default:Gv(e,2)}}function Wv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=lh(e.jb,e);n||(n=new Tp("//www.google.com/images/cleardot.gif"),nh.location&&"http"==nh.location.protocol||Np(n,"https"),jp(n)),function(e,t){var n=new Ud;if(nh.Image){var r=new Image;r.onload=fh(uv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=fh(uv,n,r,"TestLoadImage: error",!1,t),r.onabort=fh(uv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=fh(uv,n,r,"TestLoadImage: timeout",!1,t),nh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hd(2);e.G=0,e.j&&e.j.va(t),Hv(e),Pv(e)}function Hv(e){e.G=0,e.I=-1,e.j&&(0==iv(e.i).length&&0==e.l.length||(e.i.i.length=0,gh(e.l),e.l.length=0),e.j.ua())}function Qv(e,t,n){var r=function(e){return e instanceof Tp?Cp(e):new Tp(e,void 0)}(n);if(""!=r.i)t&&Ap(r,t+"."+r.i),Dp(r,r.m);else{var i=nh.location;r=function(e,t,n,r){var i=new Tp(null,void 0);return e&&Np(i,e),t&&Ap(i,t),n&&Dp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Sh(e.aa,(function(e,t){Pp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Pp(r,t,n),Pp(r,"VER",e.ma),Mv(e,r),r}function Yv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new mv(new cv({ib:!0})):new mv(e.qa)).L=e.H,t}function $v(){}function Xv(){if(Ph&&!(10<=Number(Gh)))throw Error("Environmental error: no available transport.")}function Jv(e,t){md.call(this),this.g=new Av(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!kh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tm(this)}function Zv(e){rp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function em(){ip.call(this),this.status=1}function tm(e){this.g=e}(Jf=mv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tp.g(),this.C=this.u?Zd(this.u):Zd(tp),this.g.onreadystatechange=lh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void wv(this,a)}e=n||"";var i=new _p(this.headers);r&&xp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=bv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=nh.FormData&&e instanceof nh.FormData,!(0<=vh(kv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Iv(this),0<this.B&&((this.K=function(e){return Ph&&Kh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lh(this.pa,this)):this.A=Rd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){wv(this,a)}},Jf.pa=function(){"undefined"!=typeof th&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yd(this,"timeout"),this.abort(8))},Jf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,yd(this,"complete"),yd(this,"abort"),Ev(this))},Jf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ev(this,!0)),mv.Z.M.call(this)},Jf.Fa=function(){this.s||(this.F||this.v||this.l?_v(this):this.cb())},Jf.cb=function(){_v(this)},Jf.ba=function(){try{return 2<Sv(this)?this.g.status:-1}catch(Xp){return-1}},Jf.ga=function(){try{return this.g?this.g.responseText:""}catch(Xp){return""}},Jf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vv(t)}},Jf.Da=function(){return this.m},Jf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Jf=Av.prototype).ma=8,Jf.G=1,Jf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Jf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new op(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Nh(n=Th(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Fv(this,t,r),Pp(i=Cp(this.F),"RID",e),Pp(i,"CVER",22),this.D&&Pp(i,"X-HTTP-Session-Id",this.D),Mv(this,i),this.o&&n&&Cv(i,this.o,n),nv(this.i,t),this.Ra&&Pp(i,"TYPE","init"),this.ja?(Pp(i,"$req",r),Pp(i,"SID","null"),t.$=!0,fp(t,i,null)):fp(t,i,r),this.G=2}}else 3==this.G&&(e?Lv(this,e):0==this.l.length||Zp(this.i)||Lv(this))},Jf.Ga=function(){if(this.u=null,zv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Yd(lh(this.bb,this),e)}},Jf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hd(10),Rv(this),zv(this))},Jf.ab=function(){null!=this.v&&(this.v=null,Rv(this),Vv(this),Hd(19))},Jf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hd(2)):(this.h.info("Failed to ping google.com"),Hd(1))},(Jf=$v.prototype).xa=function(){},Jf.wa=function(){},Jf.va=function(){},Jf.ua=function(){},Jf.Oa=function(){},Xv.prototype.g=function(e,t){return new Jv(e,t)},hh(Jv,md),Jv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Sd(lh(e.hb,e,t))),Hd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Qv(e,null,e.W),Ov(e)},Jv.prototype.close=function(){Dv(this.g)},Jv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,jv(this.g,t)}else this.v?((t={}).__data__=kd(e),jv(this.g,t)):jv(this.g,e)},Jv.prototype.M=function(){this.g.j=null,delete this.j,Dv(this.g),delete this.g,Jv.Z.M.call(this)},hh(Zv,rp),hh(em,ip),hh(tm,$v),tm.prototype.xa=function(){yd(this.g,"a")},tm.prototype.wa=function(e){yd(this.g,new Zv(e))},tm.prototype.va=function(e){yd(this.g,new em(e))},tm.prototype.ua=function(){yd(this.g,"b")},Xv.prototype.createWebChannel=Xv.prototype.g,Jv.prototype.send=Jv.prototype.u,Jv.prototype.open=Jv.prototype.m,Jv.prototype.close=Jv.prototype.close,$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,Xd.COMPLETE="complete",ep.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",md.prototype.listen=md.prototype.N,mv.prototype.listenOnce=mv.prototype.O,mv.prototype.getLastError=mv.prototype.La,mv.prototype.getLastErrorCode=mv.prototype.Da,mv.prototype.getStatus=mv.prototype.ba,mv.prototype.getResponseJson=mv.prototype.Qa,mv.prototype.getResponseText=mv.prototype.ga,mv.prototype.send=mv.prototype.ea;var nm=eh.createWebChannelTransport=function(){return new Xv},rm=eh.getStatEventTarget=function(){return qd()},im=eh.ErrorCode=$d,am=eh.EventType=Xd,om=eh.Event=Bd,sm=eh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},um=eh.FetchXmlHttpFactory=cv,cm=eh.WebChannel=ep,lm=eh.XhrIo=mv,fm="@firebase/firestore",hm=function(){function e(t){Ze(this,e),this.uid=t}return tt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();hm.UNAUTHENTICATED=new hm(null),hm.GOOGLE_CREDENTIALS=new hm("google-credentials-uid"),hm.FIRST_PARTY=new hm("first-party-uid"),hm.MOCK_USER=new hm("mock-user");var dm="9.8.0",pm=new _r("@firebase/firestore");function vm(){return pm.logLevel}function mm(e){if(pm.logLevel<=mr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(km);pm.debug.apply(pm,["Firestore (".concat(dm,"): ").concat(e)].concat(le(i)))}}function ym(e){if(pm.logLevel<=mr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(km);pm.error.apply(pm,["Firestore (".concat(dm,"): ").concat(e)].concat(le(i)))}}function gm(e){if(pm.logLevel<=mr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(km);pm.warn.apply(pm,["Firestore (".concat(dm,"): ").concat(e)].concat(le(i)))}}function km(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function bm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(dm,") INTERNAL ASSERTION FAILED: ")+e;throw ym(t),new Error(t)}function wm(e,t){e||bm()}function xm(e,t){return e}var _m={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Em=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return tt(n)}(Jn),Im=tt((function e(){var t=this;Ze(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sm=tt((function e(t,n){Ze(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tm=function(){function e(){Ze(this,e)}return tt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cm=function(){function e(t){Ze(this,e),this.token=t,this.changeListener=null}return tt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Nm=function(){function e(t){Ze(this,e),this.t=t,this.currentUser=hm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return tt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Im;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Im,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){mm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(mm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Im)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(mm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(wm("string"==typeof n.accessToken),new Sm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return wm(null===e||"string"==typeof e),new hm(e)}}]),e}(),Am=tt((function e(t,n,r){Ze(this,e),this.type="FirstParty",this.user=hm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Dm=function(){function e(t,n,r){Ze(this,e),this.h=t,this.l=n,this.m=r}return tt(e,[{key:"getToken",value:function(){return Promise.resolve(new Am(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(hm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Rm=tt((function e(t){Ze(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Pm=function(){function e(t){Ze(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return tt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&mm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,mm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){mm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):mm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(wm("string"==typeof t.token),e.p=t.token,new Rm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),jm=function(){function e(t,n){var r=this;Ze(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return tt(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Om(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}jm.A=-1;var Lm=function(){function e(){Ze(this,e)}return tt(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Om(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mm(e,t){return e<t?-1:e>t?1:0}function Fm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Um(e){return e+"\0"}var Vm=function(){function e(t,n){if(Ze(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Em(_m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Em(_m.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Em(_m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Em(_m.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return tt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mm(this.nanoseconds,e.nanoseconds):Mm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Bm=function(){function e(t){Ze(this,e),this.timestamp=t}return tt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vm(0,0))}},{key:"max",value:function(){return new e(new Vm(253402300799,999999999))}}]),e}();function zm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Km(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Wm=function(){function e(t,n,r){Ze(this,e),void 0===n?n=0:n>t.length&&bm(),void 0===r?r=t.length-n:r>t.length-n&&bm(),this.segments=t,this.offset=n,this.len=r}return tt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gm=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Em(_m.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,le(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wm),Hm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qm=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Hm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Em(_m.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Em(_m.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Em(_m.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Em(_m.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Wm),Ym=function(){function e(t){Ze(this,e),this.fields=t,t.sort(Qm.comparator)}return tt(e,[{key:"covers",value:function(e){var t,n=On(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Fm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var $m=function(e){function t(e){Ze(this,t),this.binaryString=e}return tt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$m.EMPTY_BYTE_STRING=new $m("");var Xm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jm(e){if(wm(!!e),"string"==typeof e){var t=0,n=Xm.exec(e);if(wm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zm(e.seconds),nanos:Zm(e.nanos)}}function Zm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ey(e){return"string"==typeof e?$m.fromBase64String(e):$m.fromUint8Array(e)}function ty(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ny(e){var t=e.mapValue.fields.__previous_value__;return ty(t)?ny(t):t}function ry(e){var t=Jm(e.mapValue.fields.__local_write_time__.timestampValue);return new Vm(t.seconds,t.nanos)}var iy=tt((function e(t,n,r,i,a,o,s,u){Ze(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),ay=function(){function e(t,n){Ze(this,e),this.projectId=t,this.database=n||"(default)"}return tt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function oy(e){return null==e}function sy(e){return 0===e&&1/e==-1/0}function uy(e){return"number"==typeof e&&Number.isInteger(e)&&!sy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cy=function(){function e(t){Ze(this,e),this.path=t}return tt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gm.fromString(t))}},{key:"fromName",value:function(t){return new e(Gm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gm.emptyPath())}},{key:"comparator",value:function(e,t){return Gm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gm(t.slice()))}}]),e}(),ly={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fy={nullValue:"NULL_VALUE"};function hy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:Sy(e)?9007199254740991:10:bm()}function dy(e,t){if(e===t)return!0;var n=hy(e);if(n!==hy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ry(e).isEqual(ry(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Jm(e.timestampValue),r=Jm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ey(e.bytesValue).isEqual(ey(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Zm(e.geoPointValue.latitude)===Zm(t.geoPointValue.latitude)&&Zm(e.geoPointValue.longitude)===Zm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Zm(e.integerValue)===Zm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Zm(e.doubleValue),r=Zm(t.doubleValue);return n===r?sy(n)===sy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fm(e.arrayValue.values||[],t.arrayValue.values||[],dy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zm(n)!==zm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dy(n[i],r[i])))return!1;return!0}(e,t);default:return bm()}}function py(e,t){return void 0!==(e.values||[]).find((function(e){return dy(e,t)}))}function vy(e,t){if(e===t)return 0;var n=hy(e),r=hy(t);if(n!==r)return Mm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Zm(e.integerValue||e.doubleValue),r=Zm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return my(e.timestampValue,t.timestampValue);case 4:return my(ry(e),ry(t));case 5:return Mm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ey(e),r=ey(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mm(n[i],r[i]);if(0!==a)return a}return Mm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mm(Zm(e.latitude),Zm(t.latitude));return 0!==n?n:Mm(Zm(e.longitude),Zm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=vy(n[i],r[i]);if(a)return a}return Mm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ly.mapValue&&t===ly.mapValue)return 0;if(e===ly.mapValue)return 1;if(t===ly.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Mm(r[o],a[o]);if(0!==s)return s;var u=vy(n[r[o]],i[a[o]]);if(0!==u)return u}return Mm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bm()}}function my(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mm(e,t);var n=Jm(e),r=Jm(t),i=Mm(n.seconds,r.seconds);return 0!==i?i:Mm(n.nanos,r.nanos)}function yy(e){return gy(e)}function gy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Jm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ey(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=On(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=gy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=On(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(gy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bm();var t,n}function ky(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function by(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function xy(e){return!!e&&"nullValue"in e}function _y(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ey(e){return!!e&&"mapValue"in e}function Iy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return qm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Iy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Iy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Sy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ty(e){return"nullValue"in e?fy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ky(ay.empty(),cy.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:bm()}function Cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ky(ay.empty(),cy.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ly:bm()}function Ny(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ay(e,t){var n=vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Dy=function(){function e(t){Ze(this,e),this.value=t}return tt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ey(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iy(t)}},{key:"setAll",value:function(e){var t=this,n=Qm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Iy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ey(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ey(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){qm(t,(function(t,n){return e[t]=n}));var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Iy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ry(e){var t=[];return qm(e.fields,(function(e,n){var r=new Qm([e]);if(Ey(n)){var i=Ry(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=On(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ym(t)}var Py=function(){function e(t,n,r,i,a,o){Ze(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return tt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Bm.min(),Bm.min(),Dy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Bm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Bm.min(),Dy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Bm.min(),Dy.empty(),2)}}]),e}(),jy=tt((function e(t,n,r,i){Ze(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Oy(e){return e.fields.find((function(e){return 2===e.kind}))}function Ly(e){return e.fields.filter((function(e){return 2!==e.kind}))}jy.UNKNOWN_ID=-1;var My=tt((function e(t,n){Ze(this,e),this.fieldPath=t,this.kind=n})),Fy=function(){function e(t,n){Ze(this,e),this.sequenceNumber=t,this.offset=n}return tt(e,null,[{key:"empty",value:function(){return new e(0,By.min())}}]),e}();function Uy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bm.fromTimestamp(1e9===r?new Vm(n+1,0):new Vm(n,r));return new By(i,cy.empty(),t)}function Vy(e){return new By(e.readTime,e.key,-1)}var By=function(){function e(t,n,r){Ze(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return tt(e,null,[{key:"min",value:function(){return new e(Bm.min(),cy.empty(),-1)}},{key:"max",value:function(){return new e(Bm.max(),cy.empty(),-1)}}]),e}();function zy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cy.comparator(e.documentKey,t.documentKey))?n:Mm(e.largestBatchId,t.largestBatchId)}var qy=function(){function e(t,n){Ze(this,e),this.comparator=t,this.root=n||Wy.EMPTY}return tt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Wy.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wy.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ky(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ky(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ky(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ky(this.root,e,this.comparator,!0)}}]),e}(),Ky=function(){function e(t,n,r,i){Ze(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return tt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Wy=function(){function e(t,n,r,i,a){Ze(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return tt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bm();if(this.right.isRed())throw bm();var e=this.left.check();if(e!==this.right.check())throw bm();return e+(this.isRed()?0:1)}}]),e}();Wy.EMPTY=null,Wy.RED=!0,Wy.BLACK=!1,Wy.EMPTY=new(function(){function e(){Ze(this,e),this.size=0}return tt(e,[{key:"key",get:function(){throw bm()}},{key:"value",get:function(){throw bm()}},{key:"color",get:function(){throw bm()}},{key:"left",get:function(){throw bm()}},{key:"right",get:function(){throw bm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Wy(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Gy=function(){function e(t){Ze(this,e),this.comparator=t,this.data=new qy(this.comparator)}return tt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Hy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Hy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Hy=function(){function e(t){Ze(this,e),this.iter=t}return tt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Qy(e){return e.hasNext()?e.getNext():void 0}var Yy=tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ze(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function $y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Yy(e,t,n,r,i,a,o)}function Xy(e){var t=xm(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+yy(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),oy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yy(e)})).join(",")),t.P=n}return t.P}function Jy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mg(e.startAt,t.startAt)&&mg(e.endAt,t.endAt)}function Zy(e){return cy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function eg(e,t){return e.filters.filter((function(e){return e instanceof rg&&e.field.isEqual(t)}))}function tg(e,t,n){var r,i=fy,a=!0,o=On(eg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=fy,c=!0;switch(s.op){case"<":case"<=":u=Ty(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=fy}Ny({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ny({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function ng(e,t,n){var r,i=ly,a=!0,o=On(eg(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=ly,c=!0;switch(s.op){case">=":case">":u=Cy(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=ly}Ay({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ay({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var rg=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(vy(t,this.value)):null!==t&&hy(this.value)===hy(t)&&this.v(vy(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bm()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new ig(e,t,r):"array-contains"===t?new ug(e,r):"in"===t?new cg(e,r):"not-in"===t?new lg(e,r):"array-contains-any"===t?new fg(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new ag(e,n):new og(e,n)}}]),n}(function(){return tt((function e(){Ze(this,e)}))}()),ig=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this,e,r,i)).key=cy.fromName(i.referenceValue),a}return tt(n,[{key:"matches",value:function(e){var t=cy.comparator(e.key,this.key);return this.v(t)}}]),n}(rg),ag=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,"in",r)).keys=sg("in",r),i}return tt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rg),og=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,"not-in",r)).keys=sg("not-in",r),i}return tt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rg);function sg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cy.fromName(e.referenceValue)}))}var ug=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"array-contains",r)}return tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wy(t)&&py(t.arrayValue,this.value)}}]),n}(rg),cg=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"in",r)}return tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&py(this.value.arrayValue,t)}}]),n}(rg),lg=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"not-in",r)}return tt(n,[{key:"matches",value:function(e){if(py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!py(this.value.arrayValue,t)}}]),n}(rg),fg=function(e){gt(n,e);var t=_t(n);function n(e,r){return Ze(this,n),t.call(this,e,"array-contains-any",r)}return tt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return py(t.value.arrayValue,e)}))}}]),n}(rg),hg=tt((function e(t,n){Ze(this,e),this.position=t,this.inclusive=n})),dg=tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ze(this,e),this.field=t,this.dir=n}));function pg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cy.comparator(cy.fromName(o.referenceValue),n.key):vy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function mg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dy(e.position[n],t.position[n]))return!1;return!0}var yg=tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ze(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function gg(e,t,n,r,i,a,o,s){return new yg(e,t,n,r,i,a,o,s)}function kg(e){return new yg(e)}function bg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wg(e){var t,n=On(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function xg(e){return null!==e.collectionGroup}function _g(e){var t=xm(e);if(null===t.D){t.D=[];var n=wg(t),r=bg(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new dg(n)),t.D.push(new dg(Qm.keyField(),"asc"));else{var i,a=!1,o=On(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new dg(Qm.keyField(),u))}}}return t.D}function Eg(e){var t=xm(e);if(!t.C)if("F"===t.limitType)t.C=$y(t.path,t.collectionGroup,_g(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=On(_g(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new hg(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new hg(t.startAt.position,t.startAt.inclusive):null;t.C=$y(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Ig(e,t,n){return new yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Sg(e,t){return Jy(Eg(e),Eg(t))&&e.limitType===t.limitType}function Tg(e){return"".concat(Xy(Eg(e)),"|lt:").concat(e.limitType)}function Cg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(yy(t.value));var t})).join(", "),"]")),oy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return yy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return yy(e)})).join(",")),"Target(".concat(t,")")}(Eg(e)),"; limitType=").concat(e.limitType,")")}function Ng(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=On(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=On(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_g(e),t))&&!(e.endAt&&!function(e,t,n){var r=vg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_g(e),t))}(e,t)}function Ag(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Dg(e){return function(t,n){var r,i=!1,a=On(_g(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Rg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Rg(e,t,n){var r=e.field.isKeyField()?cy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vy(r,i):bm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bm()}}function Pg(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sy(t)?"-0":t}}function jg(e){return{integerValue:""+e}}function Og(e,t){return uy(t)?jg(t):Pg(e,t)}var Lg=tt((function e(){Ze(this,e),this._=void 0}));function Mg(e,t,n){return e instanceof Vg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bg?zg(e,t):e instanceof qg?Kg(e,t):function(e,t){var n=Ug(e,t),r=Gg(n)+Gg(e.k);return by(n)&&by(e.k)?jg(r):Pg(e.M,r)}(e,t)}function Fg(e,t,n){return e instanceof Bg?zg(e,t):e instanceof qg?Kg(e,t):n}function Ug(e,t){return e instanceof Wg?by(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Vg=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n)}(Lg),Bg=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).elements=e,r}return tt(n)}(Lg);function zg(e,t){var n,r=Hg(t),i=On(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var qg=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).elements=e,r}return tt(n)}(Lg);function Kg(e,t){var n,r=Hg(t),i=On(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wg=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).M=e,i.k=r,i}return tt(n)}(Lg);function Gg(e){return Zm(e.integerValue||e.doubleValue)}function Hg(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Qg=tt((function e(t,n){Ze(this,e),this.field=t,this.transform=n}));var Yg=tt((function e(t,n){Ze(this,e),this.version=t,this.transformResults=n})),$g=function(){function e(t,n){Ze(this,e),this.updateTime=t,this.exists=n}return tt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Jg=tt((function e(){Ze(this,e)}));function Zg(e,t,n){e instanceof ik?function(e,t,n){var r=e.value.clone(),i=sk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ak?function(e,t,n){if(Xg(e.precondition,t)){var r=sk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ok(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ek(e,t,n){e instanceof ik?function(e,t,n){if(Xg(e.precondition,t)){var r=e.value.clone(),i=uk(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(rk(t),r).setHasLocalMutations()}}(e,t,n):e instanceof ak?function(e,t,n){if(Xg(e.precondition,t)){var r=uk(e.fieldTransforms,n,t),i=t.data;i.setAll(ok(e)),i.setAll(r),t.convertToFoundDocument(rk(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Xg(e.precondition,t)&&t.convertToNoDocument(Bm.min())}(e,t)}function tk(e,t){var n,r=null,i=On(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Ug(a.transform,o||null);null!=s&&(null==r&&(r=Dy.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function nk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bg&&t instanceof Bg||e instanceof qg&&t instanceof qg?Fm(e.elements,t.elements,dy):e instanceof Wg&&t instanceof Wg?dy(e.k,t.k):e instanceof Vg&&t instanceof Vg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function rk(e){return e.isFoundDocument()?e.version:Bm.min()}var ik=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ze(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return tt(n)}(Jg),ak=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ze(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return tt(n)}(Jg);function ok(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function sk(e,t,n){var r=new Map;wm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Fg(o,s,n[i]))}return r}function uk(e,t,n){var r,i=new Map,a=On(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Mg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ck,lk,fk=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return tt(n)}(Jg),hk=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return tt(n)}(Jg),dk=tt((function e(t){Ze(this,e),this.count=t}));function pk(e){switch(e){default:return bm();case _m.CANCELLED:case _m.UNKNOWN:case _m.DEADLINE_EXCEEDED:case _m.RESOURCE_EXHAUSTED:case _m.INTERNAL:case _m.UNAVAILABLE:case _m.UNAUTHENTICATED:return!1;case _m.INVALID_ARGUMENT:case _m.NOT_FOUND:case _m.ALREADY_EXISTS:case _m.PERMISSION_DENIED:case _m.FAILED_PRECONDITION:case _m.ABORTED:case _m.OUT_OF_RANGE:case _m.UNIMPLEMENTED:case _m.DATA_LOSS:return!0}}function vk(e){if(void 0===e)return ym("GRPC error has no .code"),_m.UNKNOWN;switch(e){case ck.OK:return _m.OK;case ck.CANCELLED:return _m.CANCELLED;case ck.UNKNOWN:return _m.UNKNOWN;case ck.DEADLINE_EXCEEDED:return _m.DEADLINE_EXCEEDED;case ck.RESOURCE_EXHAUSTED:return _m.RESOURCE_EXHAUSTED;case ck.INTERNAL:return _m.INTERNAL;case ck.UNAVAILABLE:return _m.UNAVAILABLE;case ck.UNAUTHENTICATED:return _m.UNAUTHENTICATED;case ck.INVALID_ARGUMENT:return _m.INVALID_ARGUMENT;case ck.NOT_FOUND:return _m.NOT_FOUND;case ck.ALREADY_EXISTS:return _m.ALREADY_EXISTS;case ck.PERMISSION_DENIED:return _m.PERMISSION_DENIED;case ck.FAILED_PRECONDITION:return _m.FAILED_PRECONDITION;case ck.ABORTED:return _m.ABORTED;case ck.OUT_OF_RANGE:return _m.OUT_OF_RANGE;case ck.UNIMPLEMENTED:return _m.UNIMPLEMENTED;case ck.DATA_LOSS:return _m.DATA_LOSS;default:return bm()}}(lk=ck||(ck={}))[lk.OK=0]="OK",lk[lk.CANCELLED=1]="CANCELLED",lk[lk.UNKNOWN=2]="UNKNOWN",lk[lk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lk[lk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lk[lk.NOT_FOUND=5]="NOT_FOUND",lk[lk.ALREADY_EXISTS=6]="ALREADY_EXISTS",lk[lk.PERMISSION_DENIED=7]="PERMISSION_DENIED",lk[lk.UNAUTHENTICATED=16]="UNAUTHENTICATED",lk[lk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lk[lk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lk[lk.ABORTED=10]="ABORTED",lk[lk.OUT_OF_RANGE=11]="OUT_OF_RANGE",lk[lk.UNIMPLEMENTED=12]="UNIMPLEMENTED",lk[lk.INTERNAL=13]="INTERNAL",lk[lk.UNAVAILABLE=14]="UNAVAILABLE",lk[lk.DATA_LOSS=15]="DATA_LOSS";var mk=function(){function e(t,n){Ze(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return tt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){qm(this.inner,(function(t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Km(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),yk=new qy(cy.comparator);function gk(){return yk}var kk=new qy(cy.comparator);function bk(){for(var e=kk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function wk(){return new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var xk=new qy(cy.comparator),_k=new Gy(cy.comparator);function Ek(){for(var e=_k,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ik=new Gy(Mm);function Sk(){return Ik}var Tk=function(){function e(t,n,r,i,a){Ze(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return tt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Ck.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Bm.min(),r,Sk(),gk(),Ek())}}]),e}(),Ck=function(){function e(t,n,r,i,a){Ze(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return tt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e($m.EMPTY_BYTE_STRING,n,Ek(),Ek(),Ek())}}]),e}(),Nk=tt((function e(t,n,r,i){Ze(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Ak=tt((function e(t,n){Ze(this,e),this.targetId=t,this.$=n})),Dk=tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$m.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ze(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Rk=function(){function e(){Ze(this,e),this.B=0,this.L=Ok(),this.U=$m.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return tt(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Ek(),t=Ek(),n=Ek();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bm()}})),new Ck(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Ok()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Pk=function(){function e(t){Ze(this,e),this.nt=t,this.st=new Map,this.it=gk(),this.rt=jk(),this.ot=new Gy(Mm)}return tt(e,[{key:"ut",value:function(e){var t,n=On(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=On(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:bm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Zy(i))if(0===n){var a=new cy(i.path);this.ct(t,a,Py.newNoDocument(a,Bm.min()))}else wm(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Zy(a.target)){var o=new cy(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Py.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Ek();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Tk(e,n,this.ot,this.it,r);return this.it=gk(),this.rt=jk(),this.ot=new Gy(Mm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Rk,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Gy(Mm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||mm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Rk),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function jk(){return new qy(cy.comparator)}function Ok(){return new qy(cy.comparator)}var Lk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fk=tt((function e(t,n){Ze(this,e),this.databaseId=t,this.N=n}));function Uk(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Vk(e,t){return e.N?t.toBase64():t.toUint8Array()}function Bk(e,t){return Uk(e,t.toTimestamp())}function zk(e){return wm(!!e),Bm.fromTimestamp(function(e){var t=Jm(e);return new Vm(t.seconds,t.nanos)}(e))}function qk(e,t){return function(e){return new Gm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Kk(e){var t=Gm.fromString(e);return wm(db(t)),t}function Wk(e,t){return qk(e.databaseId,t.path)}function Gk(e,t){var n=Kk(t);if(n.get(1)!==e.databaseId.projectId)throw new Em(_m.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Em(_m.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cy($k(n))}function Hk(e,t){return qk(e.databaseId,t)}function Qk(e){var t=Kk(e);return 4===t.length?Gm.emptyPath():$k(t)}function Yk(e){return new Gm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $k(e){return wm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xk(e,t,n){return{name:Wk(e,t),fields:n.value.mapValue.fields}}function Jk(e,t,n){var r=Gk(e,t.name),i=zk(t.updateTime),a=new Dy({mapValue:{fields:t.fields}}),o=Py.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Zk(e,t){return"found"in t?function(e,t){wm(!!t.found),t.found.name,t.found.updateTime;var n=Gk(e,t.found.name),r=zk(t.found.updateTime),i=new Dy({mapValue:{fields:t.found.fields}});return Py.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){wm(!!t.missing),wm(!!t.readTime);var n=Gk(e,t.missing),r=zk(t.readTime);return Py.newNoDocument(n,r)}(e,t):bm()}function eb(e,t){var n;if(t instanceof ik)n={update:Xk(e,t.key,t.value)};else if(t instanceof fk)n={delete:Wk(e,t.key)};else if(t instanceof ak)n={update:Xk(e,t.key,t.data),updateMask:hb(t.fieldMask)};else{if(!(t instanceof hk))return bm();n={verify:Wk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Vg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wg)return{fieldPath:t.field.canonicalString(),increment:n.k};throw bm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bm()}(e,t.precondition)),n}function tb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?$g.updateTime(zk(e.updateTime)):void 0!==e.exists?$g.exists(e.exists):$g.none()}(t.currentDocument):$g.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)wm("REQUEST_TIME"===t.setToServerValue),n=new Vg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Bg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new qg(i)}else"increment"in t?n=new Wg(e,t.increment):bm();var a=Qm.fromServerFormat(t.fieldPath);return new Qg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Gk(e,t.update.name),a=new Dy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ym(t.map((function(e){return Qm.fromServerFormat(e)})))}(t.updateMask);return new ak(i,a,o,n,r)}return new ik(i,a,n,r)}if(t.delete){var s=Gk(e,t.delete);return new fk(s,n)}if(t.verify){var u=Gk(e,t.verify);return new hk(u,n)}return bm()}function nb(e,t){return{documents:[Hk(e,t.path)]}}function rb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_y(e.value))return{unaryFilter:{field:ub(e.field),op:"IS_NAN"}};if(xy(e.value))return{unaryFilter:{field:ub(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_y(e.value))return{unaryFilter:{field:ub(e.field),op:"IS_NOT_NAN"}};if(xy(e.value))return{unaryFilter:{field:ub(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ub(e.field),op:sb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ub(e.field),direction:ob(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||oy(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ib(e){var t=Qk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){wm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ab(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new dg(cb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return oy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new hg(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new hg(n,t)}(n.endAt)),gg(t,i,s,o,u,"F",c,l)}function ab(e){return e?void 0!==e.unaryFilter?[fb(e)]:void 0!==e.fieldFilter?[lb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ab(e)})).reduce((function(e,t){return e.concat(t)})):bm():[]}function ob(e){return Lk[e]}function sb(e){return Mk[e]}function ub(e){return{fieldPath:e.canonicalString()}}function cb(e){return Qm.fromServerFormat(e.fieldPath)}function lb(e){return rg.create(cb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bm()}}(e.fieldFilter.op),e.fieldFilter.value)}function fb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=cb(e.unaryFilter.field);return rg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=cb(e.unaryFilter.field);return rg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=cb(e.unaryFilter.field);return rg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=cb(e.unaryFilter.field);return rg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bm()}}function hb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function db(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=mb(t)),t=vb(e.get(n),t);return mb(t)}function vb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function mb(e){return e+"\x01\x01"}function yb(e){var t=e.length;if(wm(t>=2),2===t)return wm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bm()}a=o+2}return new Gm(r)}var gb=["userId","batchId"];function kb(e,t){return[e,pb(t)]}function bb(e,t,n){return[e,pb(t),n]}var wb={},xb=["prefixPath","collectionGroup","readTime","documentId"],_b=["prefixPath","collectionGroup","documentId"],Eb=["collectionGroup","readTime","prefixPath","documentId"],Ib=["canonicalId","targetId"],Sb=["targetId","path"],Tb=["path","targetId"],Cb=["collectionId","parent"],Nb=["indexId","uid"],Ab=["uid","sequenceNumber"],Db=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rb=["indexId","uid","orderedDocumentKey"],Pb=["userId","collectionPath","documentId"],jb=["userId","collectionPath","largestBatchId"],Ob=["userId","collectionGroup","largestBatchId"],Lb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Mb=[].concat(le(Lb),["documentOverlays"]),Fb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ub=[].concat(Fb,["indexConfiguration","indexState","indexEntries"]),Vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bb=function(){function e(){Ze(this,e),this.onCommittedListeners=[]}return tt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),zb=function(){function e(t){var n=this;Ze(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return tt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=On(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),qb=function(){function e(t,n){var r=this;Ze(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Im,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Gb(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Xb(e.target.error);r.At.reject(new Gb(t,n))}}return tt(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(mm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Qb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Gb(n,t)}}}]),e}(),Kb=function(){function e(t,n,r){Ze(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Wn())&&ym("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return tt(e,[{key:"Nt",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return mm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Gb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Em(_m.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Em(_m.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Gb(t,n))},i.onupgradeneeded=function(e){mm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){mm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ee().mark((function e(){var n,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=qb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),zb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,mm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return mm("SimpleDb","Removing database:",e),Yb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Xn())return!1;if(e.St())return!0;var t=Wn(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Wb=function(){function e(t){Ze(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return tt(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Yb(this.Ft.delete())}}]),e}(),Gb=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,_m.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return tt(n)}(Em);function Hb(e){return"IndexedDbTransactionError"===e.name}var Qb=function(){function e(t){Ze(this,e),this.store=t}return tt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(mm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(mm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Yb(n)}},{key:"add",value:function(e){return mm("SimpleDb","ADD",this.store.name,e,e),Yb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Yb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),mm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return mm("SimpleDb","DELETE",this.store.name,e),Yb(this.store.delete(e))}},{key:"count",value:function(){return mm("SimpleDb","COUNT",this.store.name),Yb(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new zb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new zb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){mm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new zb((function(n,r){t.onerror=function(e){var t=Xb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new zb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Wb(i),o=t(i.primaryKey,i.value,a);if(o instanceof zb){var s=o.catch((function(e){return a.done(),zb.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return zb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Yb(e){return new zb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Xb(e.target.error);n(t)}}))}var $b=!1;function Xb(e){var t=Kb.Vt(Wn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Em("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $b||($b=!0,setTimeout((function(){throw r}),0)),r}}return e}var Jb=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return tt(n)}(Bb);function Zb(e,t){var n=xm(e);return Kb.xt(n.Ht,t)}var ew=function(){function e(t,n,r,i){Ze(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return tt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Zg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=On(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ek(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=On(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ek(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Bm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ek())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Fm(this.mutations,e.mutations,(function(e,t){return nk(e,t)}))&&Fm(this.baseMutations,e.baseMutations,(function(e,t){return nk(e,t)}))}}]),e}(),tw=function(){function e(t,n,r,i){Ze(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return tt(e,null,[{key:"from",value:function(t,n,r){wm(t.mutations.length===r.length);for(var i=xk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),nw=function(){function e(t,n){Ze(this,e),this.largestBatchId=t,this.mutation=n}return tt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),rw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Bm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Bm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$m.EMPTY_BYTE_STRING;Ze(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return tt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),iw=tt((function e(t){Ze(this,e),this.Jt=t}));function aw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ow(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Wk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Uk(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:sw(t.version)};else{if(!t.isUnknownDocument())return bm();r.unknownDocument={path:n.path.toArray(),version:sw(t.version)}}return r}function ow(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function sw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uw(e){var t=new Vm(e.seconds,e.nanoseconds);return Bm.fromTimestamp(t)}function cw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return tb(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return tb(e.Jt,t)})),s=Vm.fromMillis(t.localWriteTimeMs);return new ew(t.batchId,s,n,o)}function lw(e){var t,n,r=uw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?uw(e.lastLimboFreeSnapshotVersion):Bm.min();return void 0!==e.query.documents?(wm(1===(n=e.query).documents.length),t=Eg(kg(Qk(n.documents[0])))):t=function(e){return Eg(ib(e))}(e.query),new rw(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$m.fromBase64String(e.resumeToken))}function fw(e,t){var n,r=sw(t.snapshotVersion),i=sw(t.lastLimboFreeSnapshotVersion);n=Zy(t.target)?nb(e.Jt,t.target):rb(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function hw(e){var t=ib({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ig(t,t.limit,"L"):t}function dw(e,t){return new nw(t.largestBatchId,tb(e.Jt,t.overlayMutation))}function pw(e,t){var n=t.path.lastSegment();return[e,pb(t.path.popLast()),n]}var vw=function(){function e(){Ze(this,e)}return tt(e,[{key:"getBundleMetadata",value:function(e,t){return mw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:uw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return mw(e).put({bundleId:(n=t).id,createTime:sw(zk(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return yw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:hw(t.bundledQuery),readTime:uw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return yw(e).put(function(e){return{name:e.name,readTime:sw(zk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function mw(e){return Zb(e,"bundles")}function yw(e){return Zb(e,"namedQueries")}var gw=function(){function e(t,n){Ze(this,e),this.M=t,this.userId=n}return tt(e,[{key:"getOverlay",value:function(e,t){var n=this;return kw(e).get(pw(this.userId,t)).next((function(e){return e?dw(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new nw(t,a);i.push(r.Xt(e,o))})),zb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(pb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(kw(e).Qt("collectionPathOverlayIndex",i))})),zb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=wk(),a=pb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kw(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=dw(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=wk(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=dw(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return kw(e).put(function(e,t,n){var r=c(pw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:eb(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function kw(e){return Zb(e,"documentOverlays")}var bw=function(){function e(){Ze(this,e)}return tt(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Zm(e.integerValue));else if("doubleValue"in e){var n=Zm(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),sy(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ey(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Sy(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):bm()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),cy.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function ww(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=ww(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}bw.fe=new bw;var _w=function(){function e(){Ze(this,e),this.buffer=new Uint8Array(1024),this.position=0}return tt(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=xw(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=xw(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ew=function(){function e(t){Ze(this,e),this.De=t}return tt(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Iw=function(){function e(t){Ze(this,e),this.De=t}return tt(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Sw=function(){function e(){Ze(this,e),this.De=new _w,this.Ce=new Ew(this.De),this.xe=new Iw(this.De)}return tt(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Tw=function(){function e(t,n,r,i){Ze(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return tt(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Cw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Nw(e.arrayValue,t.arrayValue))?n:0!==(n=Nw(e.directionalValue,t.directionalValue))?n:cy.comparator(e.documentKey,t.documentKey)}function Nw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Aw=function(){function e(t){Ze(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=On(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return tt(e,[{key:"$e",value:function(e){var t=Oy(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Ly(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=On(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Dw=function(){function e(){Ze(this,e),this.qe=new Rw}return tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),zb.resolve()}},{key:"getCollectionParents",value:function(e,t){return zb.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return zb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return zb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return zb.resolve(null)}},{key:"getIndexType",value:function(e,t){return zb.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return zb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return zb.resolve(null)}},{key:"getMinOffset",value:function(e,t){return zb.resolve(By.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return zb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return zb.resolve()}}]),e}(),Rw=function(){function e(){Ze(this,e),this.index={}}return tt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gy(Gm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Gy(Gm.comparator)).toArray()}}]),e}(),Pw=new Uint8Array(0),jw=function(){function e(t,n){Ze(this,e),this.user=t,this.databaseId=n,this.Ke=new Rw,this.Ge=new mk((function(e){return Xy(e)}),(function(e,t){return Jy(e,t)})),this.uid=t.uid||""}return tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:pb(i)};return Ow(e).put(a)}return zb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Um(t),""],!1,!0);return Ow(e).qt(r).next((function(e){var r,i=On(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(yb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Mw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Mw(e),r=Fw(e),i=Lw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Lw(e),i=!0,a=new Map;return zb.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ek(),o=[];return zb.forEach(a,(function(i,a){var s;mm("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Xy(t)));var u=function(e,t){var n=Oy(t);if(void 0===n)return null;var r,i=On(eg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=On(Ly(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=On(eg(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=On(Ly(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?tg(e,o.fieldPath,e.startAt):ng(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new hg(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=On(Ly(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?ng(e,o.fieldPath,e.endAt):tg(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new hg(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return zb.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=cy.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return zb.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.Je(t[u/c]):Pw,h=s.Ye(e,f,n[u%c],r),d=s.Xe(e,f,i[u%c],a),p=o.map((function(t){return s.Ye(e,f,t,!0)}));l.push.apply(l,le(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new Tw(e,cy.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Tw(e,cy.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Aw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return zb.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Gy(Qm.comparator),r=!1,i=On(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,s=On(e.orderBy);try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||(n=n.add(u.field))}}catch(c){s.e(c)}finally{s.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new Sw,i=On(Ly(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);bw.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new Sw;return bw.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Sw;return bw.fe.Zt(ky(this.databaseId,t),n.Ne(function(e){var t=Ly(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sw);var i,a=0,o=On(Ly(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=On(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.en(t,u.fieldPath)&&wy(c))r=this.nn(r,u,c);else{var h=f.Ne(u.kind);bw.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=le(e),a=[],o=On(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=On(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new Sw;f.seed(l.Se()),bw.fe.Zt(u,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof rg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Mw(e),i=Fw(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return zb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fy(t.sequenceNumber,new By(uw(t.readTime),new cy(yb(t.documentKey)),t.largestBatchId)):Fy.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new My(Qm.fromServerFormat(n),r)}));return new jy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Mw(e),a=Fw(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return zb.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:sw(r.readTime),documentKey:pb(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return zb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?zb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),zb.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?zb.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Lw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Lw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Lw(e),i=new Gy(Cw);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Tw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Gy(Cw),r=this.Ze(t,e);if(null==r)return n;var i=Oy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(wy(a)){var o,s=On(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Tw(t.indexId,e.key,this.Je(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Tw(t.indexId,e.key,Pw,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;mm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=Qy(a),u=Qy(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=Qy(o)):l?(i(s),s=Qy(a)):(s=Qy(a),u=Qy(o))}}(r,i,Cw,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),zb.waitFor(o)}},{key:"rn",value:function(e){var t=1;return Fw(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Cw(e,t)})).filter((function(e,t,n){return!t||0!==Cw(e,n[t-1])}));var r=[];r.push(e);var i,a=On(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Cw(o,e),u=Cw(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Pw,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Pw,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return zb.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||zy(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=By.min()}))})).next((function(){return n}))}}]),e}();function Ow(e){return Zb(e,"collectionParents")}function Lw(e){return Zb(e,"indexEntries")}function Mw(e){return Zb(e,"indexConfiguration")}function Fw(e){return Zb(e,"indexState")}var Uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vw=function(){function e(t,n,r){Ze(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return tt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Bw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){wm(1===s)})));var c,l=[],f=On(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=bb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zb.waitFor(a).next((function(){return l}))}function zw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bm();t=e.noDocument}return JSON.stringify(t).length}Vw.DEFAULT_COLLECTION_PERCENTILE=10,Vw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vw.DEFAULT=new Vw(41943040,Vw.DEFAULT_COLLECTION_PERCENTILE,Vw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vw.DISABLED=new Vw(-1,0,0);var qw=function(){function e(t,n,r,i){Ze(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return tt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ww(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Gw(e),o=Ww(e);return o.add({}).next((function(s){wm("number"==typeof s);var u,c=new ew(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return eb(e.Jt,t)})),i=n.mutations.map((function(t){return eb(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Gy((function(e,t){return Mm(e.canonicalString(),t.canonicalString())})),d=On(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=bb(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,wb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=c.keys()})),zb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ww(e).get(t).next((function(e){return e?(wm(e.userId===n.userId),cw(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?zb.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ww(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(wm(t.batchId>=r),a=cw(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ww(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ww(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return cw(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=kb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Gw(e).Wt({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=yb(l);if(u===n.userId&&t.path.isEqual(h))return Ww(e).get(f).next((function(e){if(!e)throw bm();wm(e.userId===n.userId),a.push(cw(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gy(Mm),i=[];return t.forEach((function(t){var a=kb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Gw(e).Wt({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=yb(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),zb.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=kb(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Gy(Mm);return Gw(e).Wt({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=yb(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ww(e).get(t).next((function(e){if(null===e)throw bm();wm(e.userId===n.userId),r.push(cw(n.M,e))})))})),zb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Bw(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),zb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Gw(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=yb(e[1]);i.push(a)}else r.done()})).next((function(){wm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Kw(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return Hw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return wm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Kw(e,t,n){var r=kb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Gw(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Ww(e){return Zb(e,"mutations")}function Gw(e){return Zb(e,"documentMutations")}function Hw(e){return Zb(e,"mutationQueues")}var Qw=function(){function e(t){Ze(this,e),this.mn=t}return tt(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),Yw=function(){function e(t,n){Ze(this,e),this.referenceDelegate=t,this.M=n}return tt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new Qw(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Bm.fromTimestamp(new Vm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $w(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return wm(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return $w(e).Wt((function(o,s){var u=lw(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return zb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return $w(e).Wt((function(e,n){var r=lw(n);t(r)}))}},{key:"pn",value:function(e){return Xw(e).get("targetGlobalKey").next((function(e){return wm(null!==e),e}))}},{key:"In",value:function(e,t){return Xw(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return $w(e).put(fw(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Xy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $w(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=lw(n);Jy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Jw(e);return t.forEach((function(t){var o=pb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),zb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Jw(e);return zb.forEach(t,(function(t){var a=pb(t.path);return zb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Jw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jw(e),i=Ek();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=yb(e[1]),a=new cy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=pb(t.path),r=IDBKeyRange.bound([n],[Um(n)],!1,!0),i=0;return Jw(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return $w(e).get(t).next((function(e){return e?lw(e):null}))}}]),e}();function $w(e){return Zb(e,"targets")}function Xw(e){return Zb(e,"targetGlobal")}function Jw(e){return Zb(e,"targetDocuments")}function Zw(e){return ex.apply(this,arguments)}function ex(){return ex=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_m.FAILED_PRECONDITION&&t.message===Vb){e.next=2;break}throw t;case 2:mm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=Mm(r,o);return 0===u?Mm(i,s):u}var nx=function(){function e(t){Ze(this,e),this.An=t,this.buffer=new Gy(tx),this.Rn=0}return tt(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rx=function(){function e(t,n){Ze(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return tt(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;mm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Hb(n.t0)){n.next=12;break}mm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Zw(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),ix=function(){function e(t,n){Ze(this,e),this.Dn=t,this.params=n}return tt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zb.resolve(jm.A);var r=new nx(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(mm("LruGarbageCollector","Garbage collection skipped; disabled"),zb.resolve(Uw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(mm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Uw):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(mm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),vm()<=mr.DEBUG&&mm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),zb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),ax=function(){function e(t,n){Ze(this,e),this.db=t,this.garbageCollector=function(e,t){return new ix(e,t)}(this,n)}return tt(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ox(e,n)}},{key:"removeReference",value:function(e,t,n){return ox(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ox(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return Hw(e).zt((function(r){return Kw(e,r,t).next((function(e){return e&&(n=!0),zb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Bm.min()),Jw(e).delete([0,pb(o.path)])}))}));i.push(u)}})).next((function(){return zb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ox(e,t)}},{key:"Mn",value:function(e,t){var n,r=Jw(e),i=jm.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==jm.A&&t(new cy(yb(n)),i),i=u,n=s):i=jm.A})).next((function(){i!==jm.A&&t(new cy(yb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ox(e,t){return Jw(e).put(function(e,t){return{targetId:0,path:pb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var sx=function(){function e(){Ze(this,e),this.changes=new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return tt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Py.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ux=function(){function e(t){Ze(this,e),this.M=t}return tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return fx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return fx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ow(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Py.newInvalidDocument(t);return fx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hx(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Py.newInvalidDocument(t)};return fx(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(hx(t))},(function(e,i){r={document:n.$n(t,i),size:zw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=gk();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=gk(),i=new qy(cy.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,zw(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return zb.resolve();var r=new Gy(px);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(hx(r.first()),hx(r.last())),a=r.getIterator(),o=a.getNext();return fx(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=cy.fromSegments([].concat(le(t.prefixPath),[t.collectionGroup,t.documentId]));o&&px(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(hx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),ow(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fx(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=gk(),i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(cy.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=gk(),o=dx(t,n),s=dx(t,By.max());return fx(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(cy.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new cx(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return lx(e).get("remoteDocumentGlobalKey").next((function(e){return wm(!!e),e}))}},{key:"Fn",value:function(e,t){return lx(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Jk(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=cy.fromSegments(t.noDocument.path),i=uw(t.noDocument.readTime);n=Py.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bm();var a=cy.fromSegments(t.unknownDocument.path),o=uw(t.unknownDocument.version);n=Py.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Vm(e[0],e[1]);return Bm.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Bm.min()))return n}return Py.newInvalidDocument(e)}}]),e}(),cx=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new mk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Gy((function(e,t){return Mm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=aw(t.Kn.M,o);i=i.add(a.path.popLast());var c=zw(u);r+=c-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=aw(t.Kn.M,o.convertToNoDocument(Bm.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),zb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(sx);function lx(e){return Zb(e,"remoteDocumentGlobal")}function fx(e){return Zb(e,"remoteDocumentsV14")}function hx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function dx(e,t){var n=t.documentKey.path.toArray();return[e,ow(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function px(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Mm(n[a],r[a]))return i;return(i=Mm(n.length,r.length))||((i=Mm(n[n.length-2],r[r.length-2]))||Mm(n[n.length-1],r[r.length-1]))}var vx=function(){function e(t){Ze(this,e),this.M=t}return tt(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new qb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gb,{unique:!0}),e.createObjectStore("documentMutations")}(e),mx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=zb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),mx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gb,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return zb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Pb});t.createIndex("collectionPathOverlayIndex",jb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ob,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:xb});t.createIndex("documentKeyIndex",_b),t.createIndex("collectionGroupIndex",Eb)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Nb}).createIndex("sequenceNumberIndex",Ab,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Db}).createIndex("documentKeyIndex",Rb,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=zw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return zb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return zb.forEach(r,(function(r){wm(r.userId===n.userId);var i=cw(t.M,r);return Bw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Gm(n),o=function(e){return[0,pb(e)]}(a);r.push(t.get(o).next((function(n){return n?zb.resolve():function(n){return t.put({targetId:0,path:pb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return zb.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Cb});var n=t.store("collectionParents"),r=new Rw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:pb(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Gm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],yb(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=lw(r),a=fw(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new cy(Gm.fromString(i.document.name).popFirst(5)):i.noDocument?cy.fromSegments(i.noDocument.path):i.unknownDocument?cy.fromSegments(i.unknownDocument.path):bm()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return zb.waitFor(r)}))}}]),e}();function mx(e){e.createObjectStore("targetDocuments",{keyPath:Sb}).createIndex("documentTargetsIndex",Tb,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ib,{unique:!0}),e.createObjectStore("targetGlobal")}var yx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gx=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ze(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Em(_m.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ax(this,i),this.hs=n+"main",this.M=new iw(u),this.ls=new Kb(this.hs,this.ts,new vx(this.M)),this.fs=new Yw(this.referenceDelegate,this.M),this.ds=function(e){return new ux(e)}(this.M),this._s=new vw,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&ym("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return tt(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Em(_m.FAILED_PRECONDITION,yx);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new jm(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=J(ee().mark((function n(r){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(Hb(t))return mm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return mm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return kx(e).get("owner").next((function(e){return zb.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return bx(e).delete(this.clientId)}},{key:"vs",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Zb(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=On(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?zb.resolve(!0):kx(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Em(_m.FAILED_PRECONDITION,yx);return!1}}return!(!t.networkEnabled||!t.inForeground)||bx(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&mm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Jb(e,jm.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bx(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return qw.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new jw(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return gw.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;mm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?Ub:13===i?Fb:12===i?Mb:11===i?Lb:void bm();return this.ls.runTransaction(e,o,s,(function(i){return a=new Jb(i,r.es?r.es.next():jm.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw ym("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Em(_m.FAILED_PRECONDITION,Vb);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return kx(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Em(_m.FAILED_PRECONDITION,yx)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kx(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=kx(e);return n.get("owner").next((function(e){return t.Ps(e)?(mm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):zb.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ym("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Hn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return mm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ym("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(hh){ym("Failed to set zombie client id.",hh)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(hh){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Kb.vt()}}]),e}();function kx(e){return Zb(e,"owner")}function bx(e){return Zb(e,"clientMetadata")}function wx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xx=function(){function e(t,n,r){Ze(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return tt(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=On(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=On(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return cy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):xg(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new cy(t)).next((function(e){var t=bk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bk();return this.indexManager.getCollectionParents(e,i).next((function(o){return zb.forEach(o,(function(o){var s=function(e,t){return new yg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=On(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=Py.newInvalidDocument(u),r=r.insert(u,c)),ek(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ng(t,n)||(r=r.remove(e))})),r}))}}]),e}(),_x=function(){function e(t,n,r,i){Ze(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return tt(e,null,[{key:"Ys",value:function(t,n){var r,i=Ek(),a=Ek(),o=On(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ex=function(){function e(){Ze(this,e),this.Xs=!1}return tt(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return zb.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Bm.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(vm()<=mr.DEBUG&&mm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cg(t)),i.ri(e,o,t,Uy(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Gy(Dg(e));return t.forEach((function(t,r){Ng(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return vm()<=mr.DEBUG&&mm("QueryEngine","Using full collection scan to execute query:",Cg(t)),this.Zs.Qs(e,t,By.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Ix=function(){function e(t,n,r,i){Ze(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new qy(Mm),this.ai=new mk((function(e){return Xy(e)}),Jy),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return tt(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new xx(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function Sx(e,t,n,r){return new Ix(e,t,n,r)}function Tx(e,t){return Cx.apply(this,arguments)}function Cx(){return Cx=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ek(),u=On(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=On(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=On(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=On(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,s).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Nx(e,t){var n=xm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);wm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function Ax(e){var t=xm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Dx(e,t){var n=xm(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken($m.EMPTY_BYTE_STRING,Bm.min()).withLastLimboFreeSnapshotVersion(Bm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=gk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Rx(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(Bm.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return zb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ui=i,e}))}function Rx(e,t,n){var r=Ek();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gk();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Bm.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):mm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Px(e,t){var n=xm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function jx(e,t){var n=xm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,zb.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new rw(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Ox(e,t,n){return Lx.apply(this,arguments)}function Lx(){return Lx=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xm(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Hb(e.t1)){e.next=12;break}throw e.t1;case 12:mm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Lx.apply(this,arguments)}function Mx(e,t,n){var r=xm(e),i=Bm.min(),a=Ek();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=xm(e),i=r.ai.get(n);return void 0!==i?zb.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Eg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Bm.min(),n?a:Ek())})).next((function(e){return Vx(r,Ag(t),e),{documents:e,_i:a}}))}))}function Fx(e,t){var n=xm(e),r=xm(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ux(e,t){var n=xm(e),r=n.ci.get(t)||Bm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Uy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Vx(n,t,e),e}))}function Vx(e,t,n){var r=Bm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function Bx(e,t,n,r){return zx.apply(this,arguments)}function zx(){return zx=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=xm(t),o=Ek(),s=gk(),u=On(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,jx(a,function(e){return Eg(kg(Gm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Rx(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function qx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=J(ee().mark((function e(t,n){var r,i,a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ek(),e.next=3,jx(t,Eg(hw(n.bundledQuery)));case 3:return i=e.sent,a=xm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=zk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken($m.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}var Wx=function(){function e(t){Ze(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return tt(e,[{key:"getBundleMetadata",value:function(e,t){return zb.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:zk(n.createTime)}),zb.resolve()}},{key:"getNamedQuery",value:function(e,t){return zb.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:hw(e.bundledQuery),readTime:zk(e.readTime)}}(t)),zb.resolve()}}]),e}(),Gx=function(){function e(){Ze(this,e),this.overlays=new qy(cy.comparator),this.Ii=new Map}return tt(e,[{key:"getOverlay",value:function(e,t){return zb.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),zb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),zb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=wk(),i=t.length+1,a=new cy(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return zb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new qy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=wk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=wk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return zb.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new nw(t,n));var a=this.Ii.get(t);void 0===a&&(a=Ek(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),Hx=function(){function e(){Ze(this,e),this.Ti=new Gy(Qx.Ei),this.Ai=new Gy(Qx.Ri)}return tt(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Qx(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new Qx(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new cy(new Gm([])),r=new Qx(n,e),i=new Qx(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new cy(new Gm([])),n=new Qx(t,e),r=new Qx(t,e+1),i=Ek();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Qx(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Qx=function(){function e(t,n){Ze(this,e),this.key=t,this.Ci=n}return tt(e,null,[{key:"Ei",value:function(e,t){return cy.comparator(e.key,t.key)||Mm(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Mm(e.Ci,t.Ci)||cy.comparator(e.key,t.key)}}]),e}(),Yx=function(){function e(t,n){Ze(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Gy(Qx.Ei)}return tt(e,[{key:"checkEmpty",value:function(e){return zb.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new ew(i,t,n,r);this.Bs.push(a);var o,s=On(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ni=this.Ni.add(new Qx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return zb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zb.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return zb.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zb.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return zb.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Qx(t,0),i=new Qx(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),zb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Gy(Mm);return t.forEach((function(e){var t=new Qx(e,0),i=new Qx(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),zb.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cy.isDocumentKey(i)||(i=i.child(""));var a=new Qx(new cy(i),0),o=new Gy(Mm);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),zb.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;wm(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return zb.forEach(t.mutations,(function(i){var a=new Qx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Qx(t,0),r=this.Ni.firstAfterOrEqual(n);return zb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,zb.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),$x=function(){function e(t){Ze(this,e),this.$i=t,this.docs=new qy(cy.comparator),this.size=0}return tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zb.resolve(n?n.document.mutableCopy():Py.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Py.newInvalidDocument(e))})),zb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=gk(),i=new cy(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||zy(Vy(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return zb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bm()}},{key:"Bi",value:function(e,t){return zb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Xx(this)}},{key:"getSize",value:function(e){return zb.resolve(this.size)}}]),e}(),Xx=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).Kn=e,r}return tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),zb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(sx),Jx=function(){function e(t){Ze(this,e),this.persistence=t,this.Li=new mk((function(e){return Xy(e)}),Jy),this.lastRemoteSnapshotVersion=Bm.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Hx,this.targetCount=0,this.Ki=Qw.gn()}return tt(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),zb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zb.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),zb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),zb.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new Qw(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,zb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),zb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,zb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return zb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),zb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),zb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return zb.resolve(n)}},{key:"containsKey",value:function(e,t){return zb.resolve(this.qi.containsKey(t))}}]),e}(),Zx=function(){function e(t,n){var r=this;Ze(this,e),this.Gi={},this.overlays={},this.es=new jm(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Jx(this),this.indexManager=new Dw,this.ds=new $x((function(e){return r.referenceDelegate.Qi(e)})),this.M=new iw(n),this._s=new Wx(this.M)}return tt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Gx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Yx(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;mm("MemoryPersistence","Starting transaction:",e);var i=new e_(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return zb.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),e_=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return tt(n)}(Bb),t_=function(){function e(t){Ze(this,e),this.persistence=t,this.Hi=new Hx,this.Ji=null}return tt(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw bm()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),zb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),zb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),zb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zb.forEach(this.Xi,(function(r){var i=cy.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Bm.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return zb.or([function(){return zb.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function n_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function r_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function i_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var a_=function(){function e(t,n,r,i){Ze(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return tt(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Em(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ym("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),o_=function(){function e(t,n,r){Ze(this,e),this.targetId=t,this.state=n,this.error=r}return tt(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Em(i.error.code,i.error.message))),a?new e(t,i.state,r):(ym("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),s_=function(){function e(t,n){Ze(this,e),this.clientId=t,this.activeTargetIds=n}return tt(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Sk(),o=0;i&&o<r.activeTargetIds.length;++o)i=uy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ym("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),u_=function(){function e(t,n){Ze(this,e),this.clientId=t,this.onlineState=n}return tt(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ym("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),c_=function(){function e(){Ze(this,e),this.activeTargetIds=Sk()}return tt(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),l_=function(){function e(t,n,r,i,a){Ze(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new qy(Mm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=n_(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new c_),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return tt(e,[{key:"start",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=On(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(n_(this.persistenceKey,i)))&&(o=s_.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(s=this.storage.getItem(this.mr))&&(u=this.pr(s))&&this.Ir(u),c=On(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(i_(this.persistenceKey,e));if(n){var r=o_.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(i_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return mm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){mm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){mm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(mm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void ym("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(J(ee().mark((function e(){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(s));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}u=function(e){var t=jm.A;if(null!=e)try{var n=JSON.parse(e);wm("number"==typeof n),t=n}catch(e){ym("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==jm.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new a_(this.currentUser,e,t,n),i=r_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=r_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=i_(this.persistenceKey,e),i=new o_(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return s_.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return a_.tr(new hm(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return o_.tr(r,t)}},{key:"pr",value:function(e){return u_.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:mm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Lr(o,s).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Sk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),f_=function(){function e(){Ze(this,e),this.Ur=new c_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return tt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new c_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),h_=function(){function e(){Ze(this,e)}return tt(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),d_=function(){function e(){var t=this;Ze(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return tt(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){mm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=On(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){mm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=On(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),p_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},v_=function(){function e(t){Ze(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return tt(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),m_=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return tt(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new lm;o.listenOnce(am.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case im.NO_ERROR:var t=o.getResponseJson();mm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case im.TIMEOUT:mm("Connection",'RPC "'+e+'" timed out'),a(new Em(_m.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:var n=o.getStatus();if(mm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_m).indexOf(t)>=0?t:_m.UNKNOWN}(r.status);a(new Em(s,r.message))}else a(new Em(_m.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Em(_m.UNAVAILABLE,"Connection failed."));break;default:bm()}}finally{mm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=nm(),a=rm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new um({})),this.lo(o.initMessageHeaders,t,n),Gn()||Yn()||Wn().indexOf("Electron/")>=0||$n()||Wn().indexOf("MSAppHost/")>=0||Qn()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");mm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new v_({Jr:function(e){l?mm("Connection","Not sending because WebChannel is closed:",e):(c||(mm("Connection","Opening WebChannel transport."),u.open(),c=!0),mm("Connection","WebChannel sending:",e),u.send(e))},Yr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,cm.EventType.OPEN,(function(){l||mm("Connection","WebChannel transport opened.")})),h(u,cm.EventType.CLOSE,(function(){l||(l=!0,mm("Connection","WebChannel transport closed"),f.ro())})),h(u,cm.EventType.ERROR,(function(e){l||(l=!0,gm("Connection","WebChannel transport errored:",e),f.ro(new Em(_m.UNAVAILABLE,"The operation could not be completed")))})),h(u,cm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];wm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){mm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ck[e];if(void 0!==t)return vk(t)}(a),s=i.message;void 0===o&&(o=_m.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Em(o,s)),u.close()}else mm("Connection","WebChannel received:",n),f.oo(n)}})),h(a,om.STAT_EVENT,(function(e){e.stat===sm.PROXY?mm("Connection","Detected buffering proxy"):e.stat===sm.NOPROXY&&mm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Ze(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return tt(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);mm("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return mm("RestConnection","Received: ",e),e}),(function(t){throw gm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=p_[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function y_(){return"undefined"!=typeof window?window:null}function g_(){return"undefined"!=typeof document?document:null}function k_(e){return new Fk(e,!0)}var b_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ze(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return tt(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&mm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),w_=function(){function e(t,n,r,i,a,o,s,u){Ze(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new b_(t,n)}return tt(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===_m.RESOURCE_EXHAUSTED?(ym(n.toString()),ym("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===_m.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Em(_m.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return mm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(mm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),x_=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a,o,s){var u;return Ze(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return tt(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(wm(void 0===t||"string"==typeof t),$m.fromBase64String(t||"")):(wm(void 0===t||t instanceof Uint8Array),$m.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?_m.UNKNOWN:vk(e.code);return new Em(t,e.message||"")}(o);n=new Dk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Gk(e,u.document.name),l=zk(u.document.updateTime),f=new Dy({mapValue:{fields:u.document.fields}}),h=Py.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Nk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Gk(e,v.document),y=v.readTime?zk(v.readTime):Bm.min(),g=Py.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Nk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Gk(e,b.document),x=b.removedTargetIds||[];n=new Nk([],x,w,null)}else{if(!("filter"in t))return bm();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new dk(E),S=_.targetId;n=new Ak(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Bm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Bm.min():t.readTime?zk(t.readTime):Bm.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Yk(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Zy(r)?{documents:nb(e,r)}:{query:rb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Vk(e,t.resumeToken):t.snapshotVersion.compareTo(Bm.min())>0&&(n.readTime=Uk(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return bm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Yk(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(w_),__=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a,o,s){var u;return Ze(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Yo=!1,u}return tt(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,mt(pt(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(wm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(wm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?zk(e.updateTime):zk(t);return n.isEqual(Bm.min())&&(n=zk(t)),new Yg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=zk(e.commitTime);return this.listener.tu(n,t)}return wm(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Yk(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return eb(t.M,e)}))};this.Lo(n)}}]),n}(w_),E_=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a){var o;return Ze(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return tt(n,[{key:"iu",value:function(){if(this.su)throw new Em(_m.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.So.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_m.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Em(_m.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.So._o(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_m.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Em(_m.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return tt((function e(){Ze(this,e)}))}()),I_=function(){function e(t,n){Ze(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return tt(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(ym(t),this.uu=!1):mm("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),S_=tt((function e(t,n,r,i,a){var o=this;Ze(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=M_(o),!e.t0){e.next=5;break}return mm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xm(t)).wu.add(4),e.next=4,N_(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,T_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new I_(r,i)}));function T_(e){return C_.apply(this,arguments)}function C_(){return C_=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M_(t)){e.next=18;break}n=On(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),C_.apply(this,arguments)}function N_(e){return A_.apply(this,arguments)}function A_(){return A_=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=On(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),A_.apply(this,arguments)}function D_(e,t){var n=xm(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),L_(n)?O_(n):hE(n).Mo()&&P_(n,t))}function R_(e,t){var n=xm(e),r=hE(n);n._u.delete(t),r.Mo()&&j_(n,t),0===n._u.size&&(r.Mo()?r.$o():M_(n)&&n.yu.set("Unknown"))}function P_(e,t){e.pu.Z(t.targetId),hE(e).Ho(t)}function j_(e,t){e.pu.Z(t),hE(e).Jo(t)}function O_(e){e.pu=new Pk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),hE(e).start(),e.yu.au()}function L_(e){return M_(e)&&!hE(e).ko()&&e._u.size>0}function M_(e){return 0===xm(e).wu.size}function F_(e){e.pu=void 0}function U_(e){return V_.apply(this,arguments)}function V_(){return V_=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){P_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e,t){return z_.apply(this,arguments)}function z_(){return z_=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F_(t),L_(t)?(t.yu.lu(n),O_(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function q_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=J(ee().mark((function e(t,n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Dk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=On(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),mm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,W_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Nk?t.pu.ut(n):n instanceof Ak?t.pu._t(n):t.pu.ht(n),r.isEqual(Bm.min())){e.next=29;break}return e.prev=14,e.next=17,Ax(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken($m.EMPTY_BYTE_STRING,n.snapshotVersion)),j_(e,t);var r=new rw(n.target,t,1,n.sequenceNumber);P_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),mm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,W_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),K_.apply(this,arguments)}function W_(e,t,n){return G_.apply(this,arguments)}function G_(){return G_=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hb(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,N_(t);case 5:t.yu.set("Offline"),r||(r=function(){return Ax(t.localStore)}),t.asyncQueue.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,T_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function H_(e,t){return t().catch((function(n){return W_(e,n,t)}))}function Q_(e){return Y_.apply(this,arguments)}function Y_(){return Y_=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xm(t),r=dE(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!$_(n)){e.next=19;break}return e.prev=3,e.next=6,Px(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,X_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,W_(n,e.t0);case 17:e.next=2;break;case 19:J_(n)&&Z_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Y_.apply(this,arguments)}function $_(e){return M_(e)&&e.du.length<10}function X_(e,t){e.du.push(t);var n=dE(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function J_(e){return M_(e)&&!dE(e).ko()&&e.du.length>0}function Z_(e){dE(e).start()}function eE(e){return tE.apply(this,arguments)}function tE(){return tE=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dE(t).nu();case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e){return rE.apply(this,arguments)}function rE(){return rE=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dE(t),r=On(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t,n){return aE.apply(this,arguments)}function aE(){return aE=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=tw.from(i,n,r),e.next=3,H_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Q_(t);case 5:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t){return sE.apply(this,arguments)}function sE(){return sE=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&dE(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pk(i=n.code)||i===_m.ABORTED){e.next=7;break}return r=t.du.shift(),dE(t).Fo(),e.next=5,H_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Q_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:J_(t)&&Z_(t);case 5:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function uE(e,t){return cE.apply(this,arguments)}function cE(){return cE=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=xm(t)).asyncQueue.verifyOperationInProgress(),mm("RemoteStore","RemoteStore received new credentials"),i=M_(r),r.wu.add(3),e.next=6,N_(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,T_(r);case 12:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,T_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,N_(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function hE(e){return e.Iu||(e.Iu=function(e,t,n){var r=xm(e);return r.iu(),new x_(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:U_.bind(null,e),eo:B_.bind(null,e),zo:q_.bind(null,e)}),e.mu.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),L_(e)?O_(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:F_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function dE(e){return e.Tu||(e.Tu=function(e,t,n){var r=xm(e);return r.iu(),new __(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:eE.bind(null,e),eo:oE.bind(null,e),eu:nE.bind(null,e),tu:iE.bind(null,e)}),e.mu.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Q_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(mm("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var pE=function(){function e(t,n,r,i,a){Ze(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Im,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return tt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Em(_m.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function vE(e,t){if(ym("AsyncQueue","".concat(t,": ").concat(e)),Hb(e))return new Em(_m.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var mE=function(){function e(t){Ze(this,e),this.comparator=t?function(e,n){return t(e,n)||cy.comparator(e.key,n.key)}:function(e,t){return cy.comparator(e.key,t.key)},this.keyedMap=bk(),this.sortedSet=new qy(this.comparator)}return tt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),yE=function(){function e(){Ze(this,e),this.Eu=new qy(cy.comparator)}return tt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):bm():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),gE=function(){function e(t,n,r,i,a,o,s,u){Ze(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return tt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,mE.emptySet(n),a,r,i,!0,!1)}}]),e}(),kE=tt((function e(){Ze(this,e),this.Ru=void 0,this.listeners=[]})),bE=tt((function e(){Ze(this,e),this.queries=new mk((function(e){return Tg(e)}),Sg),this.onlineState="Unknown",this.bu=new Set}));function wE(e,t){return xE.apply(this,arguments)}function xE(){return xE=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new kE),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=vE(e.t0,"Initialization of query '".concat(Cg(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&TE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xE.apply(this,arguments)}function _E(e,t){return EE.apply(this,arguments)}function EE(){return EE=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function IE(e,t){var n,r=xm(e),i=!1,a=On(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=On(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&TE(r)}function SE(e,t,n){var r=xm(e),i=r.queries.get(t);if(i){var a,o=On(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function TE(e){e.bu.forEach((function(e){e.next()}))}var CE=function(){function e(t,n,r){Ze(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return tt(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=On(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new gE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=gE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),NE=function(){function e(t,n){Ze(this,e),this.payload=t,this.byteLength=n}return tt(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),AE=function(){function e(t){Ze(this,e),this.M=t}return tt(e,[{key:"wi",value:function(e){return Gk(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?Jk(this.M,e.document,!1):Py.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return zk(e)}}]),e}(),DE=function(){function e(t,n,r){Ze(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RE(t)}return tt(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Gm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new AE(this.M),i=On(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.wi(a.metadata.name),u=On(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Ek()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bx(this.localStore,new AE(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=On(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,qx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function RE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var PE=tt((function e(t){Ze(this,e),this.key=t})),jE=tt((function e(t){Ze(this,e),this.key=t})),OE=function(){function e(t,n){Ze(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Ek(),this.mutatedKeys=Ek(),this.Gu=Dg(t),this.Qu=new mE(this.Gu)}return tt(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new yE,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ng(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bm()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new gE(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new yE,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ek(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new jE(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new PE(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Ek();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return gE.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),LE=tt((function e(t,n,r){Ze(this,e),this.query=t,this.targetId=n,this.view=r})),ME=tt((function e(t){Ze(this,e),this.key=t,this.na=!1})),FE=function(){function e(t,n,r,i,a,o){Ze(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new mk((function(e){return Tg(e)}),Sg),this.ra=new Map,this.oa=new Set,this.ua=new qy(cy.comparator),this.aa=new Map,this.ca=new Hx,this.ha={},this.la=new Map,this.fa=Qw.yn(),this.onlineState="Unknown",this.da=void 0}return tt(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function UE(e,t){return VE.apply(this,arguments)}function VE(){return VE=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=RI(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,jx(r.localStore,Eg(n));case 8:return s=e.sent,r.isPrimaryClient&&D_(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,BE(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function BE(e,t,n,r){return zE.apply(this,arguments)}function zE(){return zE=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Mx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(uI(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Mx(t.localStore,n,!0);case 3:return a=e.sent,o=new OE(n,a._i),s=o.Wu(a.documents),u=Ck.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),uI(t,r,c.Xu),l=new LE(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t){return KE.apply(this,arguments)}function KE(){return KE=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xm(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Sg(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ox(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),R_(r.remoteStore,i.targetId),oI(r,i.targetId)})).catch(Zw);case 9:e.next=14;break;case 11:return oI(r,i.targetId),e.next=14,Ox(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),KE.apply(this,arguments)}function WE(e,t,n){return GE.apply(this,arguments)}function GE(){return GE=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PI(t),e.prev=1,e.next=4,function(e,t){var n,r=xm(e),i=Vm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ek());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,s=[],u=On(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=tk(c,n.get(c.key));null!=l&&s.push(new ak(c.key,l,Ry(l.value.mapValue),$g.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new qy(Mm)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,fI(i,a.changes);case 9:return e.next=11,Q_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=vE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),GE.apply(this,arguments)}function HE(e,t){return QE.apply(this,arguments)}function QE(){return QE=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.prev=1,e.next=4,Dx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(wm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?wm(n.na):e.removedDocuments.size>0&&(wm(n.na),n.na=!1))})),e.next=8,fI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),QE.apply(this,arguments)}function YE(e,t,n){var r=xm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=xm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=On(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&TE(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function $E(e,t,n){return XE.apply(this,arguments)}function XE(){return XE=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=xm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new qy(cy.comparator)).insert(o,Py.newNoDocument(o,Bm.min())),u=Ek().add(o),c=new Tk(Bm.min(),new Map,new Gy(Mm),s,u),e.next=9,HE(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),lI(i),e.next=16;break;case 14:return e.next=16,Ox(i.localStore,n,!1).then((function(){return oI(i,n,r)})).catch(Zw);case 16:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=n.batch.batchId,e.prev=1,e.next=4,Nx(r.localStore,n);case 4:return a=e.sent,aI(r,i,null),iI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,fI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZE.apply(this,arguments)}function eI(e,t,n){return tI.apply(this,arguments)}function tI(){return tI=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xm(t),e.prev=1,e.next=4,function(e,t){var n=xm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return wm(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,aI(i,n,r),iI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,fI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),tI.apply(this,arguments)}function nI(e,t){return rI.apply(this,arguments)}function rI(){return rI=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M_((r=xm(t)).remoteStore)||mm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=xm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=vE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),rI.apply(this,arguments)}function iI(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function aI(e,t,n){var r=xm(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function oI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=On(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||sI(e,t)}))}function sI(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(R_(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),lI(e))}function uI(e,t,n){var r,i=On(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof PE?(e.ca.addReference(a.key,t),cI(e,a)):a instanceof jE?(mm("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||sI(e,a.key)):bm()}}catch(o){i.e(o)}finally{i.f()}}function cI(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(mm("SyncEngine","New document in limbo: "+n),e.oa.add(r),lI(e))}function lI(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new cy(Gm.fromString(t)),r=e.fa.next();e.aa.set(r,new ME(n)),e.ua=e.ua.insert(n,r),D_(e.remoteStore,new rw(Eg(kg(n.path)),r,2,jm.A))}}function fI(e,t,n){return hI.apply(this,arguments)}function hI(){return hI=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xm(t),a=[],o=[],s=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){s.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=_x.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sa.zo(a),e.next=9,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zb.forEach(n,(function(t){return zb.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zb.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Hb(e.t0)){e.next=10;break}throw e.t0;case 10:mm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=On(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ui.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=xm(t)).currentUser.isEqual(n)){e.next=11;break}return mm("SyncEngine","User change. New user:",n.toKey()),e.next=5,Tx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Em(_m.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,fI(r,i.di);case 11:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){var n=xm(e),r=n.aa.get(t);if(r&&r.na)return Ek().add(r.key);var i=Ek(),a=n.ra.get(t);if(!a)return i;var o,s=On(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ia.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.next=3,Mx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&uI(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){return kI.apply(this,arguments)}function kI(){return kI=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),e.abrupt("return",Ux(r.localStore,n).then((function(e){return fI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),kI.apply(this,arguments)}function bI(e,t,n,r){return wI.apply(this,arguments)}function wI(){return wI=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xm(t),e.next=3,function(e,t){var n=xm(e),r=xm(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):zb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Q_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(aI(a,n,i||null),iI(a,n),function(e,t){xm(xm(e).Bs)._n(t)}(a.localStore,n)):bm();case 11:return e.next=13,fI(a,o);case 13:e.next=16;break;case 15:mm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}function xI(e,t){return _I.apply(this,arguments)}function _I(){return _I=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RI(r=xm(t)),PI(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,EI(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,lE(r.remoteStore,!0);case 9:o=On(a);try{for(o.s();!(s=o.n()).done;)u=s.value,D_(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return oI(r,t),Ox(r.localStore,t,!0)})),R_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,EI(r,c);case 21:return function(e){var t=xm(e);t.aa.forEach((function(e,n){R_(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new qy(cy.comparator)}(r),r.da=!1,e.next=25,lE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function EI(e,t,n){return II.apply(this,arguments)}function II(){return II=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=xm(t),a=[],o=[],s=On(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,jx(i.localStore,Eg(f[0]));case 11:l=e.sent,h=On(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,mI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Fx(i.localStore,c);case 36:return y=e.sent,e.next=39,jx(i.localStore,y);case 39:return l=e.sent,e.next=42,BE(i,SI(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),II.apply(this,arguments)}function SI(e){return gg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function TI(e){var t=xm(e);return xm(xm(t.localStore).persistence).Fs()}function CI(e,t,n,r){return NI.apply(this,arguments)}function NI(){return NI=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=xm(t)).da){e.next=3;break}return e.abrupt("return",void mm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ux(a.localStore,Ag(o[0]));case 10:return s=e.sent,u=Tk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,fI(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ox(a.localStore,n,!0);case 17:return oI(a,n,i),e.abrupt("break",20);case 19:bm();case 20:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function AI(e,t,n){return DI.apply(this,arguments)}function DI(){return DI=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=RI(t)).da){e.next=45;break}a=On(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ra.has(s)){e.next=10;break}return mm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Fx(i.localStore,s);case 12:return u=e.sent,e.next=15,jx(i.localStore,u);case 15:return c=e.sent,e.next=18,BE(i,SI(u),c.targetId,!1);case 18:D_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=On(r),e.prev=30,h=ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Ox(i.localStore,t,!1).then((function(){R_(i.remoteStore,t),oI(i,t)})).catch(Zw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),DI.apply(this,arguments)}function RI(e){var t=xm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$E.bind(null,t),t.sa.zo=IE.bind(null,t.eventManager),t.sa.wa=SE.bind(null,t.eventManager),t}function PI(e){var t=xm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eI.bind(null,t),t}function jI(e,t,n){var r=xm(e);(function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=xm(e),r=zk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(RE(i)),a=new DE(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,fI(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=xm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(gm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var OI=function(){function e(){Ze(this,e),this.synchronizeTabs=!1}return tt(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=k_(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return Sx(this.persistence,new Ex,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Zx(t_.Yi,this.M)}},{key:"ga",value:function(e){return new f_}},{key:"terminate",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),LI=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return tt(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(pt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,PI(this.Ta.syncEngine);case 6:return e.next=8,Q_(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return Sx(this.persistence,new Ex,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new rx(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vw.withCacheSize(this.cacheSizeBytes):Vw.DEFAULT;return new gx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,y_(),g_(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new f_}}]),n}(OI),MI=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return tt(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(pt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof l_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:bI.bind(null,r),Br:CI.bind(null,r),Lr:AI.bind(null,r),Fs:TI.bind(null,r),Fr:gI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xI(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=y_();if(!l_.vt(t))throw new Em(_m.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new l_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(LI),FI=function(){function e(){Ze(this,e)}return tt(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return YE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),e.next=12,lE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bE}},{key:"createDatastore",value:function(e){var t,n=k_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new m_(t));return function(e,t,n,r){return new E_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return YE(o.syncEngine,e,0)},a=d_.vt()?new d_:new h_,new S_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new FE(e,t,n,r,i,a);return o&&(s.da=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xm(t),mm("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,N_(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function UI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return J(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var VI=function(){function e(t){Ze(this,e),this.observer=t,this.muted=!1}return tt(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),BI=function(){function e(t,n){var r=this;Ze(this,e),this.Ra=t,this.M=n,this.metadata=new Im,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return tt(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=J(ee().mark((function e(){var t,n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new NE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zI=function(){function e(t){Ze(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return tt(e,[{key:"lookup",value:function(){var e=J(ee().mark((function e(t){var n,r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Em(_m.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=Yk(r.M)+"/documents",a={documents:n.map((function(e){return Wk(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Zk(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());wm(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new fk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=cy.fromPath(t);n.mutations.push(new hk(r,n.precondition(r)))})),e.next=7,function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xm(t),i=Yk(r.M)+"/documents",a={writes:n.map((function(e){return eb(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bm();t=Bm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Em(_m.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$g.updateTime(t):$g.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bm.min()))throw new Em(_m.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $g.updateTime(t)}return $g.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),qI=function(){function e(t,n,r,i,a){Ze(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new b_(this.asyncQueue,"transaction_retry")}return tt(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new zI(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!oy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!pk(t)}return!1}}]),e}(),KI=function(){function e(t,n,r,i){var a=this;Ze(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hm.UNAUTHENTICATED,this.clientId=Lm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return mm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return tt(e,[{key:"getConfiguration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Em(_m.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Im;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=vE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function WI(e,t){return GI.apply(this,arguments)}function GI(){return GI=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),mm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Tx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function HI(e,t){return QI.apply(this,arguments)}function QI(){return QI=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,YI(t);case 3:return r=e.sent,mm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return uE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return uE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function YI(e){return $I.apply(this,arguments)}function $I(){return $I=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return mm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,WI(t,new OI);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),$I.apply(this,arguments)}function XI(e){return JI.apply(this,arguments)}function JI(){return JI=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return mm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,HI(t,new FI);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function ZI(e){return YI(e).then((function(e){return e.persistence}))}function eS(e){return YI(e).then((function(e){return e.localStore}))}function tS(e){return XI(e).then((function(e){return e.remoteStore}))}function nS(e){return XI(e).then((function(e){return e.syncEngine}))}function rS(e){return iS.apply(this,arguments)}function iS(){return iS=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=UE.bind(null,n.syncEngine),r.onUnlisten=qE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VI({next:function(a){t.enqueueAndForget((function(){return _E(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Em(_m.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Em(_m.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new CE(kg(n.path),a,{includeMetadataChanges:!0,ku:!0});return wE(e,o)},i.next=3,rS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function oS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new VI({next:function(n){t.enqueueAndForget((function(){return _E(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Em(_m.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new CE(n,a,{includeMetadataChanges:!0,ku:!0});return wE(e,o)},i.next=3,rS(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var sS=new Map;function uS(e,t,n){if(!n)throw new Em(_m.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function cS(e,t,n,r){if(!0===t&&!0===r)throw new Em(_m.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function lS(e){if(!cy.isDocumentKey(e))throw new Em(_m.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function fS(e){if(cy.isDocumentKey(e))throw new Em(_m.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function hS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bm()}function dS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Em(_m.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hS(e);throw new Em(_m.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function pS(e,t){if(t<=0)throw new Em(_m.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var vS=function(){function e(t){var n;if(Ze(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Em(_m.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Em(_m.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,cS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return tt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),mS=function(){function e(t,n,r){Ze(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,t instanceof ay?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Em(_m.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ay(e.options.projectId)}(t))}return tt(e,[{key:"app",get:function(){if(!this._app)throw new Em(_m.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Em(_m.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tm;switch(e.type){case"gapi":var t=e.client;return wm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Dm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Em(_m.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sS.get(e);t&&(mm("ComponentProvider","Removing Datastore"),sS.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function yS(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=dS(e,mS))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&gm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=hm.MOCK_USER;else{o=Kn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Em(_m.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new hm(u)}e._authCredentials=new Cm(new Sm(o,s))}}var gS=function(){function e(t,n,r){Ze(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return tt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bS(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kS=function(){function e(t,n,r){Ze(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return tt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bS=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this,e,r,kg(i)))._path=i,a.type="collection",a}return tt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gS(this.firestore,null,new cy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kS);function wS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fr(e),uS("collection","path",t),e instanceof mS){var a=Gm.fromString.apply(Gm,[t].concat(r));return fS(a),new bS(e,null,a)}if(!(e instanceof gS||e instanceof bS))throw new Em(_m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gm.fromString.apply(Gm,[t].concat(r)));return fS(o),new bS(e.firestore,null,o)}function xS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fr(e),1===arguments.length&&(t=Lm.R()),uS("doc","path",t),e instanceof mS){var a=Gm.fromString.apply(Gm,[t].concat(r));return lS(a),new gS(e,null,new cy(a))}if(!(e instanceof gS||e instanceof bS))throw new Em(_m.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gm.fromString.apply(Gm,[t].concat(r)));return lS(o),new gS(e.firestore,e instanceof bS?e.converter:null,new cy(o))}function _S(e,t){return e=fr(e),t=fr(t),(e instanceof gS||e instanceof bS)&&(t instanceof gS||t instanceof bS)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ES(e,t){return e=fr(e),t=fr(t),e instanceof kS&&t instanceof kS&&e.firestore===t.firestore&&Sg(e._query,t._query)&&e.converter===t.converter}var IS=function(){function e(){var t=this;Ze(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new b_(this,"async_queue_retry"),this.Qa=function(){var e=g_();e&&mm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=g_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return tt(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=g_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new Im;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Hb(e.t0)){e.next=12;break}throw e.t0;case 12:mm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ym("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=pE.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&bm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=On(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=On(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function SS(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=On(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var TS=function(){function e(){Ze(this,e),this._progressObserver={},this._taskCompletionResolver=new Im,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return tt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),CS=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new IS,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return tt(n,[{key:"_terminate",value:function(){return this._firestoreClient||AS(this),this._firestoreClient.terminate()}}]),n}(mS);function NS(e){return e._firestoreClient||AS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function AS(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new iy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new KI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function DS(e,t,n){var r=new Im;return e.asyncQueue.enqueue(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,WI(e,n);case 3:return i.next=5,HI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_m.FAILED_PRECONDITION||e.code===_m.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function RS(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZI(e);case 2:return n=t.sent,t.next=5,tS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=xm(e);return t.wu.delete(0),T_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(NS(e=dS(e,CS)))}function PS(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ZI(e);case 2:return n=t.sent,t.next=5,tS(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=xm(t)).wu.add(0),e.next=4,N_(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(NS(e=dS(e,CS)))}function jS(e,t){var n=NS(e=dS(e,CS)),r=new TS;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new BI(e,t)}(function(e,t){if(e instanceof Uint8Array)return UI(e,t);if(e instanceof ArrayBuffer)return UI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,k_(t));e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jI,t.next=3,nS(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function OS(e,t){return function(e,t){return e.asyncQueue.enqueue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=xm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,eS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(NS(e=dS(e,CS)),t).then((function(t){return t?new kS(e,null,t.query):null}))}function LS(e){if(e._initialized||e._terminated)throw new Em(_m.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var MS=function(){function e(){Ze(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Em(_m.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qm(n)}return tt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var FS=function(){function e(t){Ze(this,e),this._byteString=t}return tt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($m.fromBase64String(t))}catch(t){throw new Em(_m.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($m.fromUint8Array(t))}}]),e}(),US=tt((function e(t){Ze(this,e),this._methodName=t})),VS=function(){function e(t,n){if(Ze(this,e),!isFinite(t)||t<-90||t>90)throw new Em(_m.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Em(_m.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return tt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mm(this._lat,e._lat)||Mm(this._long,e._long)}}]),e}(),BS=/^__.*__$/,zS=function(){function e(t,n,r){Ze(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return tt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ak(e,this.data,this.fieldMask,t,this.fieldTransforms):new ik(e,this.data,t,this.fieldTransforms)}}]),e}(),qS=function(){function e(t,n,r){Ze(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return tt(e,[{key:"toMutation",value:function(e,t){return new ak(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function KS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bm()}}var WS=function(){function e(t,n,r,i,a,o){Ze(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return tt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return fT(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(KS(this.ec)&&BS.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),GS=function(){function e(t,n,r){Ze(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||k_(t)}return tt(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new WS({ec:e,methodName:t,hc:n,path:Qm.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function HS(e){var t=e._freezeSettings(),n=k_(e._databaseId);return new GS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QS(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);sT("Data must be an object, but it was:",o,r);var s,u,c=aT(r,o);if(a.merge)s=new Ym(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=On(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=uT(t,d,n);if(!o.contains(p))throw new Em(_m.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));hT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Ym(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new zS(new Dy(c),s,u)}var YS=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(US);function $S(e,t,n){return new WS({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var XS=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"_toFieldTransform",value:function(e){return new Qg(e.path,new Vg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(US),JS=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e)).fc=r,i}return tt(n,[{key:"_toFieldTransform",value:function(e){var t=$S(this,e,!0),n=this.fc.map((function(e){return iT(e,t)})),r=new Bg(n);return new Qg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(US),ZS=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e)).fc=r,i}return tt(n,[{key:"_toFieldTransform",value:function(e){var t=$S(this,e,!0),n=this.fc.map((function(e){return iT(e,t)})),r=new qg(n);return new Qg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(US),eT=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e)).dc=r,i}return tt(n,[{key:"_toFieldTransform",value:function(e){var t=new Wg(e.M,Og(e.M,this.dc));return new Qg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(US);function tT(e,t,n,r){var i=e.lc(1,t,n);sT("Data must be an object, but it was:",i,r);var a=[],o=Dy.empty();qm(r,(function(e,r){var s=lT(t,e,n);r=fr(r);var u=i.oc(s);if(r instanceof YS)a.push(s);else{var c=iT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Ym(a);return new qS(o,s,i.fieldTransforms)}function nT(e,t,n,r,i,a){var o=e.lc(1,t,n),s=[uT(t,r,n)],u=[i];if(a.length%2!=0)throw new Em(_m.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(uT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Dy.empty(),h=s.length-1;h>=0;--h)if(!hT(l,s[h])){var d=s[h],p=u[h];p=fr(p);var v=o.oc(d);if(p instanceof YS)l.push(d);else{var m=iT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ym(l);return new qS(f,y,o.fieldTransforms)}function rT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return iT(n,e.lc(r?4:3,t))}function iT(e,t){if(oT(e=fr(e)))return sT("Unsupported field value:",t,e),aT(e,t);if(e instanceof US)return function(e,t){if(!KS(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=On(e);try{for(a.s();!(n=a.n()).done;){var o=iT(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=fr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Og(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vm.fromDate(e);return{timestampValue:Uk(t.M,n)}}if(e instanceof Vm){var r=new Vm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Uk(t.M,r)}}if(e instanceof VS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof FS)return{bytesValue:Vk(t.M,e._byteString)};if(e instanceof gS){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:qk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(hS(e)))}(e,t)}function aT(e,t){var n={};return Km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qm(e,(function(e,r){var i=iT(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vm||e instanceof VS||e instanceof FS||e instanceof gS||e instanceof US)}function sT(e,t,n){if(!oT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=hS(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function uT(e,t,n){if((t=fr(t))instanceof MS)return t._internalPath;if("string"==typeof t)return lT(e,t);throw fT("Field path arguments must be of type string or ",e,!1,void 0,n)}var cT=new RegExp("[~\\*/\\[\\]]");function lT(e,t,n){if(t.search(cT)>=0)throw fT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ln(MS,le(t.split(".")))._internalPath}catch(r){throw fT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function fT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Em(_m.INVALID_ARGUMENT,s+e+u)}function hT(e,t){return e.some((function(e){return e.isEqual(t)}))}var dT=function(){function e(t,n,r,i,a){Ze(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return tt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gS(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new pT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),pT=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"data",value:function(){return mt(pt(n.prototype),"data",this).call(this)}}]),n}(dT);function vT(e,t){return"string"==typeof t?lT(e,t):t instanceof MS?t._internalPath:t._delegate._internalPath}var mT=function(){function e(t,n){Ze(this,e),this.hasPendingWrites=t,this.fromCache=n}return tt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),yT=function(e){gt(n,e);var t=_t(n);function n(e,r,i,a,o,s){var u;return Ze(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return tt(n,[{key:"exists",value:function(){return mt(pt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new gT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(dT),gT=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return mt(pt(n.prototype),"data",this).call(this,e)}}]),n}(yT),kT=function(){function e(t,n,r,i){Ze(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new mT(i.hasPendingWrites,i.fromCache),this.query=r}return tt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new gT(n._firestore,n._userDataWriter,r.key,r,new mT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Em(_m.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new gT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new gT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:bT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function bT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bm()}}function wT(e,t){return e instanceof yT&&t instanceof yT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kT&&t instanceof kT&&e._firestore===t._firestore&&ES(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function xT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Em(_m.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _T=tt((function e(){Ze(this,e)}));function ET(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var IT=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return tt(n,[{key:"_apply",value:function(e){var t=HS(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Em(_m.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){LT(o,a);var u,c=[],l=On(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(OT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=OT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||LT(o,a),s=rT(n,"where",o,"in"===a||"not-in"===a);var h=rg.create(i,a,s);return function(e,t){if(t.S()){var n=wg(e);if(null!==n&&!n.isEqual(t.field))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=bg(e);null!==r&&MT(e,t.field,r)}var i=function(e,t){var n,r=On(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Em(_m.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Em(_m.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new kS(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(_T);var ST=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return tt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Em(_m.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Em(_m.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dg(t,n);return function(e,t){if(null===bg(e)){var n=wg(e);null!==n&&MT(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new kS(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new yg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(_T);var TT=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return tt(n,[{key:"_apply",value:function(e){return new kS(e.firestore,e.converter,Ig(e._query,this.yc,this.Ic))}}]),n}(_T);var CT=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return tt(n,[{key:"_apply",value:function(e){var t=jT(e,this.type,this.Tc,this.Ec);return new kS(e.firestore,e.converter,function(e,t){return new yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(_T);function NT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CT("startAt",t,!0)}function AT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CT("startAfter",t,!1)}var DT=function(e){gt(n,e);var t=_t(n);function n(e,r,i){var a;return Ze(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return tt(n,[{key:"_apply",value:function(e){var t=jT(e,this.type,this.Tc,this.Ec);return new kS(e.firestore,e.converter,function(e,t){return new yg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(_T);function RT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DT("endBefore",t,!1)}function PT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DT("endAt",t,!0)}function jT(e,t,n,r){if(n[0]=fr(n[0]),n[0]instanceof dT)return function(e,t,n,r,i){if(!r)throw new Em(_m.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=On(_g(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(ky(t,r.key));else{var c=r.data.field(u.field);if(ty(c))throw new Em(_m.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Em(_m.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new hg(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=HS(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Em(_m.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Em(_m.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!xg(e)&&-1!==c.indexOf("/"))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Gm.fromString(c));if(!cy.isDocumentKey(l))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new cy(l);s.push(ky(t,f))}else{var h=rT(n,r,c);s.push(h)}}return new hg(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function OT(e,t,n){if("string"==typeof(n=fr(n))){if(""===n)throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xg(t)&&-1!==n.indexOf("/"))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gm.fromString(n));if(!cy.isDocumentKey(r))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ky(e,new cy(r))}if(n instanceof gS)return ky(e,n._key);throw new Em(_m.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(hS(n),"."))}function LT(e,t){if(!Array.isArray(e)||0===e.length)throw new Em(_m.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Em(_m.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function MT(e,t,n){if(!n.isEqual(t))throw new Em(_m.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var FT={maxAttempts:5},UT=function(){function e(){Ze(this,e)}return tt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ey(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return qm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new VS(Zm(e.latitude),Zm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ny(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ry(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Jm(e);return new Vm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gm.fromString(e);wm(db(n));var r=new ay(n.get(1),n.get(3)),i=new cy(n.popFirst(5));return r.isEqual(t)||ym("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function VT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var BT=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).firestore=e,r}return tt(n,[{key:"convertBytes",value:function(e){return new FS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gS(this.firestore,null,t)}}]),n}(UT),zT=function(){function e(t,n){Ze(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=HS(t)}return tt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qT(e,this._firestore),i=VT(r.converter,t,n),a=QS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,$g.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=fr(t))||t instanceof MS?nT(this._dataReader,"WriteBatch.update",i._key,t,n,o):tT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,$g.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qT(e,this._firestore);return this._mutations=this._mutations.concat(new fk(t._key,$g.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Em(_m.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qT(e,t){if((e=fr(e)).firestore!==t)throw new Em(_m.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var KT=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).firestore=e,r}return tt(n,[{key:"convertBytes",value:function(e){return new FS(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gS(this.firestore,null,t)}}]),n}(UT);function WT(e){e=dS(e,gS);var t=dS(e.firestore,CS),n=NS(t),r=new KT(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=xm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Em(_m.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=vE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new yT(t,r,e._key,n,new mT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function GT(e){e=dS(e,kS);var t=dS(e.firestore,CS),n=NS(t),r=new KT(t);return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mx(t,n,!0);case 3:i=e.sent,a=new OE(n,i._i),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=vE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,eS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new kT(t,r,e,n)}))}function HT(e,t,n){e=dS(e,gS);var r=dS(e.firestore,CS),i=VT(e.converter,t,n);return XT(r,[QS(HS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$g.none())])}function QT(e,t,n){e=dS(e,gS);for(var r=dS(e.firestore,CS),i=HS(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return XT(r,[("string"==typeof(t=fr(t))||t instanceof MS?nT(i,"updateDoc",e._key,t,n,o):tT(i,"updateDoc",e._key,t)).toMutation(e._key,$g.exists(!0))])}function YT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=fr(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||SS(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(SS(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof gS)l=dS(e.firestore,CS),f=kg(e._key.path),c={next:function(t){n[u]&&n[u](JT(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=dS(e,kS);l=dS(p.firestore,CS),f=p._query;var v=new KT(l);c={next:function(e){n[u]&&n[u](new kT(l,v,p,e))},error:n[u+1],complete:n[u+2]},xT(e._query)}return function(e,t,n,r){var i=new VI(r),a=new CE(t,i,n);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wE,t.next=3,rS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_E,t.next=3,rS(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NS(l),f,h,c)}function $T(e,t){return function(e,t){var n=new VI(t);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xm(e).bu.add(t),t.next()},t.next=3,rS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){xm(e).bu.delete(t)},t.next=3,rS(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(NS(e=dS(e,CS)),SS(t)?t:{next:t})}function XT(e,t){return function(e,t){var n=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=WE,r.next=3,nS(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(NS(e),t)}function JT(e,t,n){var r=n.docs.get(t._key),i=new KT(e);return new yT(e,i,t._key,r,new mT(n.hasPendingWrites,n.fromCache),t.converter)}var ZT=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,r))._firestore=e,i}return tt(n,[{key:"get",value:function(e){var t=this,r=qT(e,this._firestore),i=new KT(this._firestore);return mt(pt(n.prototype),"get",this).call(this,e).then((function(e){return new yT(t._firestore,i,r._key,e._document,new mT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ze(this,e),this._firestore=t,this._transaction=n,this._dataReader=HS(t)}return tt(e,[{key:"get",value:function(e){var t=this,n=qT(e,this._firestore),r=new BT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bm();var i=e[0];if(i.isFoundDocument())return new dT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dT(t._firestore,r,n._key,null,n.converter);throw bm()}))}},{key:"set",value:function(e,t,n){var r=qT(e,this._firestore),i=VT(r.converter,t,n),a=QS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=fr(t))||t instanceof MS?nT(this._dataReader,"Transaction.update",i._key,t,n,o):tT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function eC(e,t,n){e=dS(e,CS);var r=Object.assign(Object.assign({},FT),n);return function(e){if(e.maxAttempts<1)throw new Em(_m.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){var a;return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return XI(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new qI(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(NS(e),(function(n){return t(new ZT(e,n))}),r)}function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new JS("arrayUnion",t)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZS("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dm=e}(ai),Jr(new hr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new CS(i,new Nm(e.getProvider("auth-internal")),new Pm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),fi(fm,"3.4.9",e),fi(fm,"3.4.9","esm2017")}();function rC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Em("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iC(){if("undefined"===typeof Uint8Array)throw new Em("unimplemented","Uint8Arrays are not available in this environment.")}function aC(){if("undefined"==typeof atob)throw new Em("unimplemented","Blobs are unavailable in Firestore in this environment.")}var oC=function(){function e(t){Ze(this,e),this._delegate=t}return tt(e,[{key:"toBase64",value:function(){return aC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return iC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return aC(),new e(FS.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return iC(),new e(FS.fromUint8Array(t))}}]),e}();function sC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=On(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uC=function(){function e(){Ze(this,e)}return tt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){LS(e=dS(e,CS));var n=NS(e),r=e._freezeSettings(),i=new FI;return DS(n,i,new LI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){LS(e=dS(e,CS));var t=NS(e),n=e._freezeSettings(),r=new FI;return DS(t,r,new MI(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Em(_m.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Im;return e._queue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kb.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Kb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),cC=function(){function e(t,n,r){var i=this;Ze(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ay||(this._appCompat=t)}return tt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||gm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yS(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return RS(this._delegate)}},{key:"disableNetwork",value:function(){return PS(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&cS("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Im;return e.asyncQueue.enqueueAndForget(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=nI,n.next=3,nS(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(NS(e=dS(e,CS)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return $T(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Em("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _C(this,wS(this._delegate,e))}catch(KC){throw vC(KC,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new pC(this,xS(this._delegate,e))}catch(KC){throw vC(KC,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new bC(this,function(e,t){if(e=dS(e,mS),uS("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Em(_m.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new kS(e,null,function(e){return new yg(Gm.emptyPath(),e)}(t))}(this._delegate,e))}catch(KC){throw vC(KC,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return eC(this._delegate,(function(n){return e(new fC(t,n))}))}},{key:"batch",value:function(){var e=this;return NS(this._delegate),new hC(new zT(this._delegate,(function(t){return XT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return jS(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return OS(this._delegate,e).then((function(e){return e?new bC(t,e):null}))}}]),e}(),lC=function(e){gt(n,e);var t=_t(n);function n(e){var r;return Ze(this,n),(r=t.call(this)).firestore=e,r}return tt(n,[{key:"convertBytes",value:function(e){return new oC(new FS(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pC.forKey(t,this.firestore,null)}}]),n}(UT);var fC=function(){function e(t,n){Ze(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return tt(e,[{key:"get",value:function(e){var t=this,n=EC(e);return this._delegate.get(n).then((function(e){return new gC(t._firestore,new yT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=EC(e);return n?(rC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EC(e);return this._delegate.delete(t),this}}]),e}(),hC=function(){function e(t){Ze(this,e),this._delegate=t}return tt(e,[{key:"set",value:function(e,t,n){var r=EC(e);return n?(rC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=EC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=EC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),dC=function(){function e(t,n,r){Ze(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return tt(e,[{key:"fromFirestore",value:function(e,t){var n=new gT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new lC(t),n),i.set(n,a)),a}}]),e}();dC.INSTANCES=new WeakMap;var pC=function(){function e(t,n){Ze(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return tt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _C(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _C(this.firestore,wS(this._delegate,e))}catch(KC){throw vC(KC,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=fr(e))instanceof gS&&_S(this._delegate,e)}},{key:"set",value:function(e,t){t=rC("DocumentReference.set",t);try{return t?HT(this._delegate,e,t):HT(this._delegate,e)}catch(KC){throw vC(KC,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?QT(this._delegate,e):QT.apply(void 0,[this._delegate,e,t].concat(r))}catch(KC){throw vC(KC,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return XT(dS(e.firestore,CS),[new fk(e._key,$g.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mC(n),a=yC(n,(function(t){return new gC(e.firestore,new yT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return YT(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?WT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dS(e,gS);var t=dS(e.firestore,CS);return aS(NS(t),e._key,{source:"server"}).then((function(n){return JT(t,e,n)}))}(this._delegate):function(e){e=dS(e,gS);var t=dS(e.firestore,CS);return aS(NS(t),e._key).then((function(n){return JT(t,e,n)}))}(this._delegate),t.then((function(e){return new gC(n.firestore,new yT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Em("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new gS(n._delegate,r,new cy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new gS(n._delegate,r,t))}}]),e}();function vC(e,t,n){return e.message=e.message.replace(t,n),e}function mC(e){var t,n=On(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function yC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sC(e[0])?e[0]:sC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gC=function(){function e(t,n){Ze(this,e),this._firestore=t,this._delegate=n}return tt(e,[{key:"ref",get:function(){return new pC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return wT(this._delegate,e._delegate)}}]),e}(),kC=function(e){gt(n,e);var t=_t(n);function n(){return Ze(this,n),t.apply(this,arguments)}return tt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||bm()}(void 0!==t),t}}]),n}(gC),bC=function(){function e(t,n){Ze(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return tt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ET(this._delegate,function(e,t,n){var r=t,i=vT("where",e);return new IT(i,r,n)}(t,n,r)))}catch(KC){throw vC(KC,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ET(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vT("orderBy",e);return new ST(n,t)}(t,n)))}catch(KC){throw vC(KC,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ET(this._delegate,function(e){return pS("limit",e),new TT("limit",e,"F")}(t)))}catch(KC){throw vC(KC,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ET(this._delegate,function(e){return pS("limitToLast",e),new TT("limitToLast",e,"L")}(t)))}catch(KC){throw vC(KC,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ET(this._delegate,NT.apply(void 0,arguments)))}catch(KC){throw vC(KC,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ET(this._delegate,AT.apply(void 0,arguments)))}catch(KC){throw vC(KC,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ET(this._delegate,RT.apply(void 0,arguments)))}catch(KC){throw vC(KC,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ET(this._delegate,PT.apply(void 0,arguments)))}catch(KC){throw vC(KC,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return ES(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?GT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=dS(e,kS);var t=dS(e.firestore,CS),n=NS(t),r=new KT(t);return oS(n,e._query,{source:"server"}).then((function(n){return new kT(t,r,e,n)}))}(this._delegate):function(e){e=dS(e,kS);var t=dS(e.firestore,CS),n=NS(t),r=new KT(t);return xT(e._query),oS(n,e._query).then((function(n){return new kT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new xC(n.firestore,new kT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mC(n),a=yC(n,(function(t){return new xC(e.firestore,new kT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return YT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wC=function(){function e(t,n){Ze(this,e),this._firestore=t,this._delegate=n}return tt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new kC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),xC=function(){function e(t,n){Ze(this,e),this._firestore=t,this._delegate=n}return tt(e,[{key:"query",get:function(){return new bC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new kC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new kC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return wT(this._delegate,e._delegate)}}]),e}(),_C=function(e){gt(n,e);var t=_t(n);function n(e,r){var i;return Ze(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return tt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new pC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new pC(this.firestore,void 0===e?xS(this._delegate):xS(this._delegate,e))}catch(KC){throw vC(KC,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=dS(e.firestore,CS),r=xS(e),i=VT(e.converter,t);return XT(n,[QS(HS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$g.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return _S(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(dC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(bC);function EC(e){return dS(e,gS)}var IC=function(){function e(){Ze(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ln(MS,n)}return tt(e,[{key:"isEqual",value:function(e){return(e=fr(e))instanceof MS&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Qm.keyField().canonicalString())}}]),e}(),SC=function(){function e(t){Ze(this,e),this._delegate=t}return tt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new XS("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new YS("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new eT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),TC={Firestore:cC,GeoPoint:VS,Timestamp:Vm,Blob:oC,Transaction:fC,WriteBatch:hC,DocumentReference:pC,DocumentSnapshot:gC,Query:bC,QueryDocumentSnapshot:kC,QuerySnapshot:xC,CollectionReference:_C,FieldPath:IC,FieldValue:SC,setLogLevel:function(e){!function(e){pm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new hr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},TC)))}(e,(function(e,t){return new cC(e,t,new uC)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(Oi);var CC=Oi.initializeApp({apiKey:"AIzaSyCaNUyeaFtdRZOkLERDXt4vnRfMRork1bs",authDomain:"canoe-app-751af.firebaseapp.com",projectId:"canoe-app-751af",storageBucket:"canoe-app-751af.appspot.com",messagingSenderId:"1064605653341",appId:"1:1064605653341:web:a2a7b3dbe92082ff88b0b4",measurementId:"G-015ENNK814"}).firestore(),NC=Oi.auth();var AC=function(){return(0,ne.jsx)("div",{style:{display:"flex",justifyContent:"right",backgroundColor:"#FAFAFA",zIndex:"10"},children:(0,ne.jsx)(Se,{style:{padding:"20px",fontSize:"15px",borderRadius:"0",fontWeight:"600"},onClick:function(){return NC.signOut()},children:"Sign Out"})})};var DC=function(e){var t=e.scroll,n=c((0,r.useState)(""),2),i=n[0],a=n[1];function o(){return(o=J(ee().mark((function e(n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,CC.collection("ChatRoom").add({createdOn:Oi.firestore.FieldValue.serverTimestamp(),message:i,sendBy:"Admin"});case 3:a(""),t.current.scrollIntoView({behavior:"smooth"});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,ne.jsx)("div",{children:(0,ne.jsx)("form",{onSubmit:function(e){return o.apply(this,arguments)},children:(0,ne.jsxs)("div",{className:"sendMsg",children:[(0,ne.jsx)("input",{style:{marginTop:"200px",marginLeft:"300px"},placeholder:"Message...",type:"text",value:i,onChange:function(e){return a(e.target.value)}}),(0,ne.jsx)(Se,{style:{marginTop:"200px",marginLeft:"10px"},type:"submit",children:"Send"})]})})})};var RC=function(){return(0,ne.jsx)("div",{style:{display:"flex",justifyContent:"center",height:"100vh",alignItems:"center"},children:(0,ne.jsx)(Se,{style:{padding:"30px",fontSize:"20px",borderRadius:"0",fontWeight:"600"},onClick:function(){var e=new Oi.auth.GoogleAuthProvider;NC.signInWithPopup(e)},children:"Sign In With Google"})})};function PC(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(KC){a(KC)}}function s(e){try{u(r.throw(e))}catch(KC){a(KC)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function jC(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(KC){a=[6,KC],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var OC=function(){return OC=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},OC.apply(this,arguments)},LC=function(e){return{loading:void 0===e||null===e,value:e}},MC=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return OC(OC({},e),{error:t.error,loading:!1,value:void 0});case"reset":return LC(t.defaultValue);case"value":return OC(OC({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),LC(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},s=function(e){a({type:"error",error:e})},u=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:s,setValue:u,value:i.value}}),[i.error,i.loading,o,s,u,i.value])},FC=function(e,t){var n=MC((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,s=n.setValue,u=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return fr(e).onAuthStateChanged(t,n,r)}(e,(function(e){return PC(void 0,void 0,void 0,(function(){var n;return jC(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return s(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[u,a,i];return(0,r.useMemo)((function(){return c}),c)};var UC=function(){var e=(0,r.useRef)(),t=c((0,r.useState)([]),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){CC.collection("ChatRoom").orderBy("sendBy").limit(50).onSnapshot((function(e){i(e.docs.map((function(e){return e.data()})))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(AC,{}),(0,ne.jsx)("div",{className:"msgs",children:n.map((function(e){var t=e.id,n=e.message,r=e.photoURL;return(0,ne.jsx)("div",{children:(0,ne.jsxs)("div",{children:[(0,ne.jsx)("img",{src:r,alt:""}),(0,ne.jsx)("p",{children:n})]},t)})}))}),(0,ne.jsx)(DC,{scroll:e}),(0,ne.jsx)("div",{ref:e})]})};var VC=function(){return c(FC(NC),1)[0],(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)(UC,{})]})},BC=function(){var e=c((0,r.useState)([]),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){fetch("http://localhost:4001/EnquiryShow").then((function(e){e.json().then((function(e){n(e)}))}))}),[]),(0,ne.jsxs)("div",{children:[(0,ne.jsx)(oe,{}),(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{}),(0,ne.jsxs)("div",{class:"container-fluid",children:[(0,ne.jsx)("div",{class:"d-sm-flex align-items-center justify-content-between mb-4",children:(0,ne.jsx)("h1",{class:"h3 mb-0 text-gray-800",children:"Alerts"})}),(0,ne.jsxs)("table",{id:"example",class:"table table-striped table-bordered",style:{width:"60%",marginLeft:"280px"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{class:"bl5",children:"Serial No"}),(0,ne.jsx)("th",{class:"bl5",children:"Name"}),(0,ne.jsx)("th",{class:"bl5",children:"Email"}),(0,ne.jsx)("th",{class:"bl5",children:"Messages"})]})}),t.map((function(e,t){return(0,ne.jsx)("tbody",{children:(0,ne.jsxs)("tr",{style:{fontSize:"15px",fontStyle:"normal",fontFamily:"Times New Roman"},children:[(0,ne.jsx)("th",{scope:"row",children:t+1}),(0,ne.jsx)("td",{children:e.Name}),(0,ne.jsx)("td",{children:e.Email}),(0,ne.jsx)("td",{children:e.Message})]},e._id)})}))]})]}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)("br",{}),(0,ne.jsx)(re,{})]})};var zC=function(){return(0,ne.jsx)("div",{children:(0,ne.jsx)(Y,{children:(0,ne.jsxs)(K,{children:[(0,ne.jsx)(z,{exact:!0,path:"/",element:(0,ne.jsx)(ae,{})}),(0,ne.jsx)(z,{exact:!0,path:"/chat",element:(0,ne.jsx)(UC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/SignOut",element:(0,ne.jsx)(AC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/SignIn",element:(0,ne.jsx)(RC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/ChatApp",element:(0,ne.jsx)(VC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/Sidebar",element:(0,ne.jsx)(oe,{})}),(0,ne.jsx)(z,{exact:!0,path:"/SendMessage",element:(0,ne.jsx)(DC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/Location",element:(0,ne.jsx)(se,{})}),(0,ne.jsx)(z,{exact:!0,path:"/BlockDriver",element:(0,ne.jsx)(ue,{})}),(0,ne.jsx)(z,{exact:!0,path:"/uploadD",element:(0,ne.jsx)(Dn,{})}),(0,ne.jsx)(z,{exact:!0,path:"/Alld",element:(0,ne.jsx)(Rn,{})}),(0,ne.jsx)(z,{exact:!0,path:"/AllAlerts",element:(0,ne.jsx)(Pn,{})}),(0,ne.jsx)(z,{exact:!0,path:"/AddAlerts",element:(0,ne.jsx)(jn,{})}),(0,ne.jsx)(z,{exact:!0,path:"/page",element:(0,ne.jsx)(ie,{})}),(0,ne.jsx)(z,{exact:!0,path:"/chat",element:(0,ne.jsx)(UC,{})}),(0,ne.jsx)(z,{exact:!0,path:"/RegisterDriver",element:(0,ne.jsx)(An,{})}),(0,ne.jsx)(z,{exact:!0,path:"/Enquiry",element:(0,ne.jsx)(BC,{})})]})})})},qC=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,ne.jsx)(r.StrictMode,{children:(0,ne.jsx)(zC,{})})),qC()}()}();
//# sourceMappingURL=main.3c7452c8.js.map